{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\contractManagement\\equipmentEntryForInspection\\view.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\contractManagement\\equipmentEntryForInspection\\view.vue","mtime":1684246187981},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJaW1wb3J0ICogYXMgYXBpIGZyb20gIkAvYXBpL3F1YWxpdHkiOw0KCWltcG9ydCAqIGFzIHByb2FwaSBmcm9tICJAL2FwaS9wcm9qZWN0LmpzIjsNCglpbXBvcnQgew0KCQljb252ZXJ0T3B0aW9ucywNCgkJY3JlYXRlUHJvamVjdEluZm8sDQoJCWdldFF1ZXJ5VmFyaWFibGUNCgl9IGZyb20gIkAvdXRpbHMvZm9ybWF0LmpzIjsNCglpbXBvcnQgYXR0YWNobGlzdCBmcm9tICIuLi8uLi9jb21tb24vYXR0YWNobGlzdCINCglpbXBvcnQgcHJvamVjdGluZm8gZnJvbSAiLi4vLi4vY29tbW9uL3Byb2plY3RpbmZvLnZ1ZSINCgkNCglleHBvcnQgZGVmYXVsdCB7DQoJCXByb3BzOiBbJ2RldGFpbFJvdyddLA0KCQlkYXRhKCkgew0KCQkJcmV0dXJuIHsNCgkJCQkNCgkJCQliYXNlSW5mbzogew0KCQkJCQlidWlsZFNlY3Rpb246IDEsDQoJCQkJCWJ1aWxkU2VjdGlvbk5hbWU6ICcyMzXlm73pgZPmna3lt57oh7Por7jmmqjlhazot6/okKflsbHmsrPkuIroh7Por7jmmqjlronljY7mrrXmlLnlu7rlt6XnqIsnLA0KCQkJCQljb250cmFjdENvZGU6ICcyMzVTSlNHMDEnLA0KCQkJCQlidWlsZENvbXBhbnk6ICfkuK3kuqTkuIrmtbfoiKrpgZPlsYDmnInpmZDlhazlj7jjgIHkuK3lm73kuqTpgJrlu7rorr7ogqHku73mnInpmZDlhazlj7jjgIHmtZnmsZ/or7jlronlu7rorr7pm4blm6LmnInpmZDlhazlj7jjgIHmtZnmsZ/nnIHkuqTpgJrop4TliJLorr7orqHnoJTnqbbpmaLmnInpmZDlhazlj7gnLA0KCQkJCQlzdXBlcnZpc2lvblVuaXQ6ICfmtZnmsZ/kuqTnp5Hlhazot6/msLTov5Dlt6XnqIvnm5HnkIbmnInpmZDlhazlj7gnLA0KCQkJCX0sDQoJCQkJZm9ybURhdGE6IHsgLy/ooajljZXlj4LmlbANCgkJCQkJYXR0YWNobWVudDogW10sDQoJCQkJCWVxdWlwbWVudEluZm86W10sDQoJCQkJCWRlbGV0ZWRGbGFnOiAxLA0KCQkJCQlkcmFmdEZsYWc6IDEsDQoJCQkJCXByb2plY3RDb2RlOiAnJywNCgkJCQkJYnVpbGRTZWN0aW9uOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmN1cnJlbnRCaWFvRHVhbi5pZCB8fCAzLA0KCQkJCQlwcm9qZWN0SWQ6IHRoaXMuJHN0b3JlLmdldHRlcnMuY3VyUHJvamVjdC5pZCB8fCAyLA0KCQkJCQlzdXBlcnZpc2lvbkJhbjogJycNCgkJCQl9LA0KCQkJCWF0dGFjaFRhYmxlOiBbXSwgLy/pmYTku7YNCgkJCQllcXVpcG1lbnRUYWJsZTogW10sDQoJCQl9Ow0KCQl9LA0KCQljcmVhdGVkKCkge30sDQoJCWNvbXBvbmVudHM6IHsNCgkJCWF0dGFjaGxpc3QsDQoJCQlwcm9qZWN0aW5mbw0KCQl9LA0KCQljb21wdXRlZDoge30sDQoJCW1vdW50ZWQoKSB7DQoJCQl0aGlzLmdldEVxdWlwbWVudEVudGVyRW51bXMoKTsNCgkJCXRoaXMuZ2V0UHJvamVjdEluZm9CeUlkKCk7DQoJCQkNCgkJCXNldFRpbWVvdXQoKCkgPT4gew0KCQkJCXZhciBwYXJhbXMgPSBnZXRRdWVyeVZhcmlhYmxlKCk7DQoJCQkJaWYgKHBhcmFtc1sncHJvY2Vzc0RlZmluaXRpb25JZCddKSB7DQoJCQkJCXRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOw0KCQkJCQlwYXJhbXNbJ2lkJ10gPSBwYXJhbXNbJ2J1c2luZXNzS2V5J107DQoJCQkJCXRoaXMudGFza0luZm8gPSBwYXJhbXM7DQoJCQkJCXRoaXMuZ2V0RGV0YWlsKHBhcmFtc1snYnVzaW5lc3NLZXknXSk7DQoJCQkJfQ0KCQkJfSwgNTAwKQ0KCQl9LA0KCQl3YXRjaDogew0KCQkJZGV0YWlsUm93KG9iaikgew0KCQkJCWlmIChvYmpbJ2lkJ10pIHsNCgkJCQkJdGhpcy5nZXREZXRhaWwob2JqWydpZCddKTsNCgkJCQl9DQoJCQl9DQoJCX0sDQoJCW1ldGhvZHM6IHsNCgkJCWdldERldGFpbChpZCkgew0KCQkJCWFwaS5nZXRFcXVpcG1lbnRFbnRlckRlYXRpbChpZCkudGhlbigocmVzKSA9PiB7DQoJCQkJCWxldCBkYXRhID0gcmVzWydkYXRhJ10gfHwge307DQoJCQkJCXRoaXMuZm9ybURhdGEgPSBkYXRhOw0KCQkJCQl0aGlzLmF0dGFjaFRhYmxlID0gZGF0YS5hdHRhY2htZW50IHx8IFtdOw0KCQkJCQl0aGlzLmVxdWlwbWVudFRhYmxlID0gdGhpcy5mb3JtYXRFcXVUeXBlKGRhdGEuZXF1aXBtZW50SW5mbyB8fCBbXSkNCgkJCQl9KTsNCgkJCX0sDQoJCQlnZXRQcm9qZWN0SW5mb0J5SWQoKSB7DQoJCQkJcHJvYXBpLmdldFByb2plY3RJbmZvQnlJZCh7DQoJCQkJCXByb2plY3RpZDogdGhpcy4kc3RvcmUuZ2V0dGVycy5jdXJQcm9qZWN0LmlkIHx8IDINCgkJCQl9KS50aGVuKChyZXMpID0+IHsNCgkJCQkJbGV0IGRhdGEgPSByZXNbJ2RhdGEnXSB8fCB7fTsNCgkJCQkJdGhpcy5iYXNlSW5mb1snYnVpbGRTZWN0aW9uTmFtZSddID0gZGF0YVsncHJvamVjdCddID8gZGF0YVsncHJvamVjdCddWyduYW1lJ10gOiAnJzsNCgkJCQkJbGV0IGxpc3QgPSBkYXRhWydjb21wYW55cyddIHx8IFtdOw0KCQkJCQlsZXQgaW5mbyA9IGNyZWF0ZVByb2plY3RJbmZvKGxpc3QpOw0KCQkJCQl0aGlzLmJhc2VJbmZvWydidWlsZENvbXBhbnknXSA9IGluZm9bJ2J1aWxkQ29tcGFueSddOw0KCQkJCQl0aGlzLmJhc2VJbmZvWydzdXBlcnZpc2lvblVuaXQnXSA9IGluZm9bJ3N1cGVydmlzaW9uVW5pdCddOw0KCQkJCX0pOw0KCQkJfSwNCgkJCWZvcm1hdEVxdVR5cGUoZGF0YSkgew0KCQkJCWRhdGEgPSBkYXRhIHx8IFtdDQoJCQkJZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7DQoJCQkJCXRoaXMuZXF1aXBtZW50T3B0aW9ucy5mb3JFYWNoKChvYmopID0+IHsNCgkJCQkJaWYgKGl0ZW1bJ2VxdWlwbWVudFR5cGUnXS50b1N0cmluZygpID09IG9ialsndmFsdWUnXS50b1N0cmluZygpKSB7DQoJCQkJCQlpdGVtWydlcXVpcG1lbnRUeXBlU3RyJ10gPSBvYmpbJ2xhYmVsJ10NCgkJCQkJfQ0KCQkJCQl9KQ0KCQkJCX0pDQoJCQkJcmV0dXJuIGRhdGENCgkJCX0sDQoJCQlnZXRFcXVpcG1lbnRFbnRlckVudW1zKCkgew0KCQkJCWFwaS5nZXRFcXVpcG1lbnRFbnRlckVudW1zKCkudGhlbigocmVzKSA9PiB7DQoJCQkJCWxldCBvcHRpb25zID0gcmVzLmRhdGEgfHwgW10NCgkJCQkJdGhpcy5lcXVpcG1lbnRPcHRpb25zID0gY29udmVydE9wdGlvbnMob3B0aW9ucywgJ2Rlc2MnLCAnY29kZScpDQoJCQkJfSkNCgkJCX0sDQoJCX0sDQoJfTsNCg=="},{"version":3,"sources":["view.vue"],"names":[],"mappings":";AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"view.vue","sourceRoot":"src/views/contractManagement/equipmentEntryForInspection","sourcesContent":["<template>\r\n\t<div class=\"form-content\">\r\n\r\n\t\t<div class=\"form-content\">\r\n\t\t\t<el-form ref=\"form\" label-width=\"80px\">\r\n\t\t\t\t<div class=\"form-title\">\r\n\t\t\t\t\t<div class=\"title-big-bar\"></div>\r\n\t\t\t\t\t<strong>到场设备报验单</strong>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t<div class=\"form-block-title\">\r\n\t\t\t\t\t\t<div class=\"title-bar\"></div><strong>基本信息</strong>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<projectinfo></projectinfo>\r\n\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\r\n\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t<div class=\"block-item-label\">工程编号</div>\r\n\t\t\t\t\t\t\t<div class=\"block-item-value\">\r\n\t\t\t\t\t\t\t\t{{formData.projectCode}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t<div class=\"form-block-title\">\r\n\t\t\t\t\t\t<div class=\"title-bar\"></div><strong>进场设备信息</strong>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t<div class=\"block-item-label\">监理办<i class=\"require-icon\"></i></div>\r\n\t\t\t\t\t\t\t<div class=\"block-item-value\">\r\n\t\t\t\t\t\t\t\t{{formData.supervisionBan}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"block-table\">\r\n\t\t\t\t\t\t<el-table :data=\"equipmentTable\" style=\"width: 100%\" border\r\n\t\t\t\t\t\t\tclass=\"have_scrolling\">\r\n\t\t\t\t\t\t\t<el-table-column type=\"index\" width=\"50\" align=\"center\" label=\"序号\">\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column prop=\"equipmentTypeStr\" align=\"center\" label=\"设备类型\"\r\n\t\t\t\t\t\t\t\tshow-overflow-tooltip>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column prop=\"equipmentName\" width=\"180px\" align=\"center\"\r\n\t\t\t\t\t\t\t\tlabel=\"设备名称\">\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column prop=\"specification\" width=\"120px\" align=\"center\"\r\n\t\t\t\t\t\t\t\tlabel=\"规格型号\">\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column prop=\"num\" width=\"120px\" align=\"center\" label=\"数量\">\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column prop=\"enterDate\" width=\"120px\" align=\"center\" label=\"进场日期\">\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column prop=\"techCondition\" width=\"120px\" align=\"center\"\r\n\t\t\t\t\t\t\t\tlabel=\"技术状况\">\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column prop=\"useWhere\" width=\"120px\" align=\"center\" label=\"拟用何处\">\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column prop=\"remark\" width=\"120px\" align=\"center\" label=\"备注\">\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t<div class=\"form-block-title\">\r\n\t\t\t\t\t\t<div class=\"title-bar\"></div><strong>附件清单</strong>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\t<attachlist :editAble=\"false\" ref=\"attachlist\" :attachTable=\"attachTable\">\r\n\t\t\t\t\t</attachlist>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</el-form>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport * as api from \"@/api/quality\";\r\n\timport * as proapi from \"@/api/project.js\";\r\n\timport {\r\n\t\tconvertOptions,\r\n\t\tcreateProjectInfo,\r\n\t\tgetQueryVariable\r\n\t} from \"@/utils/format.js\";\r\n\timport attachlist from \"../../common/attachlist\"\r\n\timport projectinfo from \"../../common/projectinfo.vue\"\r\n\t\r\n\texport default {\r\n\t\tprops: ['detailRow'],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t\r\n\t\t\t\tbaseInfo: {\r\n\t\t\t\t\tbuildSection: 1,\r\n\t\t\t\t\tbuildSectionName: '235国道杭州至诸暨公路萧山河上至诸暨安华段改建工程',\r\n\t\t\t\t\tcontractCode: '235SJSG01',\r\n\t\t\t\t\tbuildCompany: '中交上海航道局有限公司、中国交通建设股份有限公司、浙江诸安建设集团有限公司、浙江省交通规划设计研究院有限公司',\r\n\t\t\t\t\tsupervisionUnit: '浙江交科公路水运工程监理有限公司',\r\n\t\t\t\t},\r\n\t\t\t\tformData: { //表单参数\r\n\t\t\t\t\tattachment: [],\r\n\t\t\t\t\tequipmentInfo:[],\r\n\t\t\t\t\tdeletedFlag: 1,\r\n\t\t\t\t\tdraftFlag: 1,\r\n\t\t\t\t\tprojectCode: '',\r\n\t\t\t\t\tbuildSection: this.$store.getters.currentBiaoDuan.id || 3,\r\n\t\t\t\t\tprojectId: this.$store.getters.curProject.id || 2,\r\n\t\t\t\t\tsupervisionBan: ''\r\n\t\t\t\t},\r\n\t\t\t\tattachTable: [], //附件\r\n\t\t\t\tequipmentTable: [],\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tcomponents: {\r\n\t\t\tattachlist,\r\n\t\t\tprojectinfo\r\n\t\t},\r\n\t\tcomputed: {},\r\n\t\tmounted() {\r\n\t\t\tthis.getEquipmentEnterEnums();\r\n\t\t\tthis.getProjectInfoById();\r\n\t\t\t\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tvar params = getQueryVariable();\r\n\t\t\t\tif (params['processDefinitionId']) {\r\n\t\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t\t\tparams['id'] = params['businessKey'];\r\n\t\t\t\t\tthis.taskInfo = params;\r\n\t\t\t\t\tthis.getDetail(params['businessKey']);\r\n\t\t\t\t}\r\n\t\t\t}, 500)\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tdetailRow(obj) {\r\n\t\t\t\tif (obj['id']) {\r\n\t\t\t\t\tthis.getDetail(obj['id']);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetDetail(id) {\r\n\t\t\t\tapi.getEquipmentEnterDeatil(id).then((res) => {\r\n\t\t\t\t\tlet data = res['data'] || {};\r\n\t\t\t\t\tthis.formData = data;\r\n\t\t\t\t\tthis.attachTable = data.attachment || [];\r\n\t\t\t\t\tthis.equipmentTable = this.formatEquType(data.equipmentInfo || [])\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetProjectInfoById() {\r\n\t\t\t\tproapi.getProjectInfoById({\r\n\t\t\t\t\tprojectid: this.$store.getters.curProject.id || 2\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet data = res['data'] || {};\r\n\t\t\t\t\tthis.baseInfo['buildSectionName'] = data['project'] ? data['project']['name'] : '';\r\n\t\t\t\t\tlet list = data['companys'] || [];\r\n\t\t\t\t\tlet info = createProjectInfo(list);\r\n\t\t\t\t\tthis.baseInfo['buildCompany'] = info['buildCompany'];\r\n\t\t\t\t\tthis.baseInfo['supervisionUnit'] = info['supervisionUnit'];\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tformatEquType(data) {\r\n\t\t\t\tdata = data || []\r\n\t\t\t\tdata.forEach((item) => {\r\n\t\t\t\t\tthis.equipmentOptions.forEach((obj) => {\r\n\t\t\t\t\tif (item['equipmentType'].toString() == obj['value'].toString()) {\r\n\t\t\t\t\t\titem['equipmentTypeStr'] = obj['label']\r\n\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\treturn data\r\n\t\t\t},\r\n\t\t\tgetEquipmentEnterEnums() {\r\n\t\t\t\tapi.getEquipmentEnterEnums().then((res) => {\r\n\t\t\t\t\tlet options = res.data || []\r\n\t\t\t\t\tthis.equipmentOptions = convertOptions(options, 'desc', 'code')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t@import \"@/assets/css/dialog.scss\" \r\n</style>\r\n"]}]}