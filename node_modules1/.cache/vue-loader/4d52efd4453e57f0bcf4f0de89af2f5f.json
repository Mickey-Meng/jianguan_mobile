{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\common\\upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\common\\upload.vue","mtime":1684246187968},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJaW1wb3J0ICogYXMgYXBpIGZyb20gIkAvYXBpL3F1YWxpdHkiOw0KDQoJZXhwb3J0IGRlZmF1bHQgew0KCQlkYXRhKCkgew0KCQkJcmV0dXJuIHt9DQoJCX0sDQoJCW1ldGhvZHM6IHsNCgkJCWltcG9ydEZpbGUocGFyYW1zKSB7DQoJCQkJLy8gbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTsNCgkJCQkvLyBkYXRhLmFwcGVuZCgiZmlsZSIsIHBhcmFtcy5maWxlKTsNCgkJCQkvLyBhcGkudXBsb2FkRmlsZShkYXRhKS50aGVuKChyZXMpID0+IHsNCgkJCQkvLyAJdGhpcy4kbWVzc2FnZSh7DQoJCQkJLy8gCQl0eXBlOiAnc3VjY2VzcycsDQoJCQkJLy8gCQltZXNzYWdlOiAn5LiK5Lyg5oiQ5YqfIScNCgkJCQkvLyAJfSk7DQoJCQkJLy8gCXRoaXMuJHJlZnMudXBsb2FkLmNsZWFyRmlsZXMoKTsNCgkJCQkvLyAJdGhpcy4kZW1pdCgiYWZ0ZXJVcCIscmVzWydkYXRhJ10pOw0KCQkJCS8vIH0pOw0KDQoJCQkJY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKQ0KCQkJCXJlYWRlci5yZWFkQXNEYXRhVVJMKHBhcmFtcy5maWxlKQ0KCQkJCXJlYWRlci5vbmxvYWQgPSBlID0+IHsNCgkJCQkJbGV0IGJhc2U2NCA9IGUudGFyZ2V0WydyZXN1bHQnXS5zcGxpdCgnYmFzZTY0LCcpWzFdDQoJCQkJCXVwbG9hZEZpbGUoeyBuYW1lOiBwYXJhbXMuZmlsZS5uYW1lLCBiYXNlNjQ6IGJhc2U2NCB9KS50aGVuKHVybCA9PiB7DQoJCQkJCQl0aGlzLiRyZWZzLnVwbG9hZC5jbGVhckZpbGVzKCk7DQoJCQkJCQl0aGlzLiRlbWl0KCJhZnRlclVwIixyZXNbJ2RhdGEnXSk7DQoJCQkJCX0pDQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0K"},{"version":3,"sources":["upload.vue"],"names":[],"mappings":";AAWA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"upload.vue","sourceRoot":"src/views/common","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-upload class=\"upload-demo\" action=\"\" :limit=\"1\" :show-file-list=\"false\"\r\n\t\t\tref=\"upload\"\r\n\t\t\taccept=\".jpg,.jpeg,.png,gif,JPG,JPEG,PNG,GIF,.map4,.xlsx,.xls,.pdf,.doc,.docx\" :http-request=\"importFile\">\r\n\t\t\t<el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n\t\t</el-upload>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport * as api from \"@/api/quality\";\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\timportFile(params) {\r\n\t\t\t\t// let data = new FormData();\r\n\t\t\t\t// data.append(\"file\", params.file);\r\n\t\t\t\t// api.uploadFile(data).then((res) => {\r\n\t\t\t\t// \tthis.$message({\r\n\t\t\t\t// \t\ttype: 'success',\r\n\t\t\t\t// \t\tmessage: '上传成功!'\r\n\t\t\t\t// \t});\r\n\t\t\t\t// \tthis.$refs.upload.clearFiles();\r\n\t\t\t\t// \tthis.$emit(\"afterUp\",res['data']);\r\n\t\t\t\t// });\r\n\r\n\t\t\t\tconst reader = new FileReader()\r\n\t\t\t\treader.readAsDataURL(params.file)\r\n\t\t\t\treader.onload = e => {\r\n\t\t\t\t\tlet base64 = e.target['result'].split('base64,')[1]\r\n\t\t\t\t\tuploadFile({ name: params.file.name, base64: base64 }).then(url => {\r\n\t\t\t\t\t\tthis.$refs.upload.clearFiles();\r\n\t\t\t\t\t\tthis.$emit(\"afterUp\",res['data']);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}