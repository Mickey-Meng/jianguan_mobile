{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\project\\quality\\newPage\\managedObject.vue?vue&type=style&index=1&id=5a19a2ce&lang=css&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\project\\quality\\newPage\\managedObject.vue","mtime":1684246188018},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\css-loader\\dist\\cjs.js","mtime":1684411443176},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1684411446724},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\postcss-loader\\src\\index.js","mtime":1684411443221},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5mdWxsLWRpYWxvZyAuZWwtZGlhbG9newoJYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7Cn0KLmZ1bGwtZGlhbG9nIC5lbC1kaWFsb2dfX2JvZHkgewoJcGFkZGluZzogMDsKCXdpZHRoOiAxMDAlOwoJY29sb3I6ICMxOTE5MTk7CgloZWlnaHQ6IGNhbGMoMTAwdmggLSA5NnB4KTsKfQouZnVsbC1kaWFsb2cgLmVsLWRpYWxvZ19faGVhZGVyIHsKCWhlaWdodDogOTZweDsKCXBhZGRpbmc6IDM2cHggMjBweDsKCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWJlYmViOwoJYmFja2dyb3VuZDogI2ZmZjsKCWNvbG9yOiAjMTkxOTE5OwoJZm9udC13ZWlnaHQ6IDYwMDsKfQouZnVsbC1kaWFsb2cgLmVsLWRpYWxvZ19fdGl0bGUgewoJZm9udC1zaXplOiAyNHB4OwoJbGluZS1oZWlnaHQ6IDI0cHg7Cgljb2xvcjogIzE5MTkxOTsKfQouZnVsbC1kaWFsb2cgLmVsLWRpYWxvZ19fYm9keSAuZWwtbWFpbiB7CgkvKiBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7ICovCn0KLmZ1bGwtZGlhbG9nIC5lbC1kaWFsb2dfX2hlYWRlcmJ0biB7Cgl0b3A6IDk2cHg7CglyaWdodDogMDsKCWNvbG9yOiAjMzU1REZGOwoJYmFja2dyb3VuZDogcmdiYSg1MywgOTMsIDI1NSwgMC4xKTsKCXdpZHRoOiAzNnB4OwoJaGVpZ2h0OiAzNnB4OwoJYm9yZGVyLXJhZGl1czogMCAwIDAgNTBweDsKfQoKLmZ1bGwtZGlhbG9nIC5lbC1kaWFsb2dfX2Nsb3NlIHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXJpZ2h0OiAwcHg7Cgljb2xvcjogIzM1NURGRiAhaW1wb3J0YW50OwoJZm9udC1zaXplOiAyMHB4OwoJZm9udC13ZWlnaHQ6IDYwMDsKCXRvcDogNHB4OwoKfQoKLmVsLWJ1dHRvbi0tcHJpbWFyeTpob3ZlciB7Cgljb2xvcjogI0ZGRkZGRjsKCWJhY2tncm91bmQtY29sb3I6ICM0MDlFRkY7Cn0KLmVsLWJ1dHRvbi0tcHJpbWFyeSB7Cgljb2xvcjogI0ZGRkZGRjsKCWJhY2tncm91bmQtY29sb3I6ICMzNTVERkY7Cglib3JkZXItY29sb3I6ICMzNTVERkY7CgloZWlnaHQ6IDM2cHg7CglsaW5lLWhlaWdodDogMzZweDsKCXBhZGRpbmc6IDAgMjBweDsKfQouZWwtaW5wdXRfX2lubmVyIHsKCWhlaWdodDogMzZweDsKCWxpbmUtaGVpZ2h0OiAzNnB4Owp9Ci5lbC10YWJsZSB0aGVhZCB7Cgljb2xvcjogIzA0MDQxNTsKfQouZWwtc2VsZWN0IHsKCXdpZHRoOiAxMDAlOwp9Ci5lbC10YWJzX19pdGVtOmhvdmVyIHsKCWNvbG9yOiAjMzU1REZGICFpbXBvcnRhbnQ7Cn0KLmVsLXRhYnNfX2l0ZW0uaXMtYWN0aXZlIHsKCWNvbG9yOiAjMzU1REZGICFpbXBvcnRhbnQ7Cn0K"},{"version":3,"sources":["managedObject.vue"],"names":[],"mappings":";AAitBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"managedObject.vue","sourceRoot":"src/views/project/quality/newPage","sourcesContent":["<!--\r\n@name:\r\n@description: 管理目标\r\n@author: zhouhai\r\n@time: 2022-05-13 09:17:13\r\n@modifier:\r\n@modifierTime:\r\n-->\r\n<template>\r\n\t<el-container class=\"container-box\">\r\n\t\t<van-list @load=\"query\" :style=\"{ height: scrollerHeight }\" v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\">\r\n\t\t\t\t<van-swipe-cell class=\"list\" v-for=\"(item, index) in tableData\" :key=\"index\" :class=\"'item ' + (index === tableData.length - 1 ? 'last' : '')\">\r\n\t\t\t\t\t<div class=\"item\" style=\"\" @click=\"viewDetail(item)\">\r\n\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t<div class=\"block-name\">标题:</div>\r\n\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.title }}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t<div class=\"block-name\">登记人:</div>\r\n\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.createName }}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t<div class=\"block-name\">发布时间:</div>\r\n\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.publishDate }}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"block\" style=\"padding-top: 5px; border-top: 1px solid #d7d7d7;\">\r\n\t\t\t\t\t\t\t<div style=\"float:left;\">{{item.createUserName}}</div>\r\n\t\t\t\t\t\t\t<div style=\"float:right;\">{{item.createTime}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- <template #right>\r\n\t\t\t\t\t\t<van-button square type=\"primary\" text=\"详情\" @click=\"viewDetail(item)\"/>\r\n\t\t\t\t\t\t<van-button square type=\"primary\" text=\"编辑\" />\r\n\t\t\t\t\t\t<van-button square type=\"danger\" text=\"删除\" />\r\n\t\t\t\t\t</template> -->\r\n\t\t\t\t</van-swipe-cell>\r\n\t\t</van-list>\r\n\t\t<el-dialog class=\"full-dialog defined-dialog\" :fullscreen=\"true\" :visible.sync=\"dialogFormVisible\">\r\n\t\t\t<template slot=\"title\">\r\n\t\t\t\t{{dialogTitle}}\r\n\t\t\t\t<div class=\"logo-icon\"></div>\r\n\t\t\t</template>\r\n\t\t\t<el-container>\r\n\t\t\t\t<el-main\r\n\t\t\t\t\tstyle=\"background-color: rgba(0,0 0,0.5);height: calc(100vh - 96px); overflow-y: scroll;padding: 0px;margin: 0;\">\r\n\t\t\t\t\t<div class=\"form-bg\">\r\n\t\t\t\t\t\t<div class=\"form-content\">\r\n\t\t\t\t\t\t\t<el-form ref=\"form\" label-width=\"80px\">\r\n\t\t\t\t\t\t\t\t<div class=\"form-title\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"title-big-bar\"></div>\r\n\t\t\t\t\t\t\t\t\t<strong>管理目标</strong>\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-btns\" v-show=\"!previewMode\">\r\n\t\t\t\t\t\t\t\t\t\t<el-button size=\"medium\">暂存</el-button>\r\n\t\t\t\t\t\t\t\t\t\t<el-button size=\"medium\">保存草稿</el-button>\r\n\t\t\t\t\t\t\t\t\t\t<el-button size=\"medium\">选择草稿</el-button>\r\n\t\t\t\t\t\t\t\t\t\t<el-button size=\"medium\" type=\"primary\">复制填充</el-button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-block-title\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"title-bar\"></div><strong>基本信息</strong>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<projectinfo></projectinfo>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-label\">登记部门<i class=\"require-icon\"></i></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-value\">{{formData.groupName}}</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-label\">登记人<i class=\"require-icon\"></i></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-value\">{{formData.userName}}</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-label\">发布时间</div>\r\n                      \t\t\t\t\t\t<div class=\"block-item-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-date-picker type=\"date\" v-model=\"formData.publishDate\" placeholder=\"选择日期\" :disabled=\"previewMode\"></el-date-picker>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-label\">标题<i class=\"require-icon\"></i></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-value\">\r\n                        \t\t\t\t\t\t<el-input placeholder=\"请输入内容\" v-model=\"formData.title\" :disabled=\"previewMode\"></el-input>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"form-title\" v-show=\"!previewMode\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"title-big-bar\"></div><strong>附件上传</strong>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-block-title\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"title-bar\"></div><strong>文件</strong>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <span style=\"font-size: 12px;margin-left: 40px;\" v-show=\"!previewMode\">支持上传 jpg/jpeg png mp4 docx doc xlsx xls pdf 文件，且不超过 50M</span> -->\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<attachlist :editAble=\"true\" ref=\"attachlist\" :attachTable=\"attachTable\"></attachlist>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t\t\t\t\t<el-button class=\"submit-btn\" size=\"small\" type=\"primary\" @click=\"addManagedObject\" v-show=\"!previewMode\">提交</el-button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-main>\r\n\t\t\t\t\r\n\t\t\t</el-container>\r\n\t\t</el-dialog>\r\n\t</el-container>\r\n</template>\r\n\r\n<script>\r\n\tDate.prototype.format = function (fmt) {\r\n\tvar o = {\r\n\t\t\"M+\": this.getMonth() + 1, //月份\r\n\t\t\"d+\": this.getDate(), //日\r\n\t\t\"h+\": this.getHours(), //小时\r\n\t\t\"m+\": this.getMinutes(), //分\r\n\t\t\"s+\": this.getSeconds(), //秒\r\n\t\t\"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\r\n\t\t\"S\": this.getMilliseconds() //毫秒\r\n\t};\r\n\tif (/(y+)/.test(fmt)) {\r\n\t\tfmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n\t}\r\n\tfor (var k in o) {\r\n\t\tif (new RegExp(\"(\" + k + \")\").test(fmt)) {\r\n\t\tfmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\r\n\t\t}\r\n\t}\r\n\treturn fmt;\r\n\t}\r\n\timport * as api from \"@/api/quality\";\r\n\timport store from \"@/store/index\";\r\n\timport attachlist from \"@/views/common/attachlist.vue\"\r\n\timport projectinfo from \"@/views/common/projectinfo.vue\"\r\n\timport { getUserInfo } from \"@/api/userauth.js\";\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\tfinished: false,\r\n\t\t\t\toperateBtnsVisible: true,\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\ttotalPage: 1,\r\n\t\t\t\tpageSize: 20,\r\n\t\t\t\tdialogTitle: '新建',\r\n\t\t\t\tpreviewMode: false,\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tannexTableData: [],\r\n\t\t\t\tactiveName: 'first',\r\n\t\t\t\tqueryData: {\r\n\t\t\t\t\tpageNum: 1,\r\n\t\t\t\t\ttotalPage:1,\r\n\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\tbuildSection: this.$store.getters.currentBiaoDuan.id || 3,\r\n\t\t\t\t\tprojectId: this.$store.getters.curProject.id || 2,\r\n\t\t\t\t},\r\n\t\t\t\tuserInfo: {},\r\n\t\t\t\tformData: {\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\ttitle: '测试', // 标题\r\n\t\t\t\t\tpublishDate: '2022-05-06', // 发布时间\r\n\t\t\t\t\tbuildSection: this.$store.getters.currentBiaoDuan.id || 3,\r\n\t\t\t\t\tprojectId: this.$store.getters.curProject.id || 2,// 项目id\r\n\t\t\t\t\tuserName: '',\t// 登记人\r\n\t\t\t\t\tgroupName: '',\t// 登记部门\r\n\t\t\t\t\tprojectName: '',// 项目名称 \r\n\t\t\t\t    attachment: [ // 附件\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tviewImgVisible: false,\r\n\t\t\t\tattachment: [],\r\n\t\t\t\tattachTable: [ // 附件\r\n\t\t\t\t],\r\n\t\t\t\tviewImgType: 'img',\r\n\t\t\t\tviewImgUrl: '',\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tcomponents: {\r\n\t\t\tattachlist,\r\n\t\t\tprojectinfo\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tscrollerHeight: function() {\r\n\t\t\t\treturn window.innerHeight - 91 + 'px'\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// this.query();\r\n\t\t\tthis.getUserInfo();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tquery() {\r\n\t\t\t\tapi.getManagementObjectList(this.queryData).then((res) => {\r\n\t\t\t\t\tthis.tableData = [...this.tableData,...res.data['list']||[]]\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 加载状态结束\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t// 数据全部加载完成\r\n\t\t\t\t\tif (this.tableData.length >= res.data.total) {\r\n\t\t\t\t\t\tthis.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgetUserInfo() {\r\n\t\t\t\tgetUserInfo({\r\n\t\t\t\t\tid: JSON.parse(localStorage.getItem('userinfo')).id,\r\n\t\t\t\t\ttype: 'app',\r\n\t\t\t\t\tsystemName: 'project', \r\n\t\t\t\t\tnoToken: true\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.userInfo = res.userInfo;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\taddNew() {\r\n\t\t\t\tthis.previewMode = false;\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t\tconst hasGetUserInfo = store.getters.name;\r\n\t\t\t\t\r\n\t\t\t\tthis.formData.userName = hasGetUserInfo;\r\n\t\t\t\tthis.formData.groupName = this.userInfo.GROUPNAME;\r\n\t\t\t\tthis.formData.id = '';\r\n\t\t\t\tthis.formData.attachment = [];\r\n\t\t\t\tthis.attachTable = [];\r\n\t\t\t},\r\n\t\t\taddManagedObject() {\r\n\t\t\t\tif (this.formData.publishDate instanceof Date) this.formData.publishDate = this.formData.publishDate.format(\"yyyy-MM-dd\");\r\n\t\t\t\t\r\n\t\t\t\tthis.formData.attachment = this.attachTable;\r\n\t\t\t\tapi.addOrUpdateManagementObjectList(this.formData).then((res) => {\r\n\t\t\t\t  \tthis.query();\r\n\t\t\t\t\tthis.dialogFormVisible = false;\r\n\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdeleteManagementObject(id) {\r\n\t\t\t\t// /web/api/v1/manageTarget/id\r\n\t\t\t\tthis.$confirm('确认是否删除?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tapi.deleteManagementObject(id).then((res) => {\r\n\t\t\t\t\t\tthis.query();\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmessage: '删除成功!'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\ttype: 'fail',\r\n\t\t\t\t\t\t\tmessage: '删除失败!'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tviewDetail(row) {\r\n\t\t\t\tconst that = this;\r\n\t\t\t\t// this.formData = row;\r\n\t\t\t\tthis.dialogTitle = \"查看详情\";\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t\tthis.previewMode = true;\r\n\t\t\t\tapi.getManagementObject(row.id).then((res) => {\r\n\t\t\t\t  \tif (res && res.data) {\r\n\t\t\t\t\t\tfor (let i = 0; i < res.data.attachment.length; i++) {\r\n\t\t\t\t\t\t\tconst item = res.data.attachment[i];\r\n\t\t\t\t\t\t\titem.uploadTime = new Date(item.uploadTime).format('yyyy-MM-dd hh:mm:ss')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.formData = res.data;\r\n\t\t\t\t\t\tthis.attachTable = res.data.attachment;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tgetUserInfo({\r\n\t\t\t\t\t\t\tid: res.data.createUserId,\r\n\t\t\t\t\t\t\ttype: 'app',\r\n\t\t\t\t\t\t\tsystemName: 'project', \r\n\t\t\t\t\t\t\tnoToken: true\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tthat.formData.userName = res.userInfo.NAME;\r\n\t\t\t\t\t\t\tthat.formData.groupName = res.userInfo.GROUPNAME;\r\n\t\t\t\t\t\t\tthat.$forceUpdate();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleSizeChange(val) {\r\n\t\t\t\tconsole.log(`每页 ${val} 条`);\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tconsole.log(`当前页: ${val}`);\r\n\t\t\t},\r\n\t\t\tafterUpAttach(data){\r\n\t\t\t\tdebugger\r\n\t\t\t\tapi.getFileInfo({id: data['fileId']}).then((res) => {\r\n\t\t\t\t  \tif (res) {\r\n\t\t\t\t\t\tdebugger\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.attachment.push({\r\n\t\t\t\t\tuploadTime: new Date(data['uploadTime']).format('yyyy-MM-dd hh:mm:ss'),\r\n\t\t\t\t\tfileName: data['fileName'],\r\n\t\t\t\t\tfileUrl: data['fileId'],\r\n\t\t\t\t\tcreatorName: this.userInfo.NAME,\r\n\t\t\t\t\t\"createUid\": \"\",\r\n\t\t\t\t\t\"filePath\": \"\",\r\n\t\t\t\t\t\"fileSize\": 0,\r\n\t\t\t\t\t\"id\": \"\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n\t.container-box {\r\n\t\tcolor: #000000;\r\n\t\tbackground-color: #FAFAFA;\r\n\t\theight: 100%;\r\n\t\twidth: calc(100% + 1px);\r\n  \t\toverflow-y: auto;\r\n\r\n\t\t.el-header {\r\n\t\t\tline-height: 60px;\r\n\t\t\t// background-color: #ffffff;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 0 !important;\r\n\t\t\t// justify-content: space-between;\r\n\r\n\t\t\t.input-box {\r\n\t\t\t\tmin-width: 200px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\t// margin: 0 20px;\r\n\t\t\t}\r\n\r\n\t\t\t.mini-input-box {\r\n\t\t\t\twidth: 80px;\r\n\t\t\t\tmin-width: 80px;\r\n\t\t\t}\r\n\r\n\t\t\t.right-btns {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: 20px;\r\n\r\n\t\t\t\t.el-button {\r\n\t\t\t\t\t// margin-left: 0 !important;\r\n\t\t\t\t\tcolor: #355DFF;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.operate-btns {\r\n\t\t\t\t\tdisplay: initial;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t.el-main {\r\n\t\t\tpadding: 0;\r\n\t\t\tmargin-top: 10px;\r\n\t\t\tdisplay: flex;\r\n\t\t\t// flex-direction: column;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.container {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tbackground-color: #FFFFFF;\r\n\r\n\t\t\t\t.el-pagination {\r\n\t\t\t\t\tfloat: right;\r\n\t\t\t\t\theight: 48px;\r\n\t\t\t\t\tline-height: 48px;\r\n\t\t\t\t\tmargin-right: 20px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.van-list{\r\n\t\t\twidth: 100%;\r\n\t\t\t.list {\r\n\t\t\t\t.item{\r\n\t\t\t\t\tpadding: 10px;\r\n\t\t\t\t\tborder:1px solid rgba(0, 0, 0, 0.1);\r\n\t\t\t\t\tborder-radius:5px;\r\n\t\t\t\t\tmargin:5px;\r\n\t\t\t\t\tbox-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.1);\r\n\t\t\t\t\t.block {\r\n\t\t\t\t\t\toverflow: auto;\r\n\t\t\t\t\t.block-name {\r\n\t\t\t\t\t\tfloat: left;\r\n\t\t\t\t\t\twidth: 120px;\r\n\t\t\t\t\t\tcolor: rgb(85, 85, 85);\r\n\t\t\t\t\t\tmin-height: 24px;\r\n\t\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t\t\tline-height: 20px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.block-value {\r\n\t\t\t\t\t\twidth: calc(100% - 120px);\r\n\t\t\t\t\t\tmargin-left: 120px;\r\n\t\t\t\t\t\tmin-height: 24px;\r\n\t\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t\t\tline-height: 20px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.status {\r\n\t\t\t\t\t\tbackground: rgb(0, 132, 255);\r\n\t\t\t\t\t\tpadding: 1px 3px ;\r\n\t\t\t\t\t\tfont-size: 10px;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tright: 25px;\r\n\t\t\t\t\t\ttop: 8px;\r\n\t\t\t\t\t\tcolor: white;\r\n\t\t\t\t\t\tborder-radius: 3px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.van-button {\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tborder-radius: 5px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.full-dialog{\r\n\t\t.form-bg {\r\n\t\t\tbackground: rgb(255, 255, 255);\r\n\t\t\twidth: 984px;\r\n\t\t\tmargin: 0px auto;\r\n\t\t\tmin-height: 100%;\r\n\t\t\tpadding: 30px 20px 20px;\r\n\t\t\toverflow-y: auto;\r\n\t\t}\r\n\t}\r\n\t.defined-dialog {\r\n\t\tbackground: rgba(0,0,0,0.5);;\r\n\t\t.logo-icon {\r\n\t\t\twidth: 48px;\r\n\t\t\theight: 48px;\r\n\t\t\tbackground-image: url(\"~@/assets/process/logo.png\");\r\n\t\t\tbackground-size: 100% 100%;\r\n\t\t\tbackground-repeat: no-repeat;\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 20px;\r\n\t\t\ttop: 24px;\r\n\t\t\tcursor: pointer;\r\n\t\t}\r\n\r\n\t\t.el-button--default {\r\n\t\t\tcolor: #355DFF;\r\n\t\t}\r\n\t\t.title-big-bar {\r\n\t\t\twidth: 6px;\r\n\t\t\theight: 20px;\r\n\t\t\tbackground-image: url(\"~@/assets/process/bigbar.png\");\r\n\t\t\tbackground-size: 100% 100%;\r\n\t\t\tbackground-repeat: no-repeat;\r\n\t\t\tmargin: 8px 8px 8px 0;\r\n\t\t}\r\n\t\t\r\n\t\t.title-bar {\r\n\t\t\twidth: 4px;\r\n\t\t\theight: 20px;\r\n\t\t\tbackground-image: url(\"~@/assets/process/bar.png\");\r\n\t\t\tbackground-size: 100% 100%;\r\n\t\t\tbackground-repeat: no-repeat;\r\n\t\t\tmargin: 2px 8px 2px 0;\r\n\t\t}\r\n\r\n\t\t.form-title {\r\n\t\t\tfont-size: 20px;\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin: 16px 0;\r\n\t\t\tcolor: #191919;\r\n\t\t\tfont-family: Microsoft YaHei;\r\n\t\t\tdisplay: inline-flex;\r\n\t\t\theight: 36px;\r\n\t\t\tline-height: 36px;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\r\n\t\t.form-btns {\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 0;\r\n\t\t}\r\n\r\n\t\t.form-block {\r\n\t\t\t.form-block-title {\r\n\t\t\t\tmargin: 8px 0;\r\n\t\t\t\tfont-family: \"Microsoft YaHei\";\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\theight: 24px;\r\n\t\t\t\tline-height: 24px;\r\n\t\t\t}\r\n\r\n\t\t\t.block-line {\r\n\t\t\t\tline-height: 36px;\r\n\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tmargin: 4px 0;\r\n\r\n\t\t\t\t.block-item {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.block-item-label {\r\n\t\t\t\t\twidth: 120px;\r\n\t\t\t\t\tpadding-right: 20px;\r\n\t\t\t\t\ttext-align: right;\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\tcolor: #191919;\r\n\t\t\t\t\tfont-family: PingFangSC-Medium, PingFang SC;\r\n\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t\t.require-icon {\r\n\t\t\t\t\t\twidth: 4px;\r\n\t\t\t\t\t\theight: 4px;\r\n\t\t\t\t\t\tbackground: #FF4925;\r\n\t\t\t\t\t\tborder-radius: 4px;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tright: 10px;\r\n\t\t\t\t\t\ttop: 16px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.block-item-value {\r\n\t\t\t\t\twidth: calc(100% - 140px);\r\n\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.block-table-title {\r\n\t\t\t\t\tmargin-left: 20px;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.block-table-btns {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: 20px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.submit-btn {\r\n\t\t\twidth: 260px;\r\n\t\t\tmargin: 60px 0px 20px 160px;\r\n\t\t}\r\n\r\n\t\t.is-fullscreen {\r\n\t\t\tbackground-color: #E4E4E4 !important;\r\n\t\t}\r\n\r\n\t\t.close-wrapper {\r\n\t\t\tposition: relative;\r\n\t\t\tbackground: #dcdfe6;\r\n\t\t\toverflow: hidden;\r\n\t\t\tz-index: 1000;\r\n\t\t}\r\n\r\n\t\t.close-wrap {\r\n\t\t\tcursor: pointer;\r\n\t\t\tcolor: #fff;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\ttop: calc(50% - 60px);\r\n\t\t\twidth: 8px;\r\n\t\t\theight: 120px;\r\n\t\t\tline-height: 60px;\r\n\t\t\tbackground: #409eff;\r\n\t\t\tdisplay: -webkit-box;\r\n\t\t\tdisplay: -ms-flexbox;\r\n\t\t\tdisplay: flex;\r\n\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t-webkit-box-direction: normal;\r\n\t\t\t-ms-flex-direction: column;\r\n\t\t\tflex-direction: column;\r\n\t\t\t-webkit-box-pack: center;\r\n\t\t\t-ms-flex-pack: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\t-webkit-box-align: center;\r\n\t\t\t-ms-flex-align: center;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n\t\t.log-btns {\r\n\t\t\tmargin: 10px 21px;\r\n\t\t\tpadding-right: 10px;\r\n\t\t\theight: 46px;\r\n\t\t\tline-height: 46px;\r\n\r\n\t\t\t.print-btn {\r\n\t\t\t\tborder-top-right-radius: 0;\r\n\t\t\t\tborder-bottom-right-radius: 0px;\r\n\t\t\t}\r\n\r\n\t\t\t.print-select-btn {\r\n\t\t\t\tborder-top-left-radius: 0;\r\n\t\t\t\tborder-bottom-left-radius: 0px;\r\n\t\t\t\tmargin: 0;\r\n\t\t\t\twidth: 28px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tborder-left: 1px solid #fff;\r\n\t\t\t\tpadding-left: 0;\r\n\t\t\t\tpadding-right: 0;\r\n\t\t\t\tborder-left-color: rgba(255, 255, 255, .5);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.log-content {\r\n\t\t\tbackground-color: #FFFFFF;\r\n\r\n\t\t\t.log-line {\r\n\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\twidth: calc(100% - 40px);\r\n\t\t\t\tmargin: 0 20px;\r\n\t\t\t\tline-height: 28px;\r\n\t\t\t}\r\n\r\n\t\t\t.process-index {\r\n\t\t\t\twidth: 20px;\r\n\t\t\t\tbackground: #355DFF;\r\n\t\t\t\theight: 20px;\r\n\t\t\t\tborder-radius: 12px;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 20px;\r\n\t\t\t\tmargin: 0 12px;\r\n\t\t\t\tfont-size: 12px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n<style>\r\n\t.full-dialog .el-dialog{\r\n\t\tbackground: transparent;\r\n\t}\r\n\t.full-dialog .el-dialog__body {\r\n\t\tpadding: 0;\r\n\t\twidth: 100%;\r\n\t\tcolor: #191919;\r\n\t\theight: calc(100vh - 96px);\r\n\t}\r\n\t.full-dialog .el-dialog__header {\r\n\t\theight: 96px;\r\n\t\tpadding: 36px 20px;\r\n\t\tborder-bottom: 1px solid #ebebeb;\r\n\t\tbackground: #fff;\r\n\t\tcolor: #191919;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\t.full-dialog .el-dialog__title {\r\n\t\tfont-size: 24px;\r\n\t\tline-height: 24px;\r\n\t\tcolor: #191919;\r\n\t}\r\n\t.full-dialog .el-dialog__body .el-main {\r\n\t\t/* background-color: rgba(0, 0, 0, 0.5); */\r\n\t}\r\n\t.full-dialog .el-dialog__headerbtn {\r\n\t\ttop: 96px;\r\n\t\tright: 0;\r\n\t\tcolor: #355DFF;\r\n\t\tbackground: rgba(53, 93, 255, 0.1);\r\n\t\twidth: 36px;\r\n\t\theight: 36px;\r\n\t\tborder-radius: 0 0 0 50px;\r\n\t}\r\n\t\r\n\t.full-dialog .el-dialog__close {\r\n\t\tposition: absolute;\r\n\t\tright: 0px;\r\n\t\tcolor: #355DFF !important;\r\n\t\tfont-size: 20px;\r\n\t\tfont-weight: 600;\r\n\t\ttop: 4px;\r\n\t\r\n\t}\r\n\t\r\n\t.el-button--primary:hover {\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground-color: #409EFF;\r\n\t}\r\n\t.el-button--primary {\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground-color: #355DFF;\r\n\t\tborder-color: #355DFF;\r\n\t\theight: 36px;\r\n\t\tline-height: 36px;\r\n\t\tpadding: 0 20px;\r\n\t}\r\n\t.el-input__inner {\r\n\t\theight: 36px;\r\n\t\tline-height: 36px;\r\n\t}\r\n\t.el-table thead {\r\n\t\tcolor: #040415;\r\n\t}\r\n\t.el-select {\r\n\t\twidth: 100%;\r\n\t}\r\n\t.el-tabs__item:hover {\r\n\t\tcolor: #355DFF !important;\r\n\t}\r\n\t.el-tabs__item.is-active {\r\n\t\tcolor: #355DFF !important;\r\n\t}\r\n</style>"]}]}