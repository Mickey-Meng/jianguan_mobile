{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\project\\quality\\newPage\\qualityActivity\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\project\\quality\\newPage\\qualityActivity\\detail.vue","mtime":1684246188022},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJaW1wb3J0ICogYXMgYXBpIGZyb20gIkAvYXBpL3F1YWxpdHkiOw0KCWltcG9ydCB7DQoJCWNvbnZlcnRPcHRpb25zLA0KCQlnZXRRdWVyeVZhcmlhYmxlLA0KCQlmb3JtYXREYXRlLA0KCQlnZXREYXlzQmV0d2Vlbg0KCX0gZnJvbSAiQC91dGlscy9mb3JtYXQuanMiOw0KCWltcG9ydCB0YXNrbG9nIGZyb20gIkAvdmlld3MvY29tbW9uL3Rhc2tsb2cudnVlIg0KDQoJaW1wb3J0IHRhc2toYW5kbGUgZnJvbSAnQC92aWV3cy9jb21tb24vdGFza2hhbmRsZScNCglpbXBvcnQgYXR0YWNobGlzdCBmcm9tICJAL3ZpZXdzL2NvbW1vbi9hdHRhY2hsaXN0Ig0KCWltcG9ydCBwcm9qZWN0aW5mbyBmcm9tICJAL3ZpZXdzL2NvbW1vbi9wcm9qZWN0aW5mby52dWUiDQoNCglleHBvcnQgZGVmYXVsdCB7DQoJCXByb3BzOiBbJ2RldGFpbFJvdyddLA0KCQlkYXRhKCkgew0KCQkJcmV0dXJuIHsNCgkJCQlkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsDQoJCQkJZGlhbG9nVGl0bGU6ICfpobnnm67lhajnlJ/lkb3lkajmnJ/mlbDlrZfnrqHnkIblubPlj7AnLA0KCQkJCWJhc2VJbmZvOiB7DQoJCQkJCWJ1aWxkU2VjdGlvbjogJycsDQoJCQkJCWJ1aWxkU2VjdGlvbk5hbWU6ICcyMzXlm73pgZPmna3lt57oh7Por7jmmqjlhazot6/okKflsbHmsrPkuIroh7Por7jmmqjlronljY7mrrXmlLnlu7rlt6XnqIsnLA0KCQkJCQljb250cmFjdENvZGU6ICcyMzVTSlNHMDEnLA0KCQkJCQlidWlsZENvbXBhbnk6ICfkuK3kuqTkuIrmtbfoiKrpgZPlsYDmnInpmZDlhazlj7jjgIHkuK3lm73kuqTpgJrlu7rorr7ogqHku73mnInpmZDlhazlj7jjgIHmtZnmsZ/or7jlronlu7rorr7pm4blm6LmnInpmZDlhazlj7jjgIHmtZnmsZ/nnIHkuqTpgJrop4TliJLorr7orqHnoJTnqbbpmaLmnInpmZDlhazlj7gnLA0KCQkJCQlzdXBlcnZpc2lvblVuaXQ6ICfmtZnmsZ/kuqTnp5Hlhazot6/msLTov5Dlt6XnqIvnm5HnkIbmnInpmZDlhazlj7gnLA0KCQkJCQlzdXBlcnZpc2lvblNlY3Rpb246ICfnm5HnkIblip4nDQoJCQkJfSwNCgkJCQlmb3JtRGF0YTogeyAvL+ihqOWNleWPguaVsA0KCQkJCQkiYWN0aXZpdHlJbmZvIjogIiIsDQoJCQkJCSJhdHRhY2htZW50IjogW10sDQoJCQkJCSJhdWRpdFVzZXIiOiB7fSwNCgkJCQkJImJ1aWxkU2VjdGlvbiI6IDAsDQoJCQkJCSJkZWxldGVkRmxhZyI6IDEsDQoJCQkJCSJkcmFmdEZsYWciOiAxLA0KCQkJCQlidWlsZFNlY3Rpb246IHRoaXMuJHN0b3JlLmdldHRlcnMuY3VycmVudEJpYW9EdWFuLmlkIHx8IDMsDQoJCQkJCXByb2plY3RJZDogdGhpcy4kc3RvcmUuZ2V0dGVycy5jdXJQcm9qZWN0LmlkIHx8IDIsDQoJCQkJCSJyZW1hcmsiOiAiIg0KCQkJCX0sDQoJCQkJdGFza0luZm86IHt9DQoJCQl9Ow0KCQl9LA0KCQljcmVhdGVkKCkge30sDQoJCWNvbXBvbmVudHM6IHsNCgkJCXRhc2tsb2csDQoJCQl0YXNraGFuZGxlLA0KCQkJYXR0YWNobGlzdCwNCgkJCXByb2plY3RpbmZvDQoJCX0sDQoJCWNvbXB1dGVkOiB7fSwNCgkJd2F0Y2g6IHsNCgkJCWRldGFpbFJvdyhvYmopIHsNCgkJCQlpZiAob2JqWydpZCddKSB7DQoJCQkJCXRoaXMuZ2V0RGV0YWlsKG9ialsnaWQnXSk7DQoJCQkJfQ0KCQkJfQ0KCQl9LA0KCQltb3VudGVkKCkgew0KCQkJLy8gc2V0VGltZW91dCgoKT0+ew0KCQkJLy8gCXZhciBwYXJhbXMgPSBnZXRRdWVyeVZhcmlhYmxlKCk7DQoJCQkvLyAJaWYgKHBhcmFtc1sncHJvY2Vzc0RlZmluaXRpb25JZCddKSB7DQoJCQkvLyAJCXRoaXMuZGlhbG9nRm9ybVZpc2libGU9dHJ1ZTsNCgkJCS8vIAkJcGFyYW1zWydpZCddID0gcGFyYW1zWydidXNpbmVzc0tleSddOw0KCQkJLy8gCQl0aGlzLnRhc2tJbmZvPXBhcmFtczsNCgkJCS8vIAkJdGhpcy5nZXREZXRhaWwocGFyYW1zWydidXNpbmVzc0tleSddKTsNCgkJCS8vIAl9DQoJCQkvLyB9LDUwMCkNCgkJfSwNCgkJbWV0aG9kczogew0KCQkJY2xvc2VEaWFsb2coKSB7DQoJCQkJLy8gaWYgKHRoaXMudGFza0luZm9bJ3Byb2Nlc3NEZWZpbml0aW9uSWQnXSkgew0KCQkJCS8vIAl0aGlzLiRyb3V0ZXIuZ28oLTEpOw0KCQkJCS8vIH0NCgkJCX0sDQoJCQljaGFuZ2VWaXNpYmxlKHZhbHVlKSB7DQoJCQkJdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHZhbHVlOw0KCQkJfSwNCgkJCWdldERldGFpbChpZCkgew0KCQkJCWFwaS5nZXRRdWFsaXR5QWN0aXZpdHlEZWF0aWwoaWQpLnRoZW4oKHJlcykgPT4gew0KCQkJCQlsZXQgZGF0YSA9IHJlc1snZGF0YSddIHx8IHt9Ow0KCQkJCQl0aGlzLmZvcm1EYXRhID0gZGF0YTsNCgkJCQl9KTsNCgkJCQlhcGkuZ2V0Rmxvd0FuZFRhc2tJbmZvKHsNCgkJCQkJYnVzaW5lc3NLZXk6IGlkDQoJCQkJfSkudGhlbigocmVzKSA9PiB7DQoJCQkJCWNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCgkJCQkJbGV0IGRhdGEgPSByZXNbJ2RhdGEnXTsNCgkJCQkJdGhpcy50YXNrSW5mbyA9IHsNCgkJCQkJCXByb2Nlc3NEZWZpbml0aW9uSWQ6IGRhdGFbJ3Byb2Nlc3NEZWZpbml0aW9uSWQnXSwNCgkJCQkJCXByb2Nlc3NJbnN0YW5jZUlkOiBkYXRhWydwcm9jZXNzSW5zdGFuY2VJZCddLA0KCQkJCQkJdGFza0lkOiBkYXRhWyd0YXNrSWQnXSwNCgkJCQkJCWZsb3dLZXk6ICd6aGlsaWFuZ2h1b2RvbmcnDQoJCQkJCX0NCgkJCQkJdGhpcy51cGRhdGVUYXNrTG9nKCk7DQoJCQkJfSk7DQoJCQl9LA0KCQkJdXBkYXRlVGFza0xvZygpIHsNCgkJCQlzZXRUaW1lb3V0KCgpID0+IHsNCgkJCQkJdGhpcy4kcmVmc1sndGFza2xvZyddLmluaXREYXRhKCk7DQoJCQkJfSwgMTAwKQ0KCQkJfSwNCgkJfSwNCgl9Ow0K"},{"version":3,"sources":["detail.vue"],"names":[],"mappings":";AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"detail.vue","sourceRoot":"src/views/project/quality/newPage/qualityActivity","sourcesContent":["<template>\r\n\t<div class=\"detail\" v-show=\"dialogFormVisible\">\r\n\t\t<div class=\"full-dialog defined-dialog\">\r\n\t\t\t<template slot=\"title\">\r\n\t\t\t\t{{dialogTitle}}\r\n\t\t\t\t<div class=\"logo-icon\"></div>\r\n\t\t\t</template>\r\n\t\t\t<el-container>\r\n\t\t\t\t<el-main\r\n\t\t\t\t\tstyle=\"background-color: rgba(0,0 0,0.5);height: calc(100vh - 96px); overflow-y: scroll;padding: 0px;margin: 0;\">\r\n\t\t\t\t\t<div class=\"form-bg\">\r\n\t\t\t\t\t\t<div class=\"form-content\">\r\n\t\t\t\t\t\t\t<el-form ref=\"form\" label-width=\"80px\">\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-block-title\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"title-bar\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<strong>基本信息</strong>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"form-btns\">\r\n\t\t\t\t\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\t\t\t\t\ticon=\"el-icon-close\"\r\n\t\t\t\t\t\t\t\t\t\t\tcircle\r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"dialogFormVisible = false\"\r\n\t\t\t\t\t\t\t\t\t\t></el-button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<projectinfo></projectinfo>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-label\">活动内容概述</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{formData.activityInfo}}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-label\">备注<i class=\"require-icon\"></i></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{formData.remark}}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-block-title\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"title-bar\"></div><strong>附件上传</strong>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <span style=\"font-size: 12px;margin-left: 40px;\">最少数量1， 支持上传 docx doc pdf\r\n\t\t\t\t\t\t\t\t\t\t\t文件，且不超过 200M</span> -->\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<attachlist :editAble=\"false\" ref=\"attachlist\" :attachTable=\"formData.attachment\">\r\n\t\t\t\t\t\t\t\t\t</attachlist>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t\t<strong style=\"font-size: 16px; font-family: 'Microsoft YaHei'\">流程日志</strong>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<tasklog :taskInfo=\"taskInfo\" ref=\"tasklog\"></tasklog>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- <taskhandle :taskInfo=\"taskInfo\"></taskhandle> -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-main>\r\n\t\t\t</el-container>\r\n\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport * as api from \"@/api/quality\";\r\n\timport {\r\n\t\tconvertOptions,\r\n\t\tgetQueryVariable,\r\n\t\tformatDate,\r\n\t\tgetDaysBetween\r\n\t} from \"@/utils/format.js\";\r\n\timport tasklog from \"@/views/common/tasklog.vue\"\r\n\r\n\timport taskhandle from '@/views/common/taskhandle'\r\n\timport attachlist from \"@/views/common/attachlist\"\r\n\timport projectinfo from \"@/views/common/projectinfo.vue\"\r\n\r\n\texport default {\r\n\t\tprops: ['detailRow'],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tdialogTitle: '项目全生命周期数字管理平台',\r\n\t\t\t\tbaseInfo: {\r\n\t\t\t\t\tbuildSection: '',\r\n\t\t\t\t\tbuildSectionName: '235国道杭州至诸暨公路萧山河上至诸暨安华段改建工程',\r\n\t\t\t\t\tcontractCode: '235SJSG01',\r\n\t\t\t\t\tbuildCompany: '中交上海航道局有限公司、中国交通建设股份有限公司、浙江诸安建设集团有限公司、浙江省交通规划设计研究院有限公司',\r\n\t\t\t\t\tsupervisionUnit: '浙江交科公路水运工程监理有限公司',\r\n\t\t\t\t\tsupervisionSection: '监理办'\r\n\t\t\t\t},\r\n\t\t\t\tformData: { //表单参数\r\n\t\t\t\t\t\"activityInfo\": \"\",\r\n\t\t\t\t\t\"attachment\": [],\r\n\t\t\t\t\t\"auditUser\": {},\r\n\t\t\t\t\t\"buildSection\": 0,\r\n\t\t\t\t\t\"deletedFlag\": 1,\r\n\t\t\t\t\t\"draftFlag\": 1,\r\n\t\t\t\t\tbuildSection: this.$store.getters.currentBiaoDuan.id || 3,\r\n\t\t\t\t\tprojectId: this.$store.getters.curProject.id || 2,\r\n\t\t\t\t\t\"remark\": \"\"\r\n\t\t\t\t},\r\n\t\t\t\ttaskInfo: {}\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tcomponents: {\r\n\t\t\ttasklog,\r\n\t\t\ttaskhandle,\r\n\t\t\tattachlist,\r\n\t\t\tprojectinfo\r\n\t\t},\r\n\t\tcomputed: {},\r\n\t\twatch: {\r\n\t\t\tdetailRow(obj) {\r\n\t\t\t\tif (obj['id']) {\r\n\t\t\t\t\tthis.getDetail(obj['id']);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// setTimeout(()=>{\r\n\t\t\t// \tvar params = getQueryVariable();\r\n\t\t\t// \tif (params['processDefinitionId']) {\r\n\t\t\t// \t\tthis.dialogFormVisible=true;\r\n\t\t\t// \t\tparams['id'] = params['businessKey'];\r\n\t\t\t// \t\tthis.taskInfo=params;\r\n\t\t\t// \t\tthis.getDetail(params['businessKey']);\r\n\t\t\t// \t}\r\n\t\t\t// },500)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcloseDialog() {\r\n\t\t\t\t// if (this.taskInfo['processDefinitionId']) {\r\n\t\t\t\t// \tthis.$router.go(-1);\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tchangeVisible(value) {\r\n\t\t\t\tthis.dialogFormVisible = value;\r\n\t\t\t},\r\n\t\t\tgetDetail(id) {\r\n\t\t\t\tapi.getQualityActivityDeatil(id).then((res) => {\r\n\t\t\t\t\tlet data = res['data'] || {};\r\n\t\t\t\t\tthis.formData = data;\r\n\t\t\t\t});\r\n\t\t\t\tapi.getFlowAndTaskInfo({\r\n\t\t\t\t\tbusinessKey: id\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tlet data = res['data'];\r\n\t\t\t\t\tthis.taskInfo = {\r\n\t\t\t\t\t\tprocessDefinitionId: data['processDefinitionId'],\r\n\t\t\t\t\t\tprocessInstanceId: data['processInstanceId'],\r\n\t\t\t\t\t\ttaskId: data['taskId'],\r\n\t\t\t\t\t\tflowKey: 'zhilianghuodong'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.updateTaskLog();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tupdateTaskLog() {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.$refs['tasklog'].initData();\r\n\t\t\t\t}, 100)\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t@import \"@/assets/css/dialog.scss\";\r\n    .detail{\r\n        position: absolute;\r\n        height: 100%;\r\n        width: 100%;\r\n        background: rgba(61, 61, 61, 0.5);\r\n        top: 0px;\r\n    }\r\n</style>\r\n"]}]}