{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\components\\Overview.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\components\\Overview.vue","mtime":1684246187877},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCcNCmltcG9ydCBjb25zdGFudEZpZWxkIGZyb20gJ0AvYXBpL2hvbWUnDQppbXBvcnQgQ29tbW9uQ2hhcnQgZnJvbSAnQC9jb21wb25lbnRzL2VjaGFydHMvQ29tbW9uQ2hhcnQnDQppbXBvcnQgeyBnZXRNaWRkbGVEYXRhLCBnZXRGaW5pc2hDb25wb25lbnQgfSBmcm9tICdAL2FwaS9wcm9qZWN0LmpzJw0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgQ29tbW9uQ2hhcnQNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZGF0YTogWw0KICAgICAgICB7DQogICAgICAgICAgbmFtZTogJ+aehOS7tuaAu+aVsOmHjycsDQogICAgICAgICAgdmFsdWU6IDAsDQogICAgICAgICAgY29sb3I6ICcjMTk4OWZhJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbmFtZTogJ+W3suWujOaIkOaVsOmHjycsDQogICAgICAgICAgdmFsdWU6IDAsDQogICAgICAgICAgY29sb3I6ICcjMDdjMTYwJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbmFtZTogJ+W7tuacn+aVsOmHjycsDQogICAgICAgICAgdmFsdWU6IDAsDQogICAgICAgICAgY29sb3I6ICcjZWUwYTI0Jw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbmFtZTogJ+W9k+WkqeWujOaIkOaVsOmHjycsDQogICAgICAgICAgdmFsdWU6IDAsDQogICAgICAgICAgY29sb3I6ICcjMTk4OWZhJw0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgbGVmdERhdGE6IFsNCiAgICAgICAgeyB2YWx1ZTogNDAsIG5hbWU6ICflt7LlrozmiJAnIH0sDQogICAgICAgIHsgdmFsdWU6IDYwLCBuYW1lOiAn5pyq5a6M5oiQJyB9DQogICAgICBdLA0KICAgICAgcmlnaHREYXRhOiBbDQogICAgICAgIHsgdmFsdWU6IDUwLCBuYW1lOiAn5bey5a6M5oiQJyB9LA0KICAgICAgICB7IHZhbHVlOiA1MCwgbmFtZTogJ+acquWujOaIkCcgfQ0KICAgICAgXSwNCiAgICAgIGxlZnRPcHRpb25zOiB7fSwNCiAgICAgIHJpZ2h0T3B0aW9uczoge30sDQogICAgICBzaG93Q2hhcnQ6IGZhbHNlLA0KICAgICAgc2hvd01pZGRsZURhdGE6IGZhbHNlLA0KICAgICAgaXNSZXF1ZXN0OiBmYWxzZSwNCiAgICAgIHByb2plY3RUeXBlczogY29uc3RhbnRGaWVsZC5wcm9qZWN0VHlwZXMsDQogICAgICBwcm9qZWN0VHlwZTogJycNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbJ2N1cnJlbnRQcm9qZWN0JywgJ2N1cnJlbnRCaWFvRHVhbicsICdjdXJQcm9qZWN0J10pDQogIH0sDQogIHdhdGNoOiB7DQogICAgcHJvamVjdFR5cGU6IGZ1bmN0aW9uKHZhbHVlKSB7DQogICAgICBsZXQgcHJvamVjdCA9IGNvbnN0YW50RmllbGQucHJvamVjdFR5cGVzLmZpbmQoaXRlbSA9PiBpdGVtLnZhbHVlID09PSB2YWx1ZSkNCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRQcm9qZWN0ID0gcHJvamVjdA0KICAgIH0sDQogICAgY3VycmVudFByb2plY3Q6IGZ1bmN0aW9uKHZhbHVlKSB7DQogICAgICB0aGlzLmdldEN1cnJlbnRNaWRkbGVEYXRhKHZhbHVlKQ0KICAgICAgdGhpcy5nZXRDdXJyZW50RmluaXNoQ29ucG9uZW50KHZhbHVlKQ0KICAgIH0sDQogICAgY3VycmVudEJpYW9EdWFuOiBmdW5jdGlvbigpIHsNCiAgICAgIHRoaXMuaW5pdCgpDQogICAgICB0aGlzLmdldEN1cnJlbnRNaWRkbGVEYXRhKHRoaXMuY3VycmVudFByb2plY3QpDQogICAgICB0aGlzLmdldEN1cnJlbnRGaW5pc2hDb25wb25lbnQodGhpcy5jdXJyZW50UHJvamVjdCkNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5pbml0KCkNCiAgICB0aGlzLmdldEN1cnJlbnRNaWRkbGVEYXRhKHRoaXMuY3VycmVudFByb2plY3QpDQogICAgdGhpcy5nZXRDdXJyZW50RmluaXNoQ29ucG9uZW50KHRoaXMuY3VycmVudFByb2plY3QpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpc05vdEcyMzUoKSB7DQogICAgICByZXR1cm4gdGhpcy5jdXJQcm9qZWN0Py5pZCAhPT0gMg0KICAgIH0sDQogICAgaW5pdCgpIHsNCiAgICAgIHRoaXMucHJvamVjdFR5cGUgPSB0aGlzLnByb2plY3RUeXBlc1swXS52YWx1ZQ0KICAgIH0sDQogICAgZ2V0Q3VycmVudEZpbmlzaENvbnBvbmVudChjdXJyZW50UHJvamVjdCkgew0KICAgICAgZ2V0RmluaXNoQ29ucG9uZW50KHsgdHlwZTogY3VycmVudFByb2plY3QudmFsdWUgfSkudGhlbihkYXRhID0+IHsNCiAgICAgICAgdGhpcy5sZWZ0RGF0YSA9IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICB2YWx1ZTogdGhpcy5pc05vdEcyMzUoKQ0KICAgICAgICAgICAgICA/IDANCiAgICAgICAgICAgICAgOiBkYXRhLmFjdC5jb3VudCA9PT0gMA0KICAgICAgICAgICAgICA/IDANCiAgICAgICAgICAgICAgOiAoKGRhdGEuYWN0LmZpbmlzaCAvIGRhdGEuYWN0LmNvdW50KSAqIDEwMCkudG9GaXhlZCgyKSwNCiAgICAgICAgICAgIG5hbWU6ICflt7LlrozmiJAnDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB2YWx1ZTogdGhpcy5pc05vdEcyMzUoKQ0KICAgICAgICAgICAgICA/IDANCiAgICAgICAgICAgICAgOiBkYXRhLmFjdC5jb3VudCA9PT0gMA0KICAgICAgICAgICAgICA/IDANCiAgICAgICAgICAgICAgOiAoKChkYXRhLmFjdC5jb3VudCAtIGRhdGEuYWN0LmZpbmlzaCkgLyBkYXRhLmFjdC5jb3VudCkgKiAxMDApLnRvRml4ZWQoMiksDQogICAgICAgICAgICBuYW1lOiAn5pyq5a6M5oiQJw0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KDQogICAgICAgIHRoaXMucmlnaHREYXRhID0gWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmlzTm90RzIzNSgpDQogICAgICAgICAgICAgID8gMA0KICAgICAgICAgICAgICA6IGRhdGEucGxhbi5jb3VudCA9PT0gMA0KICAgICAgICAgICAgICA/IDANCiAgICAgICAgICAgICAgOiAoKGRhdGEucGxhbi5maW5pc2ggLyBkYXRhLnBsYW4uY291bnQpICogMTAwKS50b0ZpeGVkKDIpLA0KICAgICAgICAgICAgbmFtZTogJ+W3suWujOaIkCcNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmlzTm90RzIzNSgpDQogICAgICAgICAgICAgID8gMA0KICAgICAgICAgICAgICA6IGRhdGEucGxhbi5jb3VudCA9PT0gMA0KICAgICAgICAgICAgICA/IDANCiAgICAgICAgICAgICAgOiAoKChkYXRhLnBsYW4uY291bnQgLSBkYXRhLnBsYW4uZmluaXNoKSAvIGRhdGEucGxhbi5jb3VudCkgKiAxMDApLnRvRml4ZWQoMiksDQogICAgICAgICAgICBuYW1lOiAn5pyq5a6M5oiQJw0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KDQogICAgICAgIHRoaXMuZHJhd0NoYXJ0KCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRDdXJyZW50TWlkZGxlRGF0YShjdXJyZW50UHJvamVjdCkgew0KICAgICAgdGhpcy5pc1JlcXVlc3QgPSB0cnVlDQogICAgICBnZXRNaWRkbGVEYXRhKHsgcHJvamVjdElkOiB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50Qmlhb0R1YW4uaWQgfSkudGhlbihkYXRhID0+IHsNCiAgICAgICAgbGV0IGl0ZW0gPSBkYXRhW2N1cnJlbnRQcm9qZWN0LnZhbHVlXQ0KICAgICAgICB0aGlzLmRhdGFbMF0udmFsdWUgPSBpdGVtID8gaXRlbS5jb3VudCA6IDANCiAgICAgICAgdGhpcy5kYXRhWzFdLnZhbHVlID0gaXRlbSA/IGl0ZW0uZmluaXNoIDogMA0KICAgICAgICB0aGlzLmRhdGFbMl0udmFsdWUgPSBpdGVtID8gaXRlbS5kYWxheSA6IDANCiAgICAgICAgdGhpcy5kYXRhWzNdLnZhbHVlID0gaXRlbSA/IGl0ZW0udG9kYXlGaW5pc2ggOiAwDQogICAgICAgIHRoaXMuc2hvd01pZGRsZURhdGEgPSB0cnVlDQogICAgICAgIHRoaXMuaXNSZXF1ZXN0ID0gZmFsc2UNCiAgICAgIH0pDQogICAgfSwNCiAgICB0eXBlQ2hhbmdlKGl0ZW0pIHsNCiAgICAgIHRoaXMudHlwZSA9IGl0ZW0ubmFtZQ0KICAgICAgdGhpcy5zaG93ID0gZmFsc2UNCiAgICAgIHRoaXMuZHJhd0NoYXJ0KCkNCiAgICB9LA0KICAgIGRyYXdDaGFydCgpIHsNCiAgICAgIHRoaXMuc2hvd0NoYXJ0ID0gZmFsc2UNCiAgICAgIHRoaXMubGVmdE9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoJ+W9ouixoeWujOaIkOmHjycsIHRoaXMubGVmdERhdGEpDQogICAgICB0aGlzLnJpZ2h0T3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucygn6K6h5YiS5a6M5oiQ6YePJywgdGhpcy5yaWdodERhdGEpDQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHRoaXMuc2hvd0NoYXJ0ID0gdHJ1ZQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldE9wdGlvbnModGl0bGUsIGRhdGEpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGdyYXBoaWM6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICB0eXBlOiAndGV4dCcsDQogICAgICAgICAgICBsZWZ0OiAnNDAlJywNCiAgICAgICAgICAgIHRvcDogJzM3JScsDQogICAgICAgICAgICB6OiAxMCwNCiAgICAgICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgICAgIGZpbGw6ICcjNmY5NDI2JywNCiAgICAgICAgICAgICAgdGV4dDogZGF0YVswXS52YWx1ZSArICclJywNCiAgICAgICAgICAgICAgZm9udDogJzE0cHggTWljcm9zb2Z0IFlhSGVpJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGZvcm1hdHRlcjogJ+i/m+W6pu+8mntkfSUnDQogICAgICAgICAgfQ0KICAgICAgICBdLA0KICAgICAgICB0b29sdGlwOiB7DQogICAgICAgICAgdHJpZ2dlcjogJ2l0ZW0nLA0KICAgICAgICAgIGZvcm1hdHRlcjogJ+i/m+W6pu+8mntkfSUnLA0KICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC44KScNCiAgICAgICAgfSwNCiAgICAgICAgdGl0bGU6IHsNCiAgICAgICAgICB0ZXh0OiB0aXRsZSwNCiAgICAgICAgICB4OiAnY2VudGVyJywNCiAgICAgICAgICB5OiAnYm90dG9tJywNCiAgICAgICAgICBwYWRkaW5nOiBbMCwgMCwgMjAsIDBdLA0KICAgICAgICAgIHRleHRTdHlsZTogew0KICAgICAgICAgICAgZm9udFNpemU6IDE1DQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzZXJpZXM6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICBuYW1lOiB0aXRsZSwNCiAgICAgICAgICAgIHR5cGU6ICdwaWUnLA0KICAgICAgICAgICAgcmFkaXVzOiBbJzM4LjUlJywgJzQ5JSddLA0KICAgICAgICAgICAgY2VudGVyOiBbJzUwJScsICc0MCUnXSwNCiAgICAgICAgICAgIGl0ZW1TdHlsZTogew0KICAgICAgICAgICAgICBub3JtYWw6IHsNCiAgICAgICAgICAgICAgICBsYWJlbDogew0KICAgICAgICAgICAgICAgICAgc2hvdzogZmFsc2UNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGxhYmVsTGluZTogew0KICAgICAgICAgICAgICAgICAgc2hvdzogZmFsc2UNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBkYXRhOiBkYXRhDQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9DQogICAgfSwNCiAgICB0b1JlcG9ydCgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ3JlcG9ydCcgfSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Overview.vue"],"names":[],"mappings":";AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Overview.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"overview\">\r\n    <div class=\"content-chart\">\r\n      <van-row class=\"content\" v-show=\"showMiddleData\">\r\n        <van-col span=\"6\" v-for=\"(item, index) in data\" :key=\"index\">\r\n          <div class=\"value\" :style=\"{ color: item.color }\">{{ isNotG235() ? 0 : item.value }}</div>\r\n          <div class=\"name\">{{ item.name }}</div>\r\n        </van-col>\r\n      </van-row>\r\n      <van-row class=\"echart\" v-if=\"showChart\" @click=\"toReport\">\r\n        <van-col span=\"12\"><common-chart :options=\"leftOptions\" className=\"circle\"></common-chart></van-col>\r\n        <van-col span=\"12\"><common-chart :options=\"rightOptions\" className=\"circle\"></common-chart></van-col>\r\n      </van-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport constantField from '@/api/home'\r\nimport CommonChart from '@/components/echarts/CommonChart'\r\nimport { getMiddleData, getFinishConponent } from '@/api/project.js'\r\nexport default {\r\n  components: {\r\n    CommonChart\r\n  },\r\n  data() {\r\n    return {\r\n      data: [\r\n        {\r\n          name: '构件总数量',\r\n          value: 0,\r\n          color: '#1989fa'\r\n        },\r\n        {\r\n          name: '已完成数量',\r\n          value: 0,\r\n          color: '#07c160'\r\n        },\r\n        {\r\n          name: '延期数量',\r\n          value: 0,\r\n          color: '#ee0a24'\r\n        },\r\n        {\r\n          name: '当天完成数量',\r\n          value: 0,\r\n          color: '#1989fa'\r\n        }\r\n      ],\r\n      leftData: [\r\n        { value: 40, name: '已完成' },\r\n        { value: 60, name: '未完成' }\r\n      ],\r\n      rightData: [\r\n        { value: 50, name: '已完成' },\r\n        { value: 50, name: '未完成' }\r\n      ],\r\n      leftOptions: {},\r\n      rightOptions: {},\r\n      showChart: false,\r\n      showMiddleData: false,\r\n      isRequest: false,\r\n      projectTypes: constantField.projectTypes,\r\n      projectType: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currentProject', 'currentBiaoDuan', 'curProject'])\r\n  },\r\n  watch: {\r\n    projectType: function(value) {\r\n      let project = constantField.projectTypes.find(item => item.value === value)\r\n      this.$store.state.currentProject = project\r\n    },\r\n    currentProject: function(value) {\r\n      this.getCurrentMiddleData(value)\r\n      this.getCurrentFinishConponent(value)\r\n    },\r\n    currentBiaoDuan: function() {\r\n      this.init()\r\n      this.getCurrentMiddleData(this.currentProject)\r\n      this.getCurrentFinishConponent(this.currentProject)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n    this.getCurrentMiddleData(this.currentProject)\r\n    this.getCurrentFinishConponent(this.currentProject)\r\n  },\r\n  methods: {\r\n    isNotG235() {\r\n      return this.curProject?.id !== 2\r\n    },\r\n    init() {\r\n      this.projectType = this.projectTypes[0].value\r\n    },\r\n    getCurrentFinishConponent(currentProject) {\r\n      getFinishConponent({ type: currentProject.value }).then(data => {\r\n        this.leftData = [\r\n          {\r\n            value: this.isNotG235()\r\n              ? 0\r\n              : data.act.count === 0\r\n              ? 0\r\n              : ((data.act.finish / data.act.count) * 100).toFixed(2),\r\n            name: '已完成'\r\n          },\r\n          {\r\n            value: this.isNotG235()\r\n              ? 0\r\n              : data.act.count === 0\r\n              ? 0\r\n              : (((data.act.count - data.act.finish) / data.act.count) * 100).toFixed(2),\r\n            name: '未完成'\r\n          }\r\n        ]\r\n\r\n        this.rightData = [\r\n          {\r\n            value: this.isNotG235()\r\n              ? 0\r\n              : data.plan.count === 0\r\n              ? 0\r\n              : ((data.plan.finish / data.plan.count) * 100).toFixed(2),\r\n            name: '已完成'\r\n          },\r\n          {\r\n            value: this.isNotG235()\r\n              ? 0\r\n              : data.plan.count === 0\r\n              ? 0\r\n              : (((data.plan.count - data.plan.finish) / data.plan.count) * 100).toFixed(2),\r\n            name: '未完成'\r\n          }\r\n        ]\r\n\r\n        this.drawChart()\r\n      })\r\n    },\r\n    getCurrentMiddleData(currentProject) {\r\n      this.isRequest = true\r\n      getMiddleData({ projectId: this.$store.state.currentBiaoDuan.id }).then(data => {\r\n        let item = data[currentProject.value]\r\n        this.data[0].value = item ? item.count : 0\r\n        this.data[1].value = item ? item.finish : 0\r\n        this.data[2].value = item ? item.dalay : 0\r\n        this.data[3].value = item ? item.todayFinish : 0\r\n        this.showMiddleData = true\r\n        this.isRequest = false\r\n      })\r\n    },\r\n    typeChange(item) {\r\n      this.type = item.name\r\n      this.show = false\r\n      this.drawChart()\r\n    },\r\n    drawChart() {\r\n      this.showChart = false\r\n      this.leftOptions = this.getOptions('形象完成量', this.leftData)\r\n      this.rightOptions = this.getOptions('计划完成量', this.rightData)\r\n      this.$nextTick(() => {\r\n        this.showChart = true\r\n      })\r\n    },\r\n    getOptions(title, data) {\r\n      return {\r\n        graphic: [\r\n          {\r\n            type: 'text',\r\n            left: '40%',\r\n            top: '37%',\r\n            z: 10,\r\n            style: {\r\n              fill: '#6f9426',\r\n              text: data[0].value + '%',\r\n              font: '14px Microsoft YaHei'\r\n            },\r\n            formatter: '进度：{d}%'\r\n          }\r\n        ],\r\n        tooltip: {\r\n          trigger: 'item',\r\n          formatter: '进度：{d}%',\r\n          backgroundColor: 'rgba(255,255,255,0.8)'\r\n        },\r\n        title: {\r\n          text: title,\r\n          x: 'center',\r\n          y: 'bottom',\r\n          padding: [0, 0, 20, 0],\r\n          textStyle: {\r\n            fontSize: 15\r\n          }\r\n        },\r\n        series: [\r\n          {\r\n            name: title,\r\n            type: 'pie',\r\n            radius: ['38.5%', '49%'],\r\n            center: ['50%', '40%'],\r\n            itemStyle: {\r\n              normal: {\r\n                label: {\r\n                  show: false\r\n                },\r\n                labelLine: {\r\n                  show: false\r\n                }\r\n              }\r\n            },\r\n            data: data\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    toReport() {\r\n      this.$router.push({ name: 'report' })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.overview {\r\n  margin: 12px 0;\r\n  .condition {\r\n    background-color: white;\r\n    margin: 2px 0;\r\n    height: 38px;\r\n    line-height: 38px;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    width: 100%;\r\n    .span-container,\r\n    .type-container {\r\n      position: relative;\r\n      border: 1px solid $active-color;\r\n      border-radius: 5px;\r\n      height: 26px;\r\n      line-height: 26px;\r\n      margin-top: 6px;\r\n      float: left;\r\n      margin-left: 10px;\r\n      width: 120px;\r\n      background-color: $active-color;\r\n      color: white;\r\n      border: none;\r\n      span {\r\n        float: left;\r\n        margin-left: 10px;\r\n      }\r\n    }\r\n    .type-container {\r\n      background-color: transparent;\r\n      color: black;\r\n      float: right;\r\n      width: 180px;\r\n      border: 1px solid $active-color;\r\n      border-radius: 5px;\r\n      margin-right: 10px;\r\n    }\r\n    .type-container::after {\r\n      position: absolute;\r\n      top: 50%;\r\n      right: 10px;\r\n      margin-top: -5px;\r\n      border: 3px solid;\r\n      border-color: transparent transparent #dcdee0 #dcdee0;\r\n      -webkit-transform: rotate(-45deg);\r\n      transform: rotate(-45deg);\r\n      opacity: 0.8;\r\n      content: '';\r\n    }\r\n  }\r\n  .content-chart {\r\n    background-color: white;\r\n    border-radius: 6px;\r\n    margin: 12px 0;\r\n  }\r\n  .content {\r\n    .value {\r\n      text-align: center;\r\n      font-size: 30px;\r\n      margin: 10px 0 0 0;\r\n      font-weight: bold;\r\n      font-family: 'time', serif;\r\n    }\r\n    .name {\r\n      text-align: center;\r\n      margin: 0 0 10px 0;\r\n      font-size: 10px;\r\n    }\r\n  }\r\n  .echart {\r\n    .circle {\r\n      width: 100%;\r\n      height: 200px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}