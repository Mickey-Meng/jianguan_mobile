{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\common\\weatherDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\common\\weatherDetail.vue","mtime":1684246187968},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgQ29tbW9uQ2hhcnQgZnJvbSAnQC9jb21wb25lbnRzL2VjaGFydHMvQ29tbW9uQ2hhcnQnDQppbXBvcnQgeyBnZXRXZWF0aGVyIH0gZnJvbSAnQC9hcGkvd2VhdGhlci5qcycNCmltcG9ydCB7IGdldFdlYXRoZXJJbWcgfSBmcm9tICdAL3V0aWxzL2luZGV4Jw0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgQ29tbW9uQ2hhcnQNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZWNoYXJ0SWQ6ICd3ZWF0aGVyLWRldGFpbCcsDQogICAgICB4QXhpc0RhdGE6IFtdLA0KICAgICAgeEF4aXNEYXRhQm90dG9tOiBbXSwNCiAgICAgIHRlbTogW10sDQogICAgICB0ZW1Mb3c6IFtdLA0KICAgICAgdGVtV2l0aFN5bTogW10sDQogICAgICB5TWluOiAyMCwNCiAgICAgIHlNYXg6IDMwLA0KICAgICAgb3B0aW9uczogbnVsbCwNCiAgICAgIHNob3c6IGZhbHNlDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIGdldFdlYXRoZXIoKS50aGVuKGRhdGEgPT4gew0KICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAwKSB7DQogICAgICAgIGxldCBmb3JlY2FzdHMgPSBkYXRhLnJlc3VsdC5mb3JlY2FzdHMNCiAgICAgICAgZm9yZWNhc3RzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgdGhpcy54QXhpc0RhdGEucHVzaChpdGVtLnRleHRfZGF5KQ0KICAgICAgICAgIHRoaXMueEF4aXNEYXRhQm90dG9tLnB1c2goaXRlbS53ZWVrKQ0KICAgICAgICAgIHRoaXMudGVtLnB1c2goaXRlbS5oaWdoKQ0KICAgICAgICAgIHRoaXMudGVtTG93LnB1c2goaXRlbS5sb3cpDQogICAgICAgICAgdGhpcy50ZW1XaXRoU3ltLnB1c2goew0KICAgICAgICAgICAgdmFsdWU6IGl0ZW0uaGlnaCwNCiAgICAgICAgICAgIHN5bWJvbDogJ2ltYWdlOi8vJyArIGdldFdlYXRoZXJJbWcoaXRlbS50ZXh0X2RheSkNCiAgICAgICAgICB9KQ0KICAgICAgICB9KQ0KICAgICAgfQ0KDQogICAgICB0aGlzLnlNYXggPSB0aGlzLnRlbS5zb3J0KClbMF0gKyAxMA0KICAgICAgdGhpcy55TWluID0gdGhpcy50ZW1Mb3cuc29ydCgpW3RoaXMudGVtTG93Lmxlbmd0aCAtIDFdIC0gMTANCiAgICAgIHRoaXMudXBkYXRlQ2hhcnQoKQ0KICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB1cGRhdGVDaGFydCgpIHsNCiAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucygpOw0KICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsNCiAgICB9LA0KICAgIGdldE9wdGlvbnMoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJywNCiAgICAgICAgdG9vbHRpcDogew0KICAgICAgICAgIHNob3c6IGZhbHNlDQogICAgICAgIH0sDQogICAgICAgIGdyaWQ6IHsNCiAgICAgICAgICB0b3A6ICcxNSUnLA0KICAgICAgICAgIGxlZnQ6ICc4JScsDQogICAgICAgICAgcmlnaHQ6ICc4JScsDQogICAgICAgICAgYm90dG9tOiAnMTAlJw0KICAgICAgICB9LA0KICAgICAgICB4QXhpczogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGRhdGE6IHRoaXMueEF4aXNEYXRhLA0KICAgICAgICAgICAgYXhpc0xpbmU6IHsNCiAgICAgICAgICAgICAgbGluZVN0eWxlOiB7DQogICAgICAgICAgICAgICAgY29sb3I6ICcjM2I1ODcyJywNCiAgICAgICAgICAgICAgICB3aWR0aDogJzInDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBheGlzVGljazogew0KICAgICAgICAgICAgICBhbGlnbldpdGhMYWJlbDogdHJ1ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHNwbGl0TGluZTogew0KICAgICAgICAgICAgICBzaG93OiB0cnVlLA0KICAgICAgICAgICAgICBsaW5lU3R5bGU6IHsNCiAgICAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDA4MCcNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGF4aXNMYWJlbDogew0KICAgICAgICAgICAgICB0ZXh0U3R5bGU6IHsNCiAgICAgICAgICAgICAgICBmb250U2l6ZTogMTYsDQogICAgICAgICAgICAgICAgZm9udFdlaWdodDogJzYwMCcNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgZGF0YTogdGhpcy54QXhpc0RhdGFCb3R0b20sDQogICAgICAgICAgICBheGlzVGljazogew0KICAgICAgICAgICAgICBhbGlnbldpdGhMYWJlbDogdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgeUF4aXM6IHsNCiAgICAgICAgICBtaW46IHRoaXMueU1pbiwNCiAgICAgICAgICBtYXg6IHRoaXMueU1heCwNCiAgICAgICAgICBheGlzTGFiZWw6IHsNCiAgICAgICAgICAgIHNob3c6IHRydWUsDQogICAgICAgICAgICB0ZXh0U3R5bGU6IHsNCiAgICAgICAgICAgICAgY29sb3I6ICcjNWU1ZTVlJw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc2VyaWVzOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogJ2JhcicsDQogICAgICAgICAgICB6OiAxLA0KICAgICAgICAgICAgaXRlbVN0eWxlOiB7DQogICAgICAgICAgICAgIGNvbG9yOiB7DQogICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsDQogICAgICAgICAgICAgICAgeDogMCwNCiAgICAgICAgICAgICAgICB5OiAwLA0KICAgICAgICAgICAgICAgIHgyOiAwLA0KICAgICAgICAgICAgICAgIHkyOiAxLA0KICAgICAgICAgICAgICAgIGNvbG9yU3RvcHM6IFsNCiAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAwLA0KICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjE5LCAyMTksIDIxOSwxKScNCiAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG9mZnNldDogMC4zLA0KICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjE5LCAyMTksIDIxOSwuMyknDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDEsDQogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAncmdiYSgyMTksIDIxOSwgMjE5LC4xKScNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIGdsb2JhbDogZmFsc2UNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGJhcldpZHRoOiAnNDAnLA0KICAgICAgICAgICAgZGF0YTogdGhpcy50ZW0NCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG5hbWU6ICcnLA0KICAgICAgICAgICAgdHlwZTogJ2VmZmVjdFNjYXR0ZXInLA0KICAgICAgICAgICAgcmlwcGxlRWZmZWN0OiB7DQogICAgICAgICAgICAgIHBlcmlvZDogMSwNCiAgICAgICAgICAgICAgc2NhbGU6IDIsDQogICAgICAgICAgICAgIGJydXNoVHlwZTogJ2ZpbGwnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgejogMiwNCiAgICAgICAgICAgIHN5bWJvbFBvc2l0aW9uOiAnZW5kJywNCiAgICAgICAgICAgIHN5bWJvbFNpemU6IDUsDQogICAgICAgICAgICBpdGVtU3R5bGU6IHsNCiAgICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgICAgbGFiZWw6IHsNCiAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsDQogICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTYsDQogICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbScsDQogICAgICAgICAgICAgICAgICBkaXN0YW5jZTogLTIwLA0KICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiAocGFyYW1zKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtwYXJhbXMudmFsdWV9wrBgDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJzYwMCcNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBkYXRhOiB0aGlzLnRlbUxvdw0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgbmFtZTogJycsDQogICAgICAgICAgICB0eXBlOiAnZWZmZWN0U2NhdHRlcicsDQogICAgICAgICAgICByaXBwbGVFZmZlY3Q6IHsNCiAgICAgICAgICAgICAgcGVyaW9kOiAxLA0KICAgICAgICAgICAgICBzY2FsZTogMiwNCiAgICAgICAgICAgICAgYnJ1c2hUeXBlOiAnZmlsbCcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB6OiAyLA0KICAgICAgICAgICAgc3ltYm9sUG9zaXRpb246ICdlbmQnLA0KICAgICAgICAgICAgc3ltYm9sU2l6ZTogWzU2LCAzMl0sDQogICAgICAgICAgICBzeW1ib2xPZmZzZXQ6IFsnMCcsICcwJ10sDQogICAgICAgICAgICBpdGVtU3R5bGU6IHsNCiAgICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgICAgbGFiZWw6IHsNCiAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsDQogICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTYsDQogICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbScsDQogICAgICAgICAgICAgICAgICBkaXN0YW5jZTogLTU0LA0KICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiAocGFyYW1zKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHtwYXJhbXMudmFsdWV9wrBgDQogICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJzYwMCcNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBkYXRhOiB0aGlzLnRlbVdpdGhTeW0NCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG5hbWU6ICdBJywNCiAgICAgICAgICAgIHR5cGU6ICdsaW5lJywNCiAgICAgICAgICAgIHo6IDEsDQogICAgICAgICAgICBsaW5lU3R5bGU6IHsNCiAgICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgICAgd2lkdGg6IDIsDQogICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwJw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgc3ltYm9sU2l6ZTogWzAsIDBdLA0KICAgICAgICAgICAgZGF0YTogdGhpcy50ZW0NCiAgICAgICAgICB9DQogICAgICAgIF0NCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["weatherDetail.vue"],"names":[],"mappings":";AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"weatherDetail.vue","sourceRoot":"src/views/common","sourcesContent":["<template>\r\n  <div class=\"weather-detail\">\r\n    <common-chart v-if=\"show\" :options=\"options\" className=\"echart\"></common-chart>\r\n  </div>\r\n</template>\r\n<script>\r\nimport CommonChart from '@/components/echarts/CommonChart'\r\nimport { getWeather } from '@/api/weather.js'\r\nimport { getWeatherImg } from '@/utils/index'\r\nexport default {\r\n  components: {\r\n    CommonChart\r\n  },\r\n  data() {\r\n    return {\r\n      echartId: 'weather-detail',\r\n      xAxisData: [],\r\n      xAxisDataBottom: [],\r\n      tem: [],\r\n      temLow: [],\r\n      temWithSym: [],\r\n      yMin: 20,\r\n      yMax: 30,\r\n      options: null,\r\n      show: false\r\n    }\r\n  },\r\n  mounted() {\r\n    getWeather().then(data => {\r\n      if (data.status === 0) {\r\n        let forecasts = data.result.forecasts\r\n        forecasts.forEach((item, index) => {\r\n          this.xAxisData.push(item.text_day)\r\n          this.xAxisDataBottom.push(item.week)\r\n          this.tem.push(item.high)\r\n          this.temLow.push(item.low)\r\n          this.temWithSym.push({\r\n            value: item.high,\r\n            symbol: 'image://' + getWeatherImg(item.text_day)\r\n          })\r\n        })\r\n      }\r\n\r\n      this.yMax = this.tem.sort()[0] + 10\r\n      this.yMin = this.temLow.sort()[this.temLow.length - 1] - 10\r\n      this.updateChart()\r\n    })\r\n  },\r\n  methods: {\r\n    updateChart() {\r\n      this.options = this.getOptions();\r\n      this.show = true;\r\n    },\r\n    getOptions() {\r\n      return {\r\n        backgroundColor: '#fff',\r\n        tooltip: {\r\n          show: false\r\n        },\r\n        grid: {\r\n          top: '15%',\r\n          left: '8%',\r\n          right: '8%',\r\n          bottom: '10%'\r\n        },\r\n        xAxis: [\r\n          {\r\n            data: this.xAxisData,\r\n            axisLine: {\r\n              lineStyle: {\r\n                color: '#3b5872',\r\n                width: '2'\r\n              }\r\n            },\r\n            axisTick: {\r\n              alignWithLabel: true\r\n            },\r\n            splitLine: {\r\n              show: true,\r\n              lineStyle: {\r\n                color: '#00000080'\r\n              }\r\n            },\r\n            axisLabel: {\r\n              textStyle: {\r\n                fontSize: 16,\r\n                fontWeight: '600'\r\n              }\r\n            }\r\n          },\r\n          {\r\n            data: this.xAxisDataBottom,\r\n            axisTick: {\r\n              alignWithLabel: true\r\n            }\r\n          }\r\n        ],\r\n        yAxis: {\r\n          min: this.yMin,\r\n          max: this.yMax,\r\n          axisLabel: {\r\n            show: true,\r\n            textStyle: {\r\n              color: '#5e5e5e'\r\n            }\r\n          }\r\n        },\r\n        series: [\r\n          {\r\n            type: 'bar',\r\n            z: 1,\r\n            itemStyle: {\r\n              color: {\r\n                type: 'linear',\r\n                x: 0,\r\n                y: 0,\r\n                x2: 0,\r\n                y2: 1,\r\n                colorStops: [\r\n                  {\r\n                    offset: 0,\r\n                    color: 'rgba(219, 219, 219,1)'\r\n                  },\r\n                  {\r\n                    offset: 0.3,\r\n                    color: 'rgba(219, 219, 219,.3)'\r\n                  },\r\n                  {\r\n                    offset: 1,\r\n                    color: 'rgba(219, 219, 219,.1)'\r\n                  }\r\n                ],\r\n                global: false\r\n              }\r\n            },\r\n            barWidth: '40',\r\n            data: this.tem\r\n          },\r\n          {\r\n            name: '',\r\n            type: 'effectScatter',\r\n            rippleEffect: {\r\n              period: 1,\r\n              scale: 2,\r\n              brushType: 'fill'\r\n            },\r\n            z: 2,\r\n            symbolPosition: 'end',\r\n            symbolSize: 5,\r\n            itemStyle: {\r\n              normal: {\r\n                label: {\r\n                  show: true,\r\n                  fontSize: 16,\r\n                  position: 'bottom',\r\n                  distance: -20,\r\n                  formatter: function (params) {\r\n                    return `${params.value}°`\r\n                  },\r\n                  fontWeight: '600'\r\n                }\r\n              }\r\n            },\r\n            data: this.temLow\r\n          },\r\n          {\r\n            name: '',\r\n            type: 'effectScatter',\r\n            rippleEffect: {\r\n              period: 1,\r\n              scale: 2,\r\n              brushType: 'fill'\r\n            },\r\n            z: 2,\r\n            symbolPosition: 'end',\r\n            symbolSize: [56, 32],\r\n            symbolOffset: ['0', '0'],\r\n            itemStyle: {\r\n              normal: {\r\n                label: {\r\n                  show: true,\r\n                  fontSize: 16,\r\n                  position: 'bottom',\r\n                  distance: -54,\r\n                  formatter: function (params) {\r\n                    return `${params.value}°`\r\n                  },\r\n                  fontWeight: '600'\r\n                }\r\n              }\r\n            },\r\n            data: this.temWithSym\r\n          },\r\n          {\r\n            name: 'A',\r\n            type: 'line',\r\n            z: 1,\r\n            lineStyle: {\r\n              normal: {\r\n                width: 2,\r\n                color: '#000'\r\n              }\r\n            },\r\n            symbolSize: [0, 0],\r\n            data: this.tem\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.weather-detail {\r\n  .echart {\r\n    margin: 2px 0;\r\n    background-color: #ffffff;\r\n    width: 100%;\r\n    height: 260px;\r\n  }\r\n}\r\n</style>\r\n"]}]}