{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\project\\quality\\newPage\\constructionTechnologyDisclosure\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\project\\quality\\newPage\\constructionTechnologyDisclosure\\detail.vue","mtime":1684246188015},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJaW1wb3J0ICogYXMgYXBpIGZyb20gIkAvYXBpL3F1YWxpdHkiOw0KCWltcG9ydCAqIGFzIHByb2plY3RBcGkgZnJvbSAiQC9hcGkvcHJvamVjdCI7DQoJaW1wb3J0IHsNCgkJY29udmVydE9wdGlvbnMsDQoJCWNyZWF0ZVByb2plY3RJbmZvLA0KCQlnZXRRdWVyeVZhcmlhYmxlLA0KCQlmb3JtYXREYXRlDQoJfSBmcm9tICJAL3V0aWxzL2Zvcm1hdC5qcyI7DQoJaW1wb3J0IHRhc2tsb2cgZnJvbSAiQC92aWV3cy9jb21tb24vdGFza2xvZy52dWUiDQoJaW1wb3J0IHRhc2toYW5kbGUgZnJvbSAnQC92aWV3cy9jb21tb24vdGFza2hhbmRsZScNCglpbXBvcnQgYXR0YWNobGlzdCBmcm9tICJAL3ZpZXdzL2NvbW1vbi9hdHRhY2hsaXN0LnZ1ZSINCglpbXBvcnQgcHJvamVjdGluZm8gZnJvbSAiQC92aWV3cy9jb21tb24vcHJvamVjdGluZm8udnVlIg0KCWV4cG9ydCBkZWZhdWx0IHsNCgkJcHJvcHM6WydkZXRhaWxSb3cnXSwNCgkJZGF0YSgpIHsNCgkJCXJldHVybiB7DQoJCQkJZGlhbG9nVGl0bGU6ICfpobnnm67lhajnlJ/lkb3lkajmnJ/mlbDlrZfnrqHnkIblubPlj7AnLA0KCQkJCWRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwNCgkJCQlhbm5leFRhYmxlRGF0YTogW10sDQoJCQkJYWN0aXZlTmFtZTogJ2ZpcnN0JywNCgkJCQl3YWl0VGFibGVEYXRhOiBbXSwNCgkJCQliYXNlSW5mbzogew0KCQkJCQlidWlsZFNlY3Rpb246IDEsDQoJCQkJCWJ1aWxkU2VjdGlvbk5hbWU6ICcyMzXlm73pgZPmna3lt57oh7Por7jmmqjlhazot6/okKflsbHmsrPkuIroh7Por7jmmqjlronljY7mrrXmlLnlu7rlt6XnqIsnLA0KCQkJCQljb250cmFjdENvZGU6ICcyMzVTSlNHMDEnLA0KCQkJCQlidWlsZENvbXBhbnk6ICfkuK3kuqTkuIrmtbfoiKrpgZPlsYDmnInpmZDlhazlj7jjgIHkuK3lm73kuqTpgJrlu7rorr7ogqHku73mnInpmZDlhazlj7jjgIHmtZnmsZ/or7jlronlu7rorr7pm4blm6LmnInpmZDlhazlj7jjgIHmtZnmsZ/nnIHkuqTpgJrop4TliJLorr7orqHnoJTnqbbpmaLmnInpmZDlhazlj7gnLA0KCQkJCQlzdXBlcnZpc2lvblVuaXQ6ICfmtZnmsZ/kuqTnp5Hlhazot6/msLTov5Dlt6XnqIvnm5HnkIbmnInpmZDlhazlj7gnLA0KCQkJCX0sDQoJCQkJZm9ybURhdGE6IHsgLy/ooajljZXlj4LmlbANCgkJCQkJYnVpbGRUZWNoQm90dG9tOiAnJywgLy8g5pa95bel5Lqk5bqV5qaC6L+wDQoJCQkJCWNoZWNrRGF0ZTogZm9ybWF0RGF0ZShuZXcgRGF0ZSgpKSwgLy8g55m76K6w5pe26Ze0DQoJCQkJCXJlbWFyazogJycsIC8vIOWkh+azqA0KCQkJCQlhdHRhY2htZW50OiBbXSwNCgkJCQkJYnVpbGRDaGVja3NlbGZSZXN1bHQ6ICcnLA0KCQkJCQlkZWxldGVkRmxhZzogMSwNCgkJCQkJZHJhZnRGbGFnOiAxLA0KCQkJCQlCdWlsZFRlY2hCb3R0b206ICcnLA0KCQkJCQlwcm9qZWN0QnVpbGRVc2VyOiAxLA0KCQkJCQlwcm9qZWN0Q2hhcmdlVXNlcjogMSwNCgkJCQkJcHJvamVjdENvZGU6ICcnLA0KCQkJCQlidWlsZFNlY3Rpb246IHRoaXMuJHN0b3JlLmdldHRlcnMuY3VycmVudEJpYW9EdWFuLmlkIHx8IDMsDQoJCQkJCXByb2plY3RJZDogdGhpcy4kc3RvcmUuZ2V0dGVycy5jdXJQcm9qZWN0LmlkIHx8IDIsDQoJCQkJCXF1YWxpdHlDaGVja1VzZXI6IDEsDQoJCQkJCXN1YlByb2plY3Q6ICcnLA0KCQkJCQlzdXBlcnZpc29yRW5naW5lZXJVc2VyOiAxLA0KCQkJCQlzdXBlcnZpc29yVXNlcjogMSwNCgkJCQkJdW5pdDogJycNCgkJCQl9LA0KCQkJCWF0dGFjaFRhYmxlOiBbXSwgLy/pmYTku7YNCgkJCQl0YXNrSW5mbzp7fQ0KCQkJfTsNCgkJfSwNCgkJY3JlYXRlZCgpIHt9LA0KCQljb21wb25lbnRzOiB7DQoJCQl0YXNrbG9nLA0KCQkJdGFza2hhbmRsZSwNCgkJCWF0dGFjaGxpc3QsDQoJCQlwcm9qZWN0aW5mbw0KCQl9LA0KCQljb21wdXRlZDoge30sDQoJCW1vdW50ZWQoKSB7DQoJCQkvLyBzZXRUaW1lb3V0KCgpPT57DQoJCQkvLyAJdmFyIHBhcmFtcyA9IGdldFF1ZXJ5VmFyaWFibGUoKTsNCgkJCS8vIAlpZiAocGFyYW1zWydwcm9jZXNzRGVmaW5pdGlvbklkJ10pIHsNCgkJCS8vIAkJdGhpcy5kaWFsb2dGb3JtVmlzaWJsZT10cnVlOw0KCQkJLy8gCQlwYXJhbXNbJ2lkJ10gPSBwYXJhbXNbJ2J1c2luZXNzS2V5J107DQoJCQkvLyAJCXRoaXMudGFza0luZm89cGFyYW1zOw0KCQkJLy8gCQl0aGlzLmdldERldGFpbChwYXJhbXNbJ2J1c2luZXNzS2V5J10pOw0KCQkJLy8gCX0NCgkJCS8vIH0sNTAwKQ0KCQkJdGhpcy5nZXRQcm9qZWN0SW5mb0J5SWQoKTsNCgkJfSwNCgkJd2F0Y2g6ew0KCQkJZGV0YWlsUm93KG9iail7DQoJCQkJaWYob2JqWydpZCddKXsNCgkJCQkJdGhpcy5nZXREZXRhaWwob2JqWydpZCddKTsNCgkJCQl9DQoJCQl9DQoJCX0sDQoJCW1ldGhvZHM6IHsNCgkJCWNsb3NlRGlhbG9nKCl7DQoJCQkJLy8gaWYodGhpcy50YXNrSW5mb1sncHJvY2Vzc0RlZmluaXRpb25JZCddKXsNCgkJCQkvLyAJdGhpcy4kcm91dGVyLmdvKC0xKTsNCgkJCQkvLyB9DQoJCQl9LA0KCQkJY2hhbmdlVmlzaWJsZSh2YWx1ZSl7DQoJCQkJdGhpcy5kaWFsb2dGb3JtVmlzaWJsZT12YWx1ZTsNCgkJCX0sDQoJCQlnZXRQcm9qZWN0SW5mb0J5SWQoKXsNCgkJCQlwcm9qZWN0QXBpLmdldFByb2plY3RJbmZvQnlJZCh7DQoJCQkJCXByb2plY3RpZDogdGhpcy4kc3RvcmUuZ2V0dGVycy5jdXJQcm9qZWN0LmlkIHx8IDINCgkJCQl9KS50aGVuKChyZXMpID0+IHsNCgkJCQkJbGV0IGRhdGEgPSByZXNbJ2RhdGEnXSB8fCB7fTsNCgkJCQkJdGhpcy5iYXNlSW5mb1snYnVpbGRTZWN0aW9uTmFtZSddID0gZGF0YVsncHJvamVjdCddID8gZGF0YVsncHJvamVjdCddWyduYW1lJ10gOiAnJzsNCgkJCQkJbGV0IGxpc3QgPSBkYXRhWydjb21wYW55cyddIHx8IFtdOw0KCQkJCQlsZXQgaW5mbyA9IGNyZWF0ZVByb2plY3RJbmZvKGxpc3QpOw0KCQkJCQl0aGlzLmJhc2VJbmZvWydidWlsZENvbXBhbnknXSA9IGluZm9bJ2J1aWxkQ29tcGFueSddOw0KCQkJCQl0aGlzLmJhc2VJbmZvWydzdXBlcnZpc2lvblVuaXQnXSA9IGluZm9bJ3N1cGVydmlzaW9uVW5pdCddOw0KDQoJCQkJCXRoaXMuZm9ybURhdGFbJ2J1aWxkU2VjdGlvbiddID0gZGF0YVsncHJvamVjdCddID8gZGF0YVsncHJvamVjdCddWydpZCddIDogMTsNCgkJCQl9KTsNCgkJCX0sDQoJCQlnZXREZXRhaWwoaWQpew0KCQkJCWFwaS5nZXRCdWlsZFRlY2hCb3R0b21EZXRhaWwoe2lkOmlkfSkudGhlbigocmVzKSA9PiB7DQoJCQkJCWxldCBkYXRhPXJlc1snZGF0YSddfHx7fTsNCgkJCQkJY29uc29sZS5sb2cocmVzKQ0KCQkJCQl0aGlzLmZvcm1EYXRhPWRhdGE7DQoJCQkJCXRoaXMuYXR0YWNoVGFibGU9ZGF0YS5hdHRhY2htZW50fHxbXTsNCgkJCQl9KTsNCgkJCQlhcGkuZ2V0Rmxvd0FuZFRhc2tJbmZvKHtidXNpbmVzc0tleTogaWR9KS50aGVuKChyZXMpID0+IHsNCgkJCQkJY29uc29sZS5sb2cocmVzLmRhdGEpOw0KCQkJCQlsZXQgZGF0YT1yZXNbJ2RhdGEnXTsNCgkJCQkJdGhpcy50YXNrSW5mbz17DQoJCQkJCQlwcm9jZXNzRGVmaW5pdGlvbklkOiBkYXRhWydwcm9jZXNzRGVmaW5pdGlvbklkJ10sDQoJCQkJCQlwcm9jZXNzSW5zdGFuY2VJZDogZGF0YVsncHJvY2Vzc0luc3RhbmNlSWQnXSwNCgkJCQkJCXRhc2tJZDogZGF0YVsndGFza0lkJ10sDQoJCQkJCQlmbG93S2V5OiAnc2hpZ29uZ2ppc2h1amlhb2RpJw0KCQkJCQl9DQoJCQkJCXRoaXMudXBkYXRlVGFza0xvZygpOw0KCQkJCX0pOw0KCQkJfSwNCgkJCXVwZGF0ZVRhc2tMb2coKXsNCgkJCQlzZXRUaW1lb3V0KCgpPT57DQoJCQkJCXRoaXMuJHJlZnNbJ3Rhc2tsb2cnXS5pbml0RGF0YSgpOw0KCQkJCX0sMTAwKQ0KCQkJfSwNCgkJfSwNCgl9Ow0K"},{"version":3,"sources":["detail.vue"],"names":[],"mappings":";AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"detail.vue","sourceRoot":"src/views/project/quality/newPage/constructionTechnologyDisclosure","sourcesContent":["<template>\r\n\t<div class=\"detail\" v-show=\"dialogFormVisible\">\r\n\t\t<div class=\"full-dialog defined-dialog\">\r\n\t\t\t<template slot=\"title\">\r\n\t\t\t\t{{dialogTitle}}\r\n\t\t\t\t<div class=\"logo-icon\"></div>\r\n\t\t\t</template>\r\n\t\t\t<el-container>\r\n\t\t\t\t<el-main\r\n\t\t\t\t\tstyle=\"background-color: rgba(0,0 0,0.5);height: calc(100vh - 96px); overflow-y: scroll;padding: 0px;margin: 0;\">\r\n\t\t\t\t\t<div class=\"form-bg\">\r\n\t\t\t\t\t\t<div class=\"form-content\">\r\n\t\t\t\t\t\t\t<el-form ref=\"form\" label-width=\"80px\">\r\n\t\t\t\t\t\t\t\t<div class=\"form-title\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"title-big-bar\"></div>\r\n\t\t\t\t\t\t\t\t\t<strong>施工技术交底-浙公路（JL）011</strong>\r\n                                    <div class=\"form-btns\">\r\n\t\t\t\t\t\t\t\t\t\t<el-button size=\"medium\" icon=\"el-icon-close\" circle @click=\"dialogFormVisible=false\"></el-button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\r\n\t\t\t\t\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-block-title\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"title-bar\"></div><strong>基本信息</strong>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<projectinfo></projectinfo>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-label\">登记时间</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{formData.checkDate}}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-label\">施工技术交底概述</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{formData.buildTechBottom}}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-label\">备注</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{formData.remark}}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-block-title\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"title-bar\"></div><strong>附件清单</strong>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <span style=\"font-size: 12px;margin-left: 40px;\">支持上传jpg jpeg png mp4 docx doc\r\n\t\t\t\t\t\t\t\t\t\t\txisx xis pdf文件，且不超过100m</span> -->\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-table-title\">附件</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-table-btns\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <el-button size=\"small\" type=\"primary\">下载全部</el-button> -->\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<attachlist :editAble=\"false\" ref=\"attachlist\" :attachTable=\"attachTable\"></attachlist>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\r\n\t\t\t\t\t\t\t\t<!-- <div class=\"form-title\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"title-big-bar\"></div><strong>审批信息</strong>\r\n\t\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t\t<strong style=\"font-size: 16px;font-family: 'Microsoft YaHei';\">流程日志</strong>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<tasklog :taskInfo=\"taskInfo\" ref=\"tasklog\"></tasklog>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- <taskhandle :taskInfo=\"taskInfo\"></taskhandle> -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-main>\r\n\t\t\t</el-container>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport * as api from \"@/api/quality\";\r\n\timport * as projectApi from \"@/api/project\";\r\n\timport {\r\n\t\tconvertOptions,\r\n\t\tcreateProjectInfo,\r\n\t\tgetQueryVariable,\r\n\t\tformatDate\r\n\t} from \"@/utils/format.js\";\r\n\timport tasklog from \"@/views/common/tasklog.vue\"\r\n\timport taskhandle from '@/views/common/taskhandle'\r\n\timport attachlist from \"@/views/common/attachlist.vue\"\r\n\timport projectinfo from \"@/views/common/projectinfo.vue\"\r\n\texport default {\r\n\t\tprops:['detailRow'],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdialogTitle: '项目全生命周期数字管理平台',\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tannexTableData: [],\r\n\t\t\t\tactiveName: 'first',\r\n\t\t\t\twaitTableData: [],\r\n\t\t\t\tbaseInfo: {\r\n\t\t\t\t\tbuildSection: 1,\r\n\t\t\t\t\tbuildSectionName: '235国道杭州至诸暨公路萧山河上至诸暨安华段改建工程',\r\n\t\t\t\t\tcontractCode: '235SJSG01',\r\n\t\t\t\t\tbuildCompany: '中交上海航道局有限公司、中国交通建设股份有限公司、浙江诸安建设集团有限公司、浙江省交通规划设计研究院有限公司',\r\n\t\t\t\t\tsupervisionUnit: '浙江交科公路水运工程监理有限公司',\r\n\t\t\t\t},\r\n\t\t\t\tformData: { //表单参数\r\n\t\t\t\t\tbuildTechBottom: '', // 施工交底概述\r\n\t\t\t\t\tcheckDate: formatDate(new Date()), // 登记时间\r\n\t\t\t\t\tremark: '', // 备注\r\n\t\t\t\t\tattachment: [],\r\n\t\t\t\t\tbuildCheckselfResult: '',\r\n\t\t\t\t\tdeletedFlag: 1,\r\n\t\t\t\t\tdraftFlag: 1,\r\n\t\t\t\t\tBuildTechBottom: '',\r\n\t\t\t\t\tprojectBuildUser: 1,\r\n\t\t\t\t\tprojectChargeUser: 1,\r\n\t\t\t\t\tprojectCode: '',\r\n\t\t\t\t\tbuildSection: this.$store.getters.currentBiaoDuan.id || 3,\r\n\t\t\t\t\tprojectId: this.$store.getters.curProject.id || 2,\r\n\t\t\t\t\tqualityCheckUser: 1,\r\n\t\t\t\t\tsubProject: '',\r\n\t\t\t\t\tsupervisorEngineerUser: 1,\r\n\t\t\t\t\tsupervisorUser: 1,\r\n\t\t\t\t\tunit: ''\r\n\t\t\t\t},\r\n\t\t\t\tattachTable: [], //附件\r\n\t\t\t\ttaskInfo:{}\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tcomponents: {\r\n\t\t\ttasklog,\r\n\t\t\ttaskhandle,\r\n\t\t\tattachlist,\r\n\t\t\tprojectinfo\r\n\t\t},\r\n\t\tcomputed: {},\r\n\t\tmounted() {\r\n\t\t\t// setTimeout(()=>{\r\n\t\t\t// \tvar params = getQueryVariable();\r\n\t\t\t// \tif (params['processDefinitionId']) {\r\n\t\t\t// \t\tthis.dialogFormVisible=true;\r\n\t\t\t// \t\tparams['id'] = params['businessKey'];\r\n\t\t\t// \t\tthis.taskInfo=params;\r\n\t\t\t// \t\tthis.getDetail(params['businessKey']);\r\n\t\t\t// \t}\r\n\t\t\t// },500)\r\n\t\t\tthis.getProjectInfoById();\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tdetailRow(obj){\r\n\t\t\t\tif(obj['id']){\r\n\t\t\t\t\tthis.getDetail(obj['id']);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcloseDialog(){\r\n\t\t\t\t// if(this.taskInfo['processDefinitionId']){\r\n\t\t\t\t// \tthis.$router.go(-1);\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tchangeVisible(value){\r\n\t\t\t\tthis.dialogFormVisible=value;\r\n\t\t\t},\r\n\t\t\tgetProjectInfoById(){\r\n\t\t\t\tprojectApi.getProjectInfoById({\r\n\t\t\t\t\tprojectid: this.$store.getters.curProject.id || 2\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet data = res['data'] || {};\r\n\t\t\t\t\tthis.baseInfo['buildSectionName'] = data['project'] ? data['project']['name'] : '';\r\n\t\t\t\t\tlet list = data['companys'] || [];\r\n\t\t\t\t\tlet info = createProjectInfo(list);\r\n\t\t\t\t\tthis.baseInfo['buildCompany'] = info['buildCompany'];\r\n\t\t\t\t\tthis.baseInfo['supervisionUnit'] = info['supervisionUnit'];\r\n\r\n\t\t\t\t\tthis.formData['buildSection'] = data['project'] ? data['project']['id'] : 1;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetDetail(id){\r\n\t\t\t\tapi.getBuildTechBottomDetail({id:id}).then((res) => {\r\n\t\t\t\t\tlet data=res['data']||{};\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthis.formData=data;\r\n\t\t\t\t\tthis.attachTable=data.attachment||[];\r\n\t\t\t\t});\r\n\t\t\t\tapi.getFlowAndTaskInfo({businessKey: id}).then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tlet data=res['data'];\r\n\t\t\t\t\tthis.taskInfo={\r\n\t\t\t\t\t\tprocessDefinitionId: data['processDefinitionId'],\r\n\t\t\t\t\t\tprocessInstanceId: data['processInstanceId'],\r\n\t\t\t\t\t\ttaskId: data['taskId'],\r\n\t\t\t\t\t\tflowKey: 'shigongjishujiaodi'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.updateTaskLog();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tupdateTaskLog(){\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.$refs['tasklog'].initData();\r\n\t\t\t\t},100)\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t@import \"@//assets/css/dialog.scss\";\r\n    .detail{\r\n        position: absolute;\r\n        height: 100%;\r\n        width: 100%;\r\n        background: rgba(61, 61, 61, 0.5);\r\n        top: 0px;\r\n    }\r\n</style>\r\n\r\n"]}]}