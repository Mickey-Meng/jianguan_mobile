{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\project\\quality\\newPage\\concealedWorksManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\project\\quality\\newPage\\concealedWorksManagement.vue","mtime":1684246188009},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJaW1wb3J0ICogYXMgYXBpIGZyb20gIkAvYXBpL3F1YWxpdHkiOw0KCWltcG9ydCB7DQoJCWZvcm1hdERhdGUsDQoJfSBmcm9tICJAL3V0aWxzL2Zvcm1hdC5qcyI7DQoJLy8gaW1wb3J0IGVkaXQgZnJvbSAnLi9jb25jZWFsZWRXb3Jrc01hbmFnZW1lbnQvZWRpdCc7DQoJaW1wb3J0IGRldGFpbCBmcm9tICcuL2NvbmNlYWxlZFdvcmtzTWFuYWdlbWVudC9kZXRhaWwnOw0KCWV4cG9ydCBkZWZhdWx0IHsNCgkJcHJvcHM6ew0KCQkJaXNEcmFmdDp7DQoJCQkJdHlwZTpCb29sZWFuLA0KCQkJCWRlZmF1bHQ6ZmFsc2UNCgkJCX0NCgkJfSwNCgkJZGF0YSgpIHsNCgkJCXJldHVybiB7DQoJCQkJYWxsRGF0YToge30sDQoJCQkJdGFibGVEYXRhOiBbXSwNCgkJCQlsb2FkaW5nOiBmYWxzZSwNCgkJCQlmaW5pc2hlZDogZmFsc2UsDQoJCQkJb3BlcmF0ZUJ0bnNWaXNpYmxlOiB0cnVlLA0KCQkJCWRpYWxvZ1RpdGxlOiAn5pm65oWn5bu66K6+6YCa55So54mILeOAkOe7jeWFtOW4guOAkTIzNeWbvemBk+adreW3nicsDQoJCQkJZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLA0KCQkJCXF1ZXJ5RGF0YTogew0KCQkJCQlwcm9qZWN0Q29kZTogJycsDQoJCQkJCXN1YlByb2plY3Q6ICcnLA0KCQkJCQlwYWdlTnVtOiAxLA0KCQkJCQl0b3RhbFBhZ2U6IDEsDQoJCQkJCXBhZ2VTaXplOiAxMCwNCgkJCQkJYnVpbGRTZWN0aW9uOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmN1cnJlbnRCaWFvRHVhbi5pZCB8fCAzLA0KCQkJCQlwcm9qZWN0SWQ6IHRoaXMuJHN0b3JlLmdldHRlcnMuY3VyUHJvamVjdC5pZCB8fCAyDQoJCQkJfSwNCgkJCQllZGl0Um93OiBudWxsLA0KCQkJCWRldGFpbFJvdzogbnVsbA0KCQkJfTsNCgkJfSwNCgkJY3JlYXRlZCgpIHt9LA0KCQljb21wb25lbnRzOiB7DQoJCQkvLyBlZGl0LA0KCQkJZGV0YWlsDQoJCX0sDQoJCWNvbXB1dGVkOiB7DQoJCQlzY3JvbGxlckhlaWdodDogZnVuY3Rpb24oKSB7DQoJCQkJcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodCAtIDkxICsgJ3B4Jw0KCQkJfQ0KCQl9LA0KCQltb3VudGVkKCkgew0KCQkJLy8gdGhpcy5xdWVyeSgpOw0KCQl9LA0KCQltZXRob2RzOiB7DQoJCQlxdWVyeSgpIHsNCgkJCQl0aGlzLnF1ZXJ5RGF0YS5kcmFmdEZsYWc9dGhpcy5pc0RyYWZ0PzA6MTsNCgkJCQlhcGkuZ2V0SGlkZGVuUHJvamVjdExpc3QodGhpcy5xdWVyeURhdGEpLnRoZW4oKHJlcykgPT4gew0KCQkJCQl0aGlzLmFsbERhdGEgPSByZXMuZGF0YSB8fCB7fTsNCiAgICAgICAgCQkJdGhpcy50YWJsZURhdGEgPSBbLi4udGhpcy50YWJsZURhdGEsLi4udGhpcy5mb3JtYXRlVGFibGVEYXRhKHJlcy5kYXRhLmxpc3QpIHx8IFtdXQ0KCQkJCQl0aGlzLnF1ZXJ5RGF0YS5wYWdlTnVtID0gcmVzLmRhdGEucGFnZU51bSArIDE7DQoJCQkJCXRoaXMucXVlcnlEYXRhLnRvdGFsUGFnZSA9IHJlcy5kYXRhLnRvdGFsOw0KCQkJCQl0aGlzLnF1ZXJ5RGF0YS5wYWdlU2l6ZSA9IHJlcy5kYXRhLnBhZ2VTaXplOw0KCQkJCQkNCgkJCQkJLy8g5Yqg6L2954q25oCB57uT5p2fDQoJCQkJCXRoaXMubG9hZGluZyA9IGZhbHNlOw0KCQkJCQkvLyDmlbDmja7lhajpg6jliqDovb3lrozmiJANCgkJCQkJaWYgKHRoaXMudGFibGVEYXRhLmxlbmd0aCA+PSByZXMuZGF0YS50b3RhbCkgew0KCQkJCQkJdGhpcy5maW5pc2hlZCA9IHRydWU7DQoJCQkJCX0NCgkJCQl9KTsNCgkJCX0sDQoJCQlmb3JtYXRlVGFibGVEYXRhKGxpc3QpIHsNCgkJCQlsaXN0ID0gbGlzdCB8fCBbXTsNCgkJCQlsaXN0LmZvckVhY2goaXRlbSA9PiB7DQoJCQkJCWl0ZW1bJ3Byb2plY3ROYW1lJ10gPSAnMjM15Zu96YGT5p2t5bee6Iez6K+45pqo5YWs6Lev6JCn5bGx5rKz5LiK6Iez6K+45pqo5a6J5Y2O5q615pS55bu65bel56iLJzsNCgkJCQkJaXRlbVsnYnVpbGRVbml0J10gPSAn5Lit5Lqk5LiK5rW36Iiq6YGT5bGA5pyJ6ZmQ5YWs5Y+444CB5Lit5Zu95Lqk6YCa5bu66K6+6IKh5Lu95pyJ6ZmQ5YWs5Y+444CB5rWZ5rGf6K+45a6J5bu66K6+6ZuG5Zui5pyJ6ZmQ5YWs5Y+444CB5rWZ5rGf55yB5Lqk6YCa6KeE5YiS6K6+6K6h56CU56m26Zmi5pyJ6ZmQ5YWs5Y+4JzsNCgkJCQkJaXRlbVsnY29udHJhY3RDb2RlJ10gPSAnMjM1U0pTRzAxJzsNCgkJCQkJaXRlbVsnc3VwZXJ2aXNvclVuaXQnXSA9ICfmtZnmsZ/kuqTnp5Hlhazot6/msLTov5Dlt6XnqIvnm5HnkIbmnInpmZDlhazlj7gnOw0KCQkJCQlpdGVtWydidWlsZFNlY3Rpb25JZCddID0gJyc7DQoJCQkJCWl0ZW1bJ3N1cGVydmlzb3JTZWN0aW9uJ10gPSAnJzsNCgkJCQkJaXRlbVsnc3RhdHVzU3RyJ10gPSAnJzsNCgkJCQl9KQ0KCQkJCXJldHVybiBsaXN0Ow0KCQkJfSwNCgkJCWFkZE5ldygpIHsNCgkJCQl0aGlzLiRyZWZzLmVkaXQuY2hhbmdlVmlzaWJsZShudWxsLHRydWUpOw0KCQkJfSwNCgkJCW1vZGlmeShyb3cpIHsNCgkJCQl0aGlzLiRyZWZzLmVkaXQuY2hhbmdlVmlzaWJsZShyb3csdHJ1ZSk7DQoJCQl9LA0KCQkJdmlld0RldGFpbChyb3cpIHsNCgkJCQl0aGlzLmRldGFpbFJvdyA9IHJvdzsNCgkJCQl0aGlzLiRyZWZzLmRldGFpbC5jaGFuZ2VWaXNpYmxlKHRydWUpOw0KCQkJfSwNCgkJCWRlbGV0ZVJvdyhyb3cpIHsNCgkJCQl0aGlzLiRjb25maXJtKCfnoa7orqTmmK/lkKbliKDpmaQ/JywgJ+aPkOekuicsIHsNCgkJCQkJY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KCQkJCQljYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCgkJCQkJdHlwZTogJ3dhcm5pbmcnDQoJCQkJfSkudGhlbigoKSA9PiB7DQoJCQkJCWFwaS5kZWxldGVIaWRkZW5Qcm9qZWN0KHsNCgkJCQkJCWlkOiByb3dbJ2lkJ10NCgkJCQkJfSkudGhlbigocmVzKSA9PiB7DQoJCQkJCQlpZiAodGhpcy50YWJsZURhdGEubGVuZ3RoID09IDEpIHsNCgkJCQkJCQl0aGlzLnF1ZXJ5RGF0YS5wYWdlTnVtID0gdGhpcy5xdWVyeURhdGEucGFnZU51bT4gMSA/IHRoaXMucXVlcnlEYXRhLnBhZ2VOdW0gLSAxIDogMQ0KCQkJCQkJfQ0KCQkJCQkJdGhpcy5xdWVyeSgpOw0KCQkJCQkJdGhpcy4kbWVzc2FnZSh7DQoJCQkJCQkJdHlwZTogJ3N1Y2Nlc3MnLA0KCQkJCQkJCW1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJw0KCQkJCQkJfSk7DQoJCQkJCX0pLmNhdGNoKGVycm9yID0+IHsNCgkJCQkJCXRoaXMuJG1lc3NhZ2Uoew0KCQkJCQkJCXR5cGU6ICdmYWlsJywNCgkJCQkJCQltZXNzYWdlOiAn5Yig6Zmk5aSx6LSlIScNCgkJCQkJCX0pOw0KCQkJCQl9KTsNCgkJCQl9KTsNCgkJCX0sDQoJCQloYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2UpIHsNCgkJCQl0aGlzLnF1ZXJ5RGF0YS5wYWdlTnVtPXBhZ2UNCgkJCQl0aGlzLnF1ZXJ5KCkNCgkJCX0sDQoJCQljaGVja0RldGFpbChyb3cpew0KCQkJCXRoaXMuJGVtaXQoImhpZGVEcmFmdCIpOw0KCQkJCXRoaXMuJGVtaXQoImdldERldGFpbCIscm93WydpZCddKTsNCgkJCX0sDQoJCQlleHBvcnREYXRhKCkgew0KCQkJCXRoaXMucXVlcnlEYXRhLmRyYWZ0RmxhZyA9IDE7DQoJCQkJYXBpLmV4cG9ydEhpZGRlblByb2plY3RMaXN0KHRoaXMucXVlcnlEYXRhKS50aGVuKChyZXMpID0+IHsNCgkJCQkJY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsNCgkJCQkJcmVhZGVyLnJlYWRBc0RhdGFVUkwocmVzKTsNCgkJCQkJcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7DQoJCQkJCQljb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOw0KCQkJCQkJYS5kb3dubG9hZCA9IGDpmpDolL3lt6XnqIvnrqHnkIbmuIXljZUueGxzYDsNCgkJCQkJCWEuaHJlZiA9IGUudGFyZ2V0LnJlc3VsdDsNCgkJCQkJCWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7DQoJCQkJCQlhLmNsaWNrKCk7DQoJCQkJCQlkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpOw0KCQkJCQl9Ow0KCQkJCX0pOw0KCQkJfQ0KCQl9LA0KCX07DQo="},{"version":3,"sources":["concealedWorksManagement.vue"],"names":[],"mappings":";AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"concealedWorksManagement.vue","sourceRoot":"src/views/project/quality/newPage","sourcesContent":["<!--\r\n * @Descripttion:隐蔽工程管理\r\n * @version:\r\n * @Author: WangHarry\r\n * @Date: 2022-05-09 14:16:22\r\n * @LastEditors: zhouhai\r\n * @LastEditTime: 2022-05-09 14:16:28\r\n-->\r\n<template>\r\n\t<div class=\"container-box\">\r\n\t\t<van-list @load=\"query\" :style=\"{ height: scrollerHeight }\" v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\">\r\n\t\t\t\t<van-swipe-cell class=\"list\" v-for=\"(item, index) in tableData\" :key=\"index\" :class=\"'item ' + (index === tableData.length - 1 ? 'last' : '')\">\r\n\t\t\t\t\t<div class=\"item\" style=\"\" @click=\"viewDetail(item)\">\r\n\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t<div class=\"block-name\">项目名称：</div>\r\n\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.projectName }}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t<div class=\"block-name\">施工单位：</div>\r\n\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.buildUnit }}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t<div class=\"block-name\">单位、分部工程：</div>\r\n\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.unit }} </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t<div class=\"block-name\">分项工程：</div>\r\n\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.subProject }}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t<div class=\"block-name\">隐蔽工程项目：</div>\r\n\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.hiddenProject }}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div v-if=\"item.stime\" class=\"status\">\r\n\t\t\t\t\t\t\t{{ item.statusStr }}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- <div class=\"operate center-in-vertical\">\r\n\t\t\t\t\t\t\t<img v-if=\"item.checkresult === 3\" :src=\"require(`assets/image/待审核.png`)\" />\r\n\t\t\t\t\t\t\t<img v-if=\"item.checkresult === 1\" :src=\"require(`assets/image/已通过.png`)\" />\r\n\t\t\t\t\t\t\t<img v-if=\"item.checkresult === 2\" :src=\"require(`assets/image/已驳回.png`)\" />\r\n\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t<div class=\"block\" style=\"padding-top: 5px; border-top: 1px solid #d7d7d7;\">\r\n\t\t\t\t\t\t\t<div style=\"float:left;\">{{item.createUserName}}</div>\r\n\t\t\t\t\t\t\t<div style=\"float:right;\">{{item.createTime}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- <template #right>\r\n\t\t\t\t\t\t<van-button square type=\"primary\" text=\"详情\" @click=\"viewDetail(item)\"/>\r\n\t\t\t\t\t\t<van-button square type=\"primary\" text=\"编辑\" />\r\n\t\t\t\t\t\t<van-button square type=\"danger\" text=\"删除\" />\r\n\t\t\t\t\t</template> -->\r\n\t\t\t\t</van-swipe-cell>\r\n\t\t</van-list>\r\n\t\t<!-- <edit v-if=\"!isDraft\" ref=\"edit\" @query=\"query\" :editRow=\"editRow\"></edit> -->\r\n\t\t<detail v-if=\"!isDraft\" ref=\"detail\" :detailRow=\"detailRow\"></detail>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport * as api from \"@/api/quality\";\r\n\timport {\r\n\t\tformatDate,\r\n\t} from \"@/utils/format.js\";\r\n\t// import edit from './concealedWorksManagement/edit';\r\n\timport detail from './concealedWorksManagement/detail';\r\n\texport default {\r\n\t\tprops:{\r\n\t\t\tisDraft:{\r\n\t\t\t\ttype:Boolean,\r\n\t\t\t\tdefault:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tallData: {},\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\tfinished: false,\r\n\t\t\t\toperateBtnsVisible: true,\r\n\t\t\t\tdialogTitle: '智慧建设通用版-【绍兴市】235国道杭州',\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tqueryData: {\r\n\t\t\t\t\tprojectCode: '',\r\n\t\t\t\t\tsubProject: '',\r\n\t\t\t\t\tpageNum: 1,\r\n\t\t\t\t\ttotalPage: 1,\r\n\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\tbuildSection: this.$store.getters.currentBiaoDuan.id || 3,\r\n\t\t\t\t\tprojectId: this.$store.getters.curProject.id || 2\r\n\t\t\t\t},\r\n\t\t\t\teditRow: null,\r\n\t\t\t\tdetailRow: null\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tcomponents: {\r\n\t\t\t// edit,\r\n\t\t\tdetail\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tscrollerHeight: function() {\r\n\t\t\t\treturn window.innerHeight - 91 + 'px'\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// this.query();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tquery() {\r\n\t\t\t\tthis.queryData.draftFlag=this.isDraft?0:1;\r\n\t\t\t\tapi.getHiddenProjectList(this.queryData).then((res) => {\r\n\t\t\t\t\tthis.allData = res.data || {};\r\n        \t\t\tthis.tableData = [...this.tableData,...this.formateTableData(res.data.list) || []]\r\n\t\t\t\t\tthis.queryData.pageNum = res.data.pageNum + 1;\r\n\t\t\t\t\tthis.queryData.totalPage = res.data.total;\r\n\t\t\t\t\tthis.queryData.pageSize = res.data.pageSize;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 加载状态结束\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t// 数据全部加载完成\r\n\t\t\t\t\tif (this.tableData.length >= res.data.total) {\r\n\t\t\t\t\t\tthis.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tformateTableData(list) {\r\n\t\t\t\tlist = list || [];\r\n\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\titem['projectName'] = '235国道杭州至诸暨公路萧山河上至诸暨安华段改建工程';\r\n\t\t\t\t\titem['buildUnit'] = '中交上海航道局有限公司、中国交通建设股份有限公司、浙江诸安建设集团有限公司、浙江省交通规划设计研究院有限公司';\r\n\t\t\t\t\titem['contractCode'] = '235SJSG01';\r\n\t\t\t\t\titem['supervisorUnit'] = '浙江交科公路水运工程监理有限公司';\r\n\t\t\t\t\titem['buildSectionId'] = '';\r\n\t\t\t\t\titem['supervisorSection'] = '';\r\n\t\t\t\t\titem['statusStr'] = '';\r\n\t\t\t\t})\r\n\t\t\t\treturn list;\r\n\t\t\t},\r\n\t\t\taddNew() {\r\n\t\t\t\tthis.$refs.edit.changeVisible(null,true);\r\n\t\t\t},\r\n\t\t\tmodify(row) {\r\n\t\t\t\tthis.$refs.edit.changeVisible(row,true);\r\n\t\t\t},\r\n\t\t\tviewDetail(row) {\r\n\t\t\t\tthis.detailRow = row;\r\n\t\t\t\tthis.$refs.detail.changeVisible(true);\r\n\t\t\t},\r\n\t\t\tdeleteRow(row) {\r\n\t\t\t\tthis.$confirm('确认是否删除?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tapi.deleteHiddenProject({\r\n\t\t\t\t\t\tid: row['id']\r\n\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\tif (this.tableData.length == 1) {\r\n\t\t\t\t\t\t\tthis.queryData.pageNum = this.queryData.pageNum> 1 ? this.queryData.pageNum - 1 : 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.query();\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmessage: '删除成功!'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\ttype: 'fail',\r\n\t\t\t\t\t\t\tmessage: '删除失败!'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(page) {\r\n\t\t\t\tthis.queryData.pageNum=page\r\n\t\t\t\tthis.query()\r\n\t\t\t},\r\n\t\t\tcheckDetail(row){\r\n\t\t\t\tthis.$emit(\"hideDraft\");\r\n\t\t\t\tthis.$emit(\"getDetail\",row['id']);\r\n\t\t\t},\r\n\t\t\texportData() {\r\n\t\t\t\tthis.queryData.draftFlag = 1;\r\n\t\t\t\tapi.exportHiddenProjectList(this.queryData).then((res) => {\r\n\t\t\t\t\tconst reader = new FileReader();\r\n\t\t\t\t\treader.readAsDataURL(res);\r\n\t\t\t\t\treader.onload = (e) => {\r\n\t\t\t\t\t\tconst a = document.createElement('a');\r\n\t\t\t\t\t\ta.download = `隐蔽工程管理清单.xls`;\r\n\t\t\t\t\t\ta.href = e.target.result;\r\n\t\t\t\t\t\tdocument.body.appendChild(a);\r\n\t\t\t\t\t\ta.click();\r\n\t\t\t\t\t\tdocument.body.removeChild(a);\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n\t// @import \"../../../assets/css/table.scss\"\r\n\t.container-box {\r\n\t\tcolor: #000000;\r\n\t\tbackground-color: #FAFAFA;\r\n\t\theight: 100%;\r\n\t\twidth: calc(100% + 1px);\r\n  \t\toverflow-y: auto;\r\n\t\t.list {\r\n\t\t\t.item{\r\n\t\t\t\tpadding: 10px;\r\n\t\t\t\tborder:1px solid rgba(0, 0, 0, 0.1);\r\n\t\t\t\tborder-radius:5px;\r\n\t\t\t\tmargin:5px;\r\n\t\t\t\tbox-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.1);\r\n\t\t\t\t.block {\r\n\t\t\t\t\t\toverflow: auto;\r\n\t\t\t\t\t.block-name {\r\n\t\t\t\t\t\tfloat: left;\r\n\t\t\t\t\t\twidth: 120px;\r\n\t\t\t\t\t\tcolor: rgb(85, 85, 85);\r\n\t\t\t\t\t\t\tmin-height: 24px;\r\n\t\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t\t\tline-height: 20px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.block-value {\r\n\t\t\t\t\t\twidth: calc(100% - 120px);\r\n\t\t\t\t\t\tmargin-left: 120px;\r\n\t\t\t\t\t\tmin-height: 24px;\r\n\t\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t\t\tline-height: 20px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.status {\r\n\t\t\t\t\tbackground: rgb(0, 132, 255);\r\n\t\t\t\t\tpadding: 1px 3px ;\r\n\t\t\t\t\tfont-size: 10px;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: 25px;\r\n\t\t\t\t\ttop: 8px;\r\n\t\t\t\t\tcolor: white;\r\n\t\t\t\t\tborder-radius: 3px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.van-button {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tborder-radius: 5px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n</style>"]}]}