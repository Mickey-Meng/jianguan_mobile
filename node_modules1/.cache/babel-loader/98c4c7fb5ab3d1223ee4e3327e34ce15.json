{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\eslint-loader\\index.js??ref--14-0!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\utils\\locationUtil.js","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\utils\\locationUtil.js","mtime":1684246187903},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\babel.config.js","mtime":1684246187306},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\eslint-loader\\index.js","mtime":1684411443448}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0ICJ2YW50L2VzL2RpYWxvZy9zdHlsZSI7CmltcG9ydCBfRGlhbG9nIGZyb20gInZhbnQvZXMvZGlhbG9nIjsKaW1wb3J0ICJ2YW50L2VzL25vdGlmeS9zdHlsZSI7CmltcG9ydCBfTm90aWZ5IGZyb20gInZhbnQvZXMvbm90aWZ5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCBnY29vcmQgZnJvbSAnQC91dGlscy9nY29vcmQuanMnOwppbXBvcnQgeyByZXZlcnNlX2dlb2NvZGluZyB9IGZyb20gJ0AvYXBpL2JkTWFwLmpzJzsKdmFyIHBhcnNlQmRBZGRyZXNzID0gZnVuY3Rpb24gcGFyc2VCZEFkZHJlc3MoZGF0YSkgewogIHZhciBhZGRyZXNzID0gJyc7CiAgaWYgKGRhdGEucmVzdWx0KSB7CiAgICBpZiAoZGF0YS5yZXN1bHQucG9pcy5sZW5ndGggIT09IDApIHsKICAgICAgaWYgKGRhdGEucmVzdWx0LmFkZHJlc3NDb21wb25lbnQpIHsKICAgICAgICBhZGRyZXNzICs9IGRhdGEucmVzdWx0LmFkZHJlc3NDb21wb25lbnQucHJvdmluY2UgfHwgJyc7CiAgICAgICAgYWRkcmVzcyArPSBkYXRhLnJlc3VsdC5hZGRyZXNzQ29tcG9uZW50LmNpdHkgfHwgJyc7CiAgICAgICAgYWRkcmVzcyArPSBkYXRhLnJlc3VsdC5hZGRyZXNzQ29tcG9uZW50LmRpc3RyaWN0IHx8ICcnOwogICAgICAgIGFkZHJlc3MgKz0gZGF0YS5yZXN1bHQuYWRkcmVzc0NvbXBvbmVudC5zdHJlZXQgfHwgJyc7CiAgICAgIH0KICAgICAgYWRkcmVzcyArPSBkYXRhLnJlc3VsdC5wb2lzWzBdLm5hbWU7CiAgICB9IGVsc2UgewogICAgICBhZGRyZXNzICs9IGRhdGEucmVzdWx0LmZvcm1hdHRlZF9hZGRyZXNzOwogICAgfQogIH0KICByZXR1cm4gYWRkcmVzczsKfTsKdmFyIGp1ZGdlUGx1cyA9IGZ1bmN0aW9uIGp1ZGdlUGx1cygpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIGlmICh3aW5kb3cucGx1cykgewogICAgICByZXNvbHZlKCk7CiAgICB9IGVsc2UgewogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwbHVzcmVhZHknLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0KICB9KTsKfTsKdmFyIGdldFBvc2l0aW9uRnJvbVBsdXMgPSBmdW5jdGlvbiBnZXRQb3NpdGlvbkZyb21QbHVzKCkgewogIHZhciBsb2FkaW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlOwogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAganVkZ2VQbHVzKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIHBsdXMuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgdmFyIGNvb3JkcyA9IHAuY29vcmRzLAogICAgICAgICAgY29vcmRzVHlwZSA9IHAuY29vcmRzVHlwZSwKICAgICAgICAgIGFkZHJlc3MgPSBwLmFkZHJlc3MsCiAgICAgICAgICBhZGRyZXNzZXMgPSBwLmFkZHJlc3NlczsKICAgICAgICB2YXIgd2dzODQgPSBbXTsKICAgICAgICBpZiAoY29vcmRzVHlwZSA9PT0gJ3dnczg0JykgewogICAgICAgICAgd2dzODQgPSBbY29vcmRzLmxvbmdpdHVkZSwgY29vcmRzLmxhdGl0dWRlXTsKICAgICAgICB9IGVsc2UgaWYgKGNvb3Jkc1R5cGUgPT09ICdnY2owMicpIHsKICAgICAgICAgIHdnczg0ID0gZ2Nvb3JkLnRyYW5zZm9ybShbY29vcmRzLmxvbmdpdHVkZSwgY29vcmRzLmxhdGl0dWRlXSwgZ2Nvb3JkLkdDSjAyLCBnY29vcmQuV0dTODQpOwogICAgICAgIH0gZWxzZSBpZiAoY29vcmRzVHlwZSA9PT0gJ2JkMDknKSB7CiAgICAgICAgICB3Z3M4NCA9IGdjb29yZC50cmFuc2Zvcm0oW2Nvb3Jkcy5sb25naXR1ZGUsIGNvb3Jkcy5sYXRpdHVkZV0sIGdjb29yZC5CRDA5LCBnY29vcmQuV0dTODQpOwogICAgICAgIH0gZWxzZSBpZiAoY29vcmRzVHlwZSA9PT0gJ2JkMDlsbCcpIHsKICAgICAgICAgIHdnczg0ID0gZ2Nvb3JkLnRyYW5zZm9ybShbY29vcmRzLmxvbmdpdHVkZSwgY29vcmRzLmxhdGl0dWRlXSwgZ2Nvb3JkLkJEMDlMTCwgZ2Nvb3JkLldHUzg0KTsKICAgICAgICB9CiAgICAgICAgdmFyIGxvY2F0aW9uRGV0YWlsID0gewogICAgICAgICAgbG9uOiB3Z3M4NFswXSwKICAgICAgICAgIGxhdDogd2dzODRbMV0sCiAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzZXMKICAgICAgICB9OwogICAgICAgIGxvYWRpbmcgJiYgX05vdGlmeSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5a6a5L2N5oiQ5YqfISAnCiAgICAgICAgfSk7CiAgICAgICAgcmV2ZXJzZV9nZW9jb2RpbmcoIiIuY29uY2F0KGxvY2F0aW9uRGV0YWlsLmxhdCwgIiwiKS5jb25jYXQobG9jYXRpb25EZXRhaWwubG9uKSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgbG9jYXRpb25EZXRhaWwuYWRkcmVzcyA9IHBhcnNlQmRBZGRyZXNzKGRhdGEpOwogICAgICAgICAgcmVzb2x2ZShsb2NhdGlvbkRldGFpbCk7CiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBsb2FkaW5nICYmIF9EaWFsb2cuYWxlcnQoewogICAgICAgICAgICB0aXRsZTogJ+WcsOWdgOi9rOaNouWksei0pScsCiAgICAgICAgICAgIG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KGVycm9yKQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIG9uIGNsb3NlCiAgICAgICAgICB9KTsKICAgICAgICAgIHJlc29sdmUobG9jYXRpb25EZXRhaWwpOwogICAgICAgIH0pOwogICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJlc29sdmUobnVsbCk7CiAgICAgICAgbG9hZGluZyAmJiBfRGlhbG9nLmFsZXJ0KHsKICAgICAgICAgIHRpdGxlOiAn5a6a5L2N6I635Y+W5aSx6LSlJywKICAgICAgICAgIG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KGUpCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyBvbiBjbG9zZQogICAgICAgIH0pOwogICAgICB9LCB7CiAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLAogICAgICAgIHByb3ZpZGVyOiAnYmFpZHUnCiAgICAgIH0pOwogICAgfSk7CiAgfSk7Cn07CnZhciBnZXRQb3NpdGlvbkZyb21CZEpzQXBpID0gZnVuY3Rpb24gZ2V0UG9zaXRpb25Gcm9tQmRKc0FwaSgpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIHZhciBnZW9sb2NhdGlvbiA9IG5ldyBCTWFwLkdlb2xvY2F0aW9uKCk7CiAgICBnZW9sb2NhdGlvbi5lbmFibGVTREtMb2NhdGlvbigpOwogICAgZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgaWYgKHRoaXMuZ2V0U3RhdHVzKCkgPT0gQk1BUF9TVEFUVVNfU1VDQ0VTUykgewogICAgICAgIHZhciBwb2ludCA9IHJlc3VsdC5wb2ludCwKICAgICAgICAgIGFkZHJlc3MgPSByZXN1bHQuYWRkcmVzczsKICAgICAgICB2YXIgd2dzODQgPSBnY29vcmQudHJhbnNmb3JtKFtwb2ludCA9PT0gbnVsbCB8fCBwb2ludCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9pbnQubG5nLCBwb2ludCA9PT0gbnVsbCB8fCBwb2ludCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcG9pbnQubGF0XSwgZ2Nvb3JkLkJEMDksIGdjb29yZC5XR1M4NCk7CiAgICAgICAgdmFyIGxvY2F0aW9uRGV0YWlsID0gewogICAgICAgICAgbG9uOiB3Z3M4NFswXSwKICAgICAgICAgIGxhdDogd2dzODRbMV0sCiAgICAgICAgICBhZGRyZXNzOiAnJwogICAgICAgIH07CiAgICAgICAgX05vdGlmeSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5a6a5L2N5oiQ5YqfIScKICAgICAgICB9KTsKICAgICAgICByZXZlcnNlX2dlb2NvZGluZygiIi5jb25jYXQocG9pbnQgPT09IG51bGwgfHwgcG9pbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvaW50LmxhdCwgIiwiKS5jb25jYXQocG9pbnQgPT09IG51bGwgfHwgcG9pbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvaW50LmxuZykpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGxvY2F0aW9uRGV0YWlsLmFkZHJlc3MgPSBwYXJzZUJkQWRkcmVzcyhkYXRhKTsKICAgICAgICAgIHJlc29sdmUobG9jYXRpb25EZXRhaWwpOwogICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgLy/op6PmnpDor6bnu4blnLDlnYDlpLHotKUKICAgICAgICAgIGxvY2F0aW9uRGV0YWlsLmFkZHJlc3MgPSAiIi5jb25jYXQoYWRkcmVzcy5wcm92aW5jZSkuY29uY2F0KGFkZHJlc3MuY2l0eSkuY29uY2F0KGFkZHJlc3MuZGlzdHJpY3QpLmNvbmNhdChhZGRyZXNzLnN0cmVldCk7CiAgICAgICAgICByZXNvbHZlKGxvY2F0aW9uRGV0YWlsKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+WumuS9jeWksei0pQogICAgICAgIF9Ob3RpZnkoewogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgbWVzc2FnZTogdGhpcy5nZXRTdGF0dXMoKQogICAgICAgIH0pOwogICAgICAgIHJlc29sdmUobnVsbCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlCiAgICB9KTsKICB9KTsKfTsKdmFyIGdldEN1cnJlbnRMb2NhdGlvbiA9IGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbigpIHsKICB2YXIgbG9hZGluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTsKICBsb2FkaW5nICYmIF9Ub2FzdC5sb2FkaW5nKHsKICAgIG1lc3NhZ2U6ICfkvY3nva7ojrflj5bkuK0uLi4nLAogICAgZm9yYmlkQ2xpY2s6IHRydWUKICB9KTsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIGdldFBvc2l0aW9uRnJvbVBsdXMobG9hZGluZykudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgIGxvYWRpbmcgJiYgX1RvYXN0LmNsZWFyKCk7CiAgICAgIHJlc29sdmUocmVzdWx0KTsKICAgIH0pOwogIH0pOwp9OwpleHBvcnQgdmFyIGxvY2F0aW9uVXRpbCA9IHsKICBnZXRDdXJyZW50TG9jYXRpb246IGdldEN1cnJlbnRMb2NhdGlvbgp9Ow=="},{"version":3,"names":["gcoord","reverse_geocoding","parseBdAddress","data","address","result","pois","length","addressComponent","province","city","district","street","name","formatted_address","judgePlus","Promise","resolve","window","plus","document","addEventListener","getPositionFromPlus","loading","arguments","undefined","then","geolocation","getCurrentPosition","p","coords","coordsType","addresses","wgs84","longitude","latitude","transform","GCJ02","WGS84","BD09","BD09LL","locationDetail","lon","lat","_Notify","type","message","concat","error","_Dialog","alert","title","JSON","stringify","e","enableHighAccuracy","provider","getPositionFromBdJsApi","BMap","Geolocation","enableSDKLocation","getStatus","BMAP_STATUS_SUCCESS","point","lng","getCurrentLocation","_Toast","forbidClick","clear","locationUtil"],"sources":["E:/Workspace/JianGuan/jianguan_mobile/mobile/src/utils/locationUtil.js"],"sourcesContent":["import gcoord from '@/utils/gcoord.js'\r\nimport { reverse_geocoding } from '@/api/bdMap.js'\r\nimport { Notify } from 'vant'\r\nimport { Toast, Dialog } from 'vant'\r\n\r\nconst parseBdAddress = data => {\r\n  let address = ''\r\n  if (data.result) {\r\n    if (data.result.pois.length !== 0) {\r\n      if (data.result.addressComponent) {\r\n        address += data.result.addressComponent.province || ''\r\n        address += data.result.addressComponent.city || ''\r\n        address += data.result.addressComponent.district || ''\r\n        address += data.result.addressComponent.street || ''\r\n      }\r\n      address += data.result.pois[0].name\r\n    } else {\r\n      address += data.result.formatted_address\r\n    }\r\n  }\r\n  return address\r\n}\r\n\r\nconst judgePlus = function() {\r\n  return new Promise(resolve => {\r\n    if (window.plus) {\r\n      resolve()\r\n    } else {\r\n      document.addEventListener('plusready', function() {\r\n        resolve()\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst getPositionFromPlus = (loading = true) => {\r\n  return new Promise(resolve => {\r\n    judgePlus().then(() => {\r\n      plus.geolocation.getCurrentPosition(\r\n        function(p) {\r\n          let { coords, coordsType, address, addresses } = p\r\n          let wgs84 = []\r\n          if (coordsType === 'wgs84') {\r\n            wgs84 = [coords.longitude, coords.latitude]\r\n          } else if (coordsType === 'gcj02') {\r\n            wgs84 = gcoord.transform([coords.longitude, coords.latitude], gcoord.GCJ02, gcoord.WGS84)\r\n          } else if (coordsType === 'bd09') {\r\n            wgs84 = gcoord.transform([coords.longitude, coords.latitude], gcoord.BD09, gcoord.WGS84)\r\n          } else if (coordsType === 'bd09ll') {\r\n            wgs84 = gcoord.transform([coords.longitude, coords.latitude], gcoord.BD09LL, gcoord.WGS84)\r\n          }\r\n          let locationDetail = {\r\n            lon: wgs84[0],\r\n            lat: wgs84[1],\r\n            address: addresses\r\n          }\r\n          loading && Notify({ type: 'success', message: '定位成功! ' })\r\n          reverse_geocoding(`${locationDetail.lat},${locationDetail.lon}`).then(\r\n            data => {\r\n              locationDetail.address = parseBdAddress(data)\r\n              resolve(locationDetail)\r\n            },\r\n            error => {\r\n              loading &&\r\n                Dialog.alert({\r\n                  title: '地址转换失败',\r\n                  message: JSON.stringify(error)\r\n                }).then(() => {\r\n                  // on close\r\n                })\r\n              resolve(locationDetail)\r\n            }\r\n          )\r\n        },\r\n        function(e) {\r\n          resolve(null)\r\n          loading &&\r\n            Dialog.alert({\r\n              title: '定位获取失败',\r\n              message: JSON.stringify(e)\r\n            }).then(() => {\r\n              // on close\r\n            })\r\n        },\r\n        {\r\n          enableHighAccuracy: true,\r\n          provider: 'baidu'\r\n        }\r\n      )\r\n    })\r\n  })\r\n}\r\n\r\nconst getPositionFromBdJsApi = () => {\r\n  return new Promise(resolve => {\r\n    let geolocation = new BMap.Geolocation()\r\n    geolocation.enableSDKLocation()\r\n    geolocation.getCurrentPosition(\r\n      function(result) {\r\n        if (this.getStatus() == BMAP_STATUS_SUCCESS) {\r\n          let { point, address } = result\r\n          let wgs84 = gcoord.transform([point?.lng, point?.lat], gcoord.BD09, gcoord.WGS84)\r\n          let locationDetail = {\r\n            lon: wgs84[0],\r\n            lat: wgs84[1],\r\n            address: ''\r\n          }\r\n          Notify({ type: 'success', message: '定位成功!' })\r\n          reverse_geocoding(`${point?.lat},${point?.lng}`).then(\r\n            data => {\r\n              locationDetail.address = parseBdAddress(data)\r\n              resolve(locationDetail)\r\n            },\r\n            error => {\r\n              //解析详细地址失败\r\n              locationDetail.address = `${address.province}${address.city}${address.district}${address.street}`\r\n              resolve(locationDetail)\r\n            }\r\n          )\r\n        } else {\r\n          //定位失败\r\n          Notify({ type: 'warning', message: this.getStatus() })\r\n          resolve(null)\r\n        }\r\n      },\r\n      { enableHighAccuracy: true }\r\n    )\r\n  })\r\n}\r\n\r\nconst getCurrentLocation = (loading = true) => {\r\n  loading &&\r\n    Toast.loading({\r\n      message: '位置获取中...',\r\n      forbidClick: true\r\n    })\r\n  return new Promise(resolve => {\r\n    getPositionFromPlus(loading).then(result => {\r\n      loading && Toast.clear()\r\n      resolve(result)\r\n    })\r\n  })\r\n}\r\n\r\nexport const locationUtil = {\r\n  getCurrentLocation\r\n}\r\n"],"mappings":"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"}]}