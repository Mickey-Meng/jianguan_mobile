{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\project\\quality\\check.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\project\\quality\\check.vue","mtime":1684246188005},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\babel.config.js","mtime":1684246187306},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovV29ya3NwYWNlL0ppYW5HdWFuL2ppYW5ndWFuX21vYmlsZS9tb2JpbGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwudG8tanNvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCBVcGxvYWQgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9VcGxvYWQnOwppbXBvcnQgU2VsZWN0ZXIgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9TZWxlY3Rlcic7CmltcG9ydCB7IGdldFF1YWxpdHlUcmVlLCBnZXRTYWZlQ2hlY2ssIHVwbG9hZFF1YWxpdHlEYXRhLCBnZXRHb25nUXVOZXcsIGdldEdvbmdRdVByb2plY3QsIGdldERlbGF5UXVhbGl0eUV2ZW50LCBkb0RlbGF5UXVhbGl0eUV2ZW50IH0gZnJvbSAnQC9hcGkvcHJvamVjdC5qcyc7CmltcG9ydCB7IGZvcm1hdElTTzg2MDFUaW1lIH0gZnJvbSAnQC91dGlscy9pbmRleCc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFVwbG9hZDogVXBsb2FkLAogICAgU2VsZWN0ZXI6IFNlbGVjdGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWRpdERhdGE6IHsKICAgICAgICBzYWZlZmlyc3RuYW1lOiAnJywKICAgICAgICBzYWZlc2Vjb25kbmFtZTogJycsCiAgICAgICAgbW9kaWZ5bmFtZTogJycsCiAgICAgICAgbW9kaWZ5ZGF0ZTogMwogICAgICB9LAogICAgICBmaXJzdEFjdGlvbnM6IFtdLAogICAgICBzZWNvbmRBY3Rpb25zOiBbXSwKICAgICAgY2hlY2tBY3Rpb25zOiBbXSwKICAgICAgc2hvd0ZpcnN0OiBmYWxzZSwKICAgICAgc2hvd1NlY29uZDogZmFsc2UsCiAgICAgIHVybExpc3Q6IFtdLAogICAgICBzaG93UGlja2VyOiBmYWxzZSwKICAgICAgZm9ybWF0SVNPODYwMVRpbWU6IGZvcm1hdElTTzg2MDFUaW1lLAogICAgICBnb25nUXVBY3Rpb25zOiBbXSwKICAgICAgc2hvd0dvbmdRdTogZmFsc2UsCiAgICAgIHByb2plY3RBY3Rpb25zOiBbXSwKICAgICAgc2hvd1Byb2plY3Q6IGZhbHNlLAogICAgICBjdXJyZW50RGF0ZTogbmV3IERhdGUoKSwKICAgICAgbGlzdDogW10sCiAgICAgIGZpbmlzaGVkOiBmYWxzZSwKICAgICAgcmVmcmVzaGluZzogZmFsc2UsCiAgICAgIHNob3c6IGZhbHNlLAogICAgICBkZWxheUl0ZW06IHsKICAgICAgICByZWFzb246ICcnCiAgICAgIH0sCiAgICAgIHRpdGxlOiAn6YCa6L+HJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHsKICAgIHNjcm9sbGVySGVpZ2h0OiBmdW5jdGlvbiBzY3JvbGxlckhlaWdodCgpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodCAtIDE0NiArICdweCc7CiAgICB9CiAgfSwgbWFwR2V0dGVycyhbJ2N1cnJlbnRCaWFvRHVhbiddKSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgdmFyIHVzZXJJbmZvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcmluZm8nKSk7CiAgICB0aGlzLmVkaXREYXRhLnVwbG9hZGlkID0gdXNlckluZm8uaWQ7CiAgICB0aGlzLmVkaXREYXRhLnVwbG9hZG5hbWUgPSB1c2VySW5mby5uYW1lOwogICAgdGhpcy5yZXF1ZXN0Rmlyc3QoKTsKICAgIGdldEdvbmdRdU5ldyh0aGlzLiRzdG9yZS5zdGF0ZS5jdXJQcm9qZWN0LmNoaWxkWzBdLmlkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIF90aGlzLmdvbmdRdUFjdGlvbnMgPSBkYXRhOwogICAgICBkYXRhICYmIGRhdGEubGVuZ3RoICE9PSAwICYmIF90aGlzLm9uU2VsZWN0R29uZ3F1KGRhdGFbMF0pOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblNlbGVjdEZpcnN0OiBmdW5jdGlvbiBvblNlbGVjdEZpcnN0KGl0ZW0pIHsKICAgICAgdGhpcy5zaG93Rmlyc3QgPSBmYWxzZTsKICAgICAgdGhpcy5lZGl0RGF0YS5xdWFsaXR5Zmlyc3RuYW1lID0gaXRlbS5uYW1lOwogICAgICB0aGlzLmVkaXREYXRhLnF1YWxpdHlmaXJzdCA9IGl0ZW0uaWQ7CiAgICAgIHRoaXMucmVxdWVzdFNlY29uZChpdGVtLmlkKTsKICAgIH0sCiAgICBvblNlbGVjdFNlY29uZDogZnVuY3Rpb24gb25TZWxlY3RTZWNvbmQoaXRlbSkgewogICAgICB0aGlzLnNob3dTZWNvbmQgPSBmYWxzZTsKICAgICAgdGhpcy5lZGl0RGF0YS5xdWFsaXR5c2Vjb25kbmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgdGhpcy5lZGl0RGF0YS5xdWFsaXR5c2Vjb25kID0gaXRlbS5pZDsKICAgIH0sCiAgICBvblNlbGVjdENoZWNrOiBmdW5jdGlvbiBvblNlbGVjdENoZWNrKGl0ZW0pIHsKICAgICAgdGhpcy5lZGl0RGF0YS5tb2RpZnluYW1lID0gaXRlbS5uYW1lOwogICAgICB0aGlzLmVkaXREYXRhLm1vZGlmeWlkID0gaXRlbS5pZDsKICAgIH0sCiAgICBvblNlbGVjdEdvbmdxdTogZnVuY3Rpb24gb25TZWxlY3RHb25ncXUoaXRlbSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5zaG93R29uZ1F1ID0gZmFsc2U7CiAgICAgIHRoaXMuZWRpdERhdGEuZ29uZ3F1TmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgdGhpcy5lZGl0RGF0YS5nb25ncXVpZCA9IGl0ZW0uc29ydDsKICAgICAgZ2V0R29uZ1F1UHJvamVjdCh7CiAgICAgICAgaWQ6IGl0ZW0uc29ydAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMyLnByb2plY3RBY3Rpb25zID0gZGF0YTsKICAgICAgfSk7CiAgICAgIHRoaXMucmVxdWVzdENoZWNrZXIoKTsKICAgIH0sCiAgICBvblNlbGVjdFByb2plY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0UHJvamVjdChpdGVtKSB7CiAgICAgIHRoaXMuc2hvd1Byb2plY3QgPSBmYWxzZTsKICAgICAgdGhpcy5lZGl0RGF0YS5wcm9qZWN0TmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgdGhpcy5lZGl0RGF0YS5zaW5nbGVQcm9qZWN0SWQgPSBpdGVtLmlkOwogICAgfSwKICAgIG9uQ29uZmlybTogZnVuY3Rpb24gb25Db25maXJtKHRpbWUpIHsKICAgICAgdGhpcy5zaG93UGlja2VyID0gZmFsc2U7CiAgICAgIHRoaXMuZWRpdERhdGEudXBsb2FkdGltZSA9IHRoaXMuZm9ybWF0SVNPODYwMVRpbWUobmV3IERhdGUodGltZSkudG9KU09OKCkpOwogICAgfSwKICAgIHJlcXVlc3RDaGVja2VyOiBmdW5jdGlvbiByZXF1ZXN0Q2hlY2tlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgZ2V0U2FmZUNoZWNrKHsKICAgICAgICBncm91cDogdGhpcy5lZGl0RGF0YS5nb25ncXVpZCwKICAgICAgICBwcm9qZWN0SWQ6IHRoaXMuJHN0b3JlLnN0YXRlLmN1clByb2plY3QuY2hpbGRbMF0uaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHRoYXQuY2hlY2tBY3Rpb25zID0gZGF0YTsKICAgICAgICBfdGhpczMub25TZWxlY3RDaGVjayh0aGF0LmNoZWNrQWN0aW9uc1swXSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlcXVlc3RGaXJzdDogZnVuY3Rpb24gcmVxdWVzdEZpcnN0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICBnZXRRdWFsaXR5VHJlZSgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICB0aGF0LmZpcnN0QWN0aW9ucyA9IGRhdGE7CiAgICAgICAgX3RoaXM0Lm9uU2VsZWN0Rmlyc3QoZGF0YVswXSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlcXVlc3RTZWNvbmQ6IGZ1bmN0aW9uIHJlcXVlc3RTZWNvbmQoaWQpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICBnZXRRdWFsaXR5VHJlZSh7CiAgICAgICAgaWQ6IGlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICB0aGF0LnNlY29uZEFjdGlvbnMgPSBkYXRhOwogICAgICAgIHRoYXQuZWRpdERhdGEuc2FmZXNlY29uZG5hbWUgPSBkYXRhWzBdLm5hbWU7CiAgICAgICAgdGhhdC5lZGl0RGF0YS5zYWZlc2Vjb25kID0gZGF0YVswXS5pZDsKICAgICAgfSk7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KHZhbHVlcykgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZWRpdERhdGEpKTsKICAgICAgZGF0YS5wcm9qZWN0SWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50Qmlhb0R1YW4uaWQ7CiAgICAgIGRhdGEubW9kaWZ5ZGF0ZSA9IHBhcnNlSW50KGRhdGEubW9kaWZ5ZGF0ZSk7CiAgICAgIHZhciB0ZW1wID0gW107CiAgICAgIHZhbHVlcy51cGxvYWR1cmwuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0udXJsICYmIHRlbXAucHVzaChpdGVtLnVybCk7CiAgICAgIH0pOwogICAgICBpZiAodmFsdWVzLnVwbG9hZHVybC5sZW5ndGggIT09IHRlbXAubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35LiK5Lyg5paH5Lu25oiW562J5b6F5paH5Lu25LiK5Lyg5a6M5oiQ77yBJwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGRhdGEudXBsb2FkdXJsID0gdGVtcC5qb2luKCcsJyk7CiAgICAgIHVwbG9hZFF1YWxpdHlEYXRhKGRhdGEpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS4kbm90aWZ5KHsKICAgICAgICAgIG1lc3NhZ2U6ICfmj5DkuqTmiJDlip/vvIEnLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CiAgICAgICAgX3RoaXM1LiRyb3V0ZXIuZ28oLTEpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkxvYWQ6IGZ1bmN0aW9uIG9uTG9hZCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgZ2V0RGVsYXlRdWFsaXR5RXZlbnQoewogICAgICAgICdwcm9qZWN0SWQnOiB0aGlzLmN1cnJlbnRCaWFvRHVhbi5pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgdGhhdC5saXN0ID0gZGF0YSB8fCBbXTsKICAgICAgICB0aGF0LnJlZnJlc2hpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpczYuZmluaXNoZWQgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBpdGVtQ2xpY2s6IGZ1bmN0aW9uIGl0ZW1DbGljayhpdGVtKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnZGV0YWlsJywKICAgICAgICBwYXJhbXM6IGl0ZW0KICAgICAgfSk7CiAgICB9LAogICAgZG9EZWxheVF1YWxpdHlFdmVudDogZnVuY3Rpb24gZG9EZWxheVF1YWxpdHlFdmVudChpdGVtLCByZXN1bHQpIHsKICAgICAgdGhpcy50aXRsZSA9IHJlc3VsdCA9PT0gMSA/ICfpgJrov4cnIDogJ+S4jemAmui/hyc7CiAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICAgIHRoaXMuZGVsYXlJdGVtLnJlc3VsdCA9IHJlc3VsdDsKICAgICAgdGhpcy5kZWxheUl0ZW0uZXZlbnRpZCA9IGl0ZW0uaWQ7CiAgICB9LAogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoYWN0aW9uLCBkb25lKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICBpZiAoYWN0aW9uID09PSAnY2FuY2VsJykgewogICAgICAgIGRvbmUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb0RlbGF5UXVhbGl0eUV2ZW50KHRoaXMuZGVsYXlJdGVtKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBfdGhpczcuJHRvYXN0KCflpITnkIbmiJDlip8nKTsKICAgICAgICAgIF90aGlzNy4kc3RvcmUuZGlzcGF0Y2goJ2dldFJlYWx0aW1lTWVzc2FnZScpOwogICAgICAgICAgZG9uZSgpOwogICAgICAgICAgX3RoaXM3Lm9uTG9hZCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["Upload","Selecter","getQualityTree","getSafeCheck","uploadQualityData","getGongQuNew","getGongQuProject","getDelayQualityEvent","doDelayQualityEvent","formatISO8601Time","mapGetters","components","data","editData","safefirstname","safesecondname","modifyname","modifydate","firstActions","secondActions","checkActions","showFirst","showSecond","urlList","showPicker","gongQuActions","showGongQu","projectActions","showProject","currentDate","Date","list","finished","refreshing","show","delayItem","reason","title","computed","_objectSpread","scrollerHeight","window","innerHeight","mounted","created","_this","userInfo","JSON","parse","localStorage","getItem","uploadid","id","uploadname","name","requestFirst","$store","state","curProject","child","then","length","onSelectGongqu","methods","onSelectFirst","item","qualityfirstname","qualityfirst","requestSecond","onSelectSecond","qualitysecondname","qualitysecond","onSelectCheck","modifyid","_this2","gongquName","gongquid","sort","requestChecker","onSelectProject","projectName","singleProjectId","onConfirm","time","uploadtime","toJSON","_this3","that","group","projectId","_this4","safesecond","onSubmit","values","_this5","stringify","currentBiaoDuan","parseInt","temp","uploadurl","forEach","url","push","$notify","type","message","join","$router","go","onLoad","_this6","itemClick","params","result","eventid","submit","action","done","_this7","$toast","dispatch"],"sources":["src/views/project/quality/check.vue"],"sourcesContent":["<template>\r\n  <div class=\"report\">\r\n    <van-tabs>\r\n      <van-tab title=\"质量检查\">\r\n        <van-form @submit=\"onSubmit\" :v-model=\"editData\" class=\"common-card\" :style=\"{ height: scrollerHeight }\">\r\n          <van-field\r\n            readonly\r\n            clickable\r\n            :value=\"editData.qualityfirstname\"\r\n            label=\"质量大类\"\r\n            placeholder=\"质量大类\"\r\n            @click=\"showFirst = true\"\r\n            :rules=\"[{ required: true, message: '请选质量大类' }]\"\r\n          />\r\n          <van-field\r\n            readonly\r\n            clickable\r\n            :value=\"editData.qualitysecondname\"\r\n            label=\"质量小类\"\r\n            placeholder=\"质量小类\"\r\n            @click=\"showSecond = true\"\r\n            :rules=\"[{ required: true, message: '请选质量小类' }]\"\r\n          />\r\n          <van-field\r\n            v-model=\"editData.uploadtime\"\r\n            is-link\r\n            readonly\r\n            name=\"uploadtime\"\r\n            label=\"检查日期\"\r\n            placeholder=\"点击选择检查日期\"\r\n            @click=\"showPicker = true\"\r\n            :rules=\"[{ required: true, message: '请选择检查日期' }]\"\r\n          />\r\n          <van-field\r\n            type=\"textarea\"\r\n            rows=\"2\"\r\n            v-model=\"editData.uploadremark\"\r\n            name=\"uploadremark\"\r\n            label=\"问题描述\"\r\n            placeholder=\"问题描述\"\r\n          />\r\n          <upload\r\n            label=\"照片\"\r\n            name=\"uploadurl\"\r\n            :fileList=\"urlList\"\r\n            :rules=\"[{ required: true, message: '请选择照片' }]\"\r\n          ></upload>\r\n          <van-field\r\n            readonly\r\n            clickable\r\n            :value=\"editData.gongquName\"\r\n            label=\"工区\"\r\n            placeholder=\"工区\"\r\n            @click=\"showGongQu = true\"\r\n            :rules=\"[{ required: true, message: '请选工区' }]\"\r\n          />\r\n          <van-field\r\n            readonly\r\n            clickable\r\n            :value=\"editData.projectName\"\r\n            label=\"单位工程\"\r\n            placeholder=\"单位工程\"\r\n            @click=\"showProject = true\"\r\n            :rules=\"[{ required: true, message: '请选单位工程' }]\"\r\n          />\r\n          <Selecter\r\n            readonly\r\n            clickable\r\n            :value=\"editData.modifyname\"\r\n            label=\"责任人\"\r\n            placeholder=\"责任人\"\r\n            :rules=\"[{ required: true, message: '请选责任人' }]\"\r\n            :actions=\"checkActions\"\r\n            :onSelect=\"onSelectCheck\"\r\n          ></Selecter>\r\n          <van-field\r\n            type=\"digit\"\r\n            v-model=\"editData.modifydate\"\r\n            name=\"modifydate\"\r\n            label=\"整改期限\"\r\n            placeholder=\"整改期限\"\r\n            :rules=\"[{ required: true, message: '请填整改期限' }]\"\r\n          />\r\n\r\n          <div style=\"margin: 4px 16px\">\r\n            <van-button size=\"small\" round block type=\"info\" native-type=\"submit\">提交</van-button>\r\n          </div>\r\n        </van-form>\r\n      </van-tab>\r\n      <van-tab title=\"延期审核\">\r\n        <van-list\r\n          :finished=\"finished\"\r\n          finished-text=\"我也是有底线的~~\"\r\n          @load=\"onLoad\"\r\n          class=\"common-list common-card\"\r\n          :style=\"{ height: scrollerHeight }\"\r\n        >\r\n          <div\r\n            @click=\"itemClick(item, 0)\"\r\n            v-for=\"(item, index) in list\"\r\n            :key=\"index\"\r\n            :class=\"'item ' + (index === list.length - 1 ? 'last' : '')\"\r\n          >\r\n            <div class=\"content\">\r\n              <span class=\"name\">检查时间：</span>\r\n              <span class=\"value\">{{ item.uploadtime }}</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">检查人：</span>\r\n              <span class=\"value\">{{ item.uploadname }}</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">检查备注：</span>\r\n              <span class=\"value\">{{ item.uploadremark }}</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">整改期限：</span>\r\n              <span class=\"value\">{{ item.modifydate }} 天</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">申请延期：</span>\r\n              <span class=\"value\">{{ item.delayday }} 天</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">延期原因：</span>\r\n              <span class=\"value\">{{ item.delayreason }}</span>\r\n            </div>\r\n            <div class=\"operate center-in-vertical\">\r\n              <van-button\r\n                v-if=\"item.delayresult === 1\"\r\n                class=\"button\"\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                @click.stop=\"doDelayQualityEvent(item, 1)\"\r\n                >通过</van-button\r\n              >\r\n              <van-button\r\n                v-if=\"item.delayresult === 1\"\r\n                class=\"button\"\r\n                type=\"danger\"\r\n                size=\"small\"\r\n                @click.stop=\"doDelayQualityEvent(item, 2)\"\r\n                >不通过</van-button\r\n              >\r\n            </div>\r\n          </div>\r\n        </van-list>\r\n      </van-tab>\r\n    </van-tabs>\r\n    <van-action-sheet v-model=\"showFirst\" :actions=\"firstActions\" @select=\"onSelectFirst\" />\r\n    <van-action-sheet v-model=\"showSecond\" :actions=\"secondActions\" @select=\"onSelectSecond\" />\r\n    <van-action-sheet v-model=\"showGongQu\" :actions=\"gongQuActions\" @select=\"onSelectGongqu\" />\r\n    <van-action-sheet v-model=\"showProject\" :actions=\"projectActions\" @select=\"onSelectProject\" />\r\n    <van-popup v-model=\"showPicker\" position=\"bottom\">\r\n      <van-datetime-picker v-model=\"currentDate\" type=\"datetime\" @confirm=\"onConfirm\" @cancel=\"showPicker = false\" />\r\n    </van-popup>\r\n\r\n    <van-dialog v-model=\"show\" :title=\"title\" show-cancel-button :beforeClose=\"submit\">\r\n      <van-form v-model=\"delayItem\">\r\n        <van-field type=\"textarea\" v-model=\"delayItem.reason\" name=\"uploadremark\" label=\"原因\" placeholder=\"原因\" />\r\n      </van-form>\r\n    </van-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Upload from '@/components/common/Upload'\r\nimport Selecter from '@/components/common/Selecter'\r\nimport {\r\n  getQualityTree,\r\n  getSafeCheck,\r\n  uploadQualityData,\r\n  getGongQuNew,\r\n  getGongQuProject,\r\n  getDelayQualityEvent,\r\n  doDelayQualityEvent\r\n} from '@/api/project.js'\r\nimport { formatISO8601Time } from '@/utils/index'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  components: {\r\n    Upload,\r\n    Selecter\r\n  },\r\n  data() {\r\n    return {\r\n      editData: {\r\n        safefirstname: '',\r\n        safesecondname: '',\r\n        modifyname: '',\r\n        modifydate: 3\r\n      },\r\n      firstActions: [],\r\n      secondActions: [],\r\n      checkActions: [],\r\n      showFirst: false,\r\n      showSecond: false,\r\n      urlList: [],\r\n      showPicker: false,\r\n      formatISO8601Time,\r\n      gongQuActions: [],\r\n      showGongQu: false,\r\n      projectActions: [],\r\n      showProject: false,\r\n      currentDate: new Date(),\r\n      list: [],\r\n      finished: false,\r\n      refreshing: false,\r\n      show: false,\r\n      delayItem: { reason: '' },\r\n      title: '通过'\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    scrollerHeight: function() {\r\n      return window.innerHeight - 146 + 'px'\r\n    },\r\n    ...mapGetters(['currentBiaoDuan'])\r\n  },\r\n\r\n  mounted() {},\r\n\r\n  created() {\r\n    let userInfo = JSON.parse(localStorage.getItem('userinfo'))\r\n    this.editData.uploadid = userInfo.id\r\n    this.editData.uploadname = userInfo.name\r\n    this.requestFirst()\r\n    getGongQuNew(this.$store.state.curProject.child[0].id).then(data => {\r\n      this.gongQuActions = data\r\n      data && data.length !== 0 && this.onSelectGongqu(data[0])\r\n    })\r\n  },\r\n\r\n  methods: {\r\n    onSelectFirst(item) {\r\n      this.showFirst = false\r\n      this.editData.qualityfirstname = item.name\r\n      this.editData.qualityfirst = item.id\r\n      this.requestSecond(item.id)\r\n    },\r\n    onSelectSecond(item) {\r\n      this.showSecond = false\r\n      this.editData.qualitysecondname = item.name\r\n      this.editData.qualitysecond = item.id\r\n    },\r\n    onSelectCheck(item) {\r\n      this.editData.modifyname = item.name\r\n      this.editData.modifyid = item.id\r\n    },\r\n    onSelectGongqu(item) {\r\n      this.showGongQu = false\r\n      this.editData.gongquName = item.name\r\n      this.editData.gongquid = item.sort\r\n\r\n      getGongQuProject({ id: item.sort }).then(data => {\r\n        this.projectActions = data\r\n      })\r\n\r\n      this.requestChecker()\r\n    },\r\n    onSelectProject(item) {\r\n      this.showProject = false\r\n      this.editData.projectName = item.name\r\n      this.editData.singleProjectId = item.id\r\n    },\r\n    onConfirm(time) {\r\n      this.showPicker = false\r\n      this.editData.uploadtime = this.formatISO8601Time(new Date(time).toJSON())\r\n    },\r\n    requestChecker() {\r\n      let that = this\r\n      getSafeCheck({ group: this.editData.gongquid,projectId: this.$store.state.curProject.child[0].id }).then(data => {\r\n        that.checkActions = data\r\n        this.onSelectCheck(that.checkActions[0])\r\n      })\r\n    },\r\n    requestFirst() {\r\n      let that = this\r\n      getQualityTree().then(data => {\r\n        that.firstActions = data\r\n        this.onSelectFirst(data[0])\r\n      })\r\n    },\r\n    requestSecond(id) {\r\n      let that = this\r\n      getQualityTree({ id: id }).then(data => {\r\n        that.secondActions = data\r\n        that.editData.safesecondname = data[0].name\r\n        that.editData.safesecond = data[0].id\r\n      })\r\n    },\r\n    onSubmit(values) {\r\n      let data = JSON.parse(JSON.stringify(this.editData))\r\n      data.projectId = this.$store.state.currentBiaoDuan.id\r\n      data.modifydate = parseInt(data.modifydate)\r\n      let temp = []\r\n      values.uploadurl.forEach(item => {\r\n        item.url && temp.push(item.url)\r\n      })\r\n      if(values.uploadurl.length !== temp.length){\r\n         return this.$notify({ type: 'warning', message: '请上传文件或等待文件上传完成！' })\r\n      }\r\n      data.uploadurl = temp.join(',')\r\n      uploadQualityData(data).then(() => {\r\n        this.$notify({\r\n          message: '提交成功！',\r\n          type: 'success'\r\n        })\r\n        this.$router.go(-1)\r\n      })\r\n    },\r\n    onLoad() {\r\n      let that = this\r\n      getDelayQualityEvent({'projectId':this.currentBiaoDuan.id}).then(data => {\r\n        that.list = data || []\r\n        that.refreshing = false\r\n        this.finished = true\r\n      })\r\n    },\r\n    itemClick(item) {\r\n      this.$router.push({\r\n        name: 'detail',\r\n        params: item\r\n      })\r\n    },\r\n    doDelayQualityEvent(item, result) {\r\n      this.title = result === 1 ? '通过' : '不通过'\r\n      this.show = true\r\n      this.delayItem.result = result\r\n      this.delayItem.eventid = item.id\r\n    },\r\n    submit(action, done) {\r\n      if (action === 'cancel') {\r\n        done()\r\n      } else {\r\n        doDelayQualityEvent(this.delayItem).then(data => {\r\n          this.$toast('处理成功')\r\n          this.$store.dispatch('getRealtimeMessage')\r\n          done()\r\n          this.onLoad()\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";;;;;;;;;AAsKA,OAAAA,MAAA;AACA,OAAAC,QAAA;AACA,SACAC,cAAA,EACAC,YAAA,EACAC,iBAAA,EACAC,YAAA,EACAC,gBAAA,EACAC,oBAAA,EACAC,mBAAA,QACA;AACA,SAAAC,iBAAA;AACA,SAAAC,UAAA;AACA;EACAC,UAAA;IACAX,MAAA,EAAAA,MAAA;IACAC,QAAA,EAAAA;EACA;EACAW,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;QACAC,aAAA;QACAC,cAAA;QACAC,UAAA;QACAC,UAAA;MACA;MACAC,YAAA;MACAC,aAAA;MACAC,YAAA;MACAC,SAAA;MACAC,UAAA;MACAC,OAAA;MACAC,UAAA;MACAf,iBAAA,EAAAA,iBAAA;MACAgB,aAAA;MACAC,UAAA;MACAC,cAAA;MACAC,WAAA;MACAC,WAAA,MAAAC,IAAA;MACAC,IAAA;MACAC,QAAA;MACAC,UAAA;MACAC,IAAA;MACAC,SAAA;QAAAC,MAAA;MAAA;MACAC,KAAA;IACA;EACA;EAEAC,QAAA,EAAAC,aAAA;IACAC,cAAA,WAAAA,eAAA;MACA,OAAAC,MAAA,CAAAC,WAAA;IACA;EAAA,GACAhC,UAAA,sBACA;EAEAiC,OAAA,WAAAA,QAAA;EAEAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACA,IAAAC,QAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA,KAAArC,QAAA,CAAAsC,QAAA,GAAAL,QAAA,CAAAM,EAAA;IACA,KAAAvC,QAAA,CAAAwC,UAAA,GAAAP,QAAA,CAAAQ,IAAA;IACA,KAAAC,YAAA;IACAlD,YAAA,MAAAmD,MAAA,CAAAC,KAAA,CAAAC,UAAA,CAAAC,KAAA,IAAAP,EAAA,EAAAQ,IAAA,WAAAhD,IAAA;MACAiC,KAAA,CAAApB,aAAA,GAAAb,IAAA;MACAA,IAAA,IAAAA,IAAA,CAAAiD,MAAA,UAAAhB,KAAA,CAAAiB,cAAA,CAAAlD,IAAA;IACA;EACA;EAEAmD,OAAA;IACAC,aAAA,WAAAA,cAAAC,IAAA;MACA,KAAA5C,SAAA;MACA,KAAAR,QAAA,CAAAqD,gBAAA,GAAAD,IAAA,CAAAX,IAAA;MACA,KAAAzC,QAAA,CAAAsD,YAAA,GAAAF,IAAA,CAAAb,EAAA;MACA,KAAAgB,aAAA,CAAAH,IAAA,CAAAb,EAAA;IACA;IACAiB,cAAA,WAAAA,eAAAJ,IAAA;MACA,KAAA3C,UAAA;MACA,KAAAT,QAAA,CAAAyD,iBAAA,GAAAL,IAAA,CAAAX,IAAA;MACA,KAAAzC,QAAA,CAAA0D,aAAA,GAAAN,IAAA,CAAAb,EAAA;IACA;IACAoB,aAAA,WAAAA,cAAAP,IAAA;MACA,KAAApD,QAAA,CAAAG,UAAA,GAAAiD,IAAA,CAAAX,IAAA;MACA,KAAAzC,QAAA,CAAA4D,QAAA,GAAAR,IAAA,CAAAb,EAAA;IACA;IACAU,cAAA,WAAAA,eAAAG,IAAA;MAAA,IAAAS,MAAA;MACA,KAAAhD,UAAA;MACA,KAAAb,QAAA,CAAA8D,UAAA,GAAAV,IAAA,CAAAX,IAAA;MACA,KAAAzC,QAAA,CAAA+D,QAAA,GAAAX,IAAA,CAAAY,IAAA;MAEAvE,gBAAA;QAAA8C,EAAA,EAAAa,IAAA,CAAAY;MAAA,GAAAjB,IAAA,WAAAhD,IAAA;QACA8D,MAAA,CAAA/C,cAAA,GAAAf,IAAA;MACA;MAEA,KAAAkE,cAAA;IACA;IACAC,eAAA,WAAAA,gBAAAd,IAAA;MACA,KAAArC,WAAA;MACA,KAAAf,QAAA,CAAAmE,WAAA,GAAAf,IAAA,CAAAX,IAAA;MACA,KAAAzC,QAAA,CAAAoE,eAAA,GAAAhB,IAAA,CAAAb,EAAA;IACA;IACA8B,SAAA,WAAAA,UAAAC,IAAA;MACA,KAAA3D,UAAA;MACA,KAAAX,QAAA,CAAAuE,UAAA,QAAA3E,iBAAA,KAAAqB,IAAA,CAAAqD,IAAA,EAAAE,MAAA;IACA;IACAP,cAAA,WAAAA,eAAA;MAAA,IAAAQ,MAAA;MACA,IAAAC,IAAA;MACApF,YAAA;QAAAqF,KAAA,OAAA3E,QAAA,CAAA+D,QAAA;QAAAa,SAAA,OAAAjC,MAAA,CAAAC,KAAA,CAAAC,UAAA,CAAAC,KAAA,IAAAP;MAAA,GAAAQ,IAAA,WAAAhD,IAAA;QACA2E,IAAA,CAAAnE,YAAA,GAAAR,IAAA;QACA0E,MAAA,CAAAd,aAAA,CAAAe,IAAA,CAAAnE,YAAA;MACA;IACA;IACAmC,YAAA,WAAAA,aAAA;MAAA,IAAAmC,MAAA;MACA,IAAAH,IAAA;MACArF,cAAA,GAAA0D,IAAA,WAAAhD,IAAA;QACA2E,IAAA,CAAArE,YAAA,GAAAN,IAAA;QACA8E,MAAA,CAAA1B,aAAA,CAAApD,IAAA;MACA;IACA;IACAwD,aAAA,WAAAA,cAAAhB,EAAA;MACA,IAAAmC,IAAA;MACArF,cAAA;QAAAkD,EAAA,EAAAA;MAAA,GAAAQ,IAAA,WAAAhD,IAAA;QACA2E,IAAA,CAAApE,aAAA,GAAAP,IAAA;QACA2E,IAAA,CAAA1E,QAAA,CAAAE,cAAA,GAAAH,IAAA,IAAA0C,IAAA;QACAiC,IAAA,CAAA1E,QAAA,CAAA8E,UAAA,GAAA/E,IAAA,IAAAwC,EAAA;MACA;IACA;IACAwC,QAAA,WAAAA,SAAAC,MAAA;MAAA,IAAAC,MAAA;MACA,IAAAlF,IAAA,GAAAmC,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAgD,SAAA,MAAAlF,QAAA;MACAD,IAAA,CAAA6E,SAAA,QAAAjC,MAAA,CAAAC,KAAA,CAAAuC,eAAA,CAAA5C,EAAA;MACAxC,IAAA,CAAAK,UAAA,GAAAgF,QAAA,CAAArF,IAAA,CAAAK,UAAA;MACA,IAAAiF,IAAA;MACAL,MAAA,CAAAM,SAAA,CAAAC,OAAA,WAAAnC,IAAA;QACAA,IAAA,CAAAoC,GAAA,IAAAH,IAAA,CAAAI,IAAA,CAAArC,IAAA,CAAAoC,GAAA;MACA;MACA,IAAAR,MAAA,CAAAM,SAAA,CAAAtC,MAAA,KAAAqC,IAAA,CAAArC,MAAA;QACA,YAAA0C,OAAA;UAAAC,IAAA;UAAAC,OAAA;QAAA;MACA;MACA7F,IAAA,CAAAuF,SAAA,GAAAD,IAAA,CAAAQ,IAAA;MACAtG,iBAAA,CAAAQ,IAAA,EAAAgD,IAAA;QACAkC,MAAA,CAAAS,OAAA;UACAE,OAAA;UACAD,IAAA;QACA;QACAV,MAAA,CAAAa,OAAA,CAAAC,EAAA;MACA;IACA;IACAC,MAAA,WAAAA,OAAA;MAAA,IAAAC,MAAA;MACA,IAAAvB,IAAA;MACAhF,oBAAA;QAAA,kBAAAyF,eAAA,CAAA5C;MAAA,GAAAQ,IAAA,WAAAhD,IAAA;QACA2E,IAAA,CAAAxD,IAAA,GAAAnB,IAAA;QACA2E,IAAA,CAAAtD,UAAA;QACA6E,MAAA,CAAA9E,QAAA;MACA;IACA;IACA+E,SAAA,WAAAA,UAAA9C,IAAA;MACA,KAAA0C,OAAA,CAAAL,IAAA;QACAhD,IAAA;QACA0D,MAAA,EAAA/C;MACA;IACA;IACAzD,mBAAA,WAAAA,oBAAAyD,IAAA,EAAAgD,MAAA;MACA,KAAA5E,KAAA,GAAA4E,MAAA;MACA,KAAA/E,IAAA;MACA,KAAAC,SAAA,CAAA8E,MAAA,GAAAA,MAAA;MACA,KAAA9E,SAAA,CAAA+E,OAAA,GAAAjD,IAAA,CAAAb,EAAA;IACA;IACA+D,MAAA,WAAAA,OAAAC,MAAA,EAAAC,IAAA;MAAA,IAAAC,MAAA;MACA,IAAAF,MAAA;QACAC,IAAA;MACA;QACA7G,mBAAA,MAAA2B,SAAA,EAAAyB,IAAA,WAAAhD,IAAA;UACA0G,MAAA,CAAAC,MAAA;UACAD,MAAA,CAAA9D,MAAA,CAAAgE,QAAA;UACAH,IAAA;UACAC,MAAA,CAAAT,MAAA;QACA;MACA;IACA;EACA;AACA"}]}