{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\contractManagement\\entranceAndExitManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\contractManagement\\entranceAndExitManagement.vue","mtime":1684246187978},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\babel.config.js","mtime":1684246187306},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJFOi9Xb3Jrc3BhY2UvSmlhbkd1YW4vamlhbmd1YW5fbW9iaWxlL21vYmlsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgKiBhcyBhcGkgZnJvbSAiQC9hcGkvcXVhbGl0eS5qcyI7Ci8vIGltcG9ydCBlZGl0IGZyb20gJy4vZW50cmFuY2VBbmRFeGl0TWFuYWdlbWVudC9lZGl0LnZ1ZSc7CmltcG9ydCBkZXRhaWwgZnJvbSAnLi9lbnRyYW5jZUFuZEV4aXRNYW5hZ2VtZW50L2RldGFpbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaXNEcmFmdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgLy8gZWRpdCwKICAgIGRldGFpbDogZGV0YWlsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlTmFtZTogJ2ZpcnN0JywKICAgICAgYWxsRGF0YTogW10sCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBmaW5pc2hlZDogZmFsc2UsCiAgICAgIHRhYmxlRGF0YV8xOiBbXSwKICAgICAgbG9hZGluZ18xOiBmYWxzZSwKICAgICAgZmluaXNoZWRfMTogZmFsc2UsCiAgICAgIG9wZXJhdGVCdG5zVmlzaWJsZTogdHJ1ZSwKICAgICAgcXVlcnlEYXRhOiB7CiAgICAgICAgLy/mn6Xor6Llj4LmlbAKICAgICAgICBidWlsZFNlY3Rpb25OYW1lOiAnJywKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIGRyYWZ0RmxhZzogMSwKICAgICAgICB0b3RhbFBhZ2U6IDEsCiAgICAgICAgcGFnZVNpemU6IDEwLAogICAgICAgIGJ1aWxkU2VjdGlvbjogdGhpcy4kc3RvcmUuZ2V0dGVycy5jdXJyZW50Qmlhb0R1YW4uaWQgfHwgMywKICAgICAgICBwcm9qZWN0SWQ6IHRoaXMuJHN0b3JlLmdldHRlcnMuY3VyUHJvamVjdC5pZCB8fCAyCiAgICAgIH0sCiAgICAgIHF1ZXJ5RGF0YV8xOiB7CiAgICAgICAgLy/mn6Xor6Llj4LmlbAKICAgICAgICBidWlsZFNlY3Rpb25OYW1lOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICB0eXBlOiAwLAogICAgICAgIGRyYWZ0RmxhZzogMSwKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHRvdGFsUGFnZTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgYnVpbGRTZWN0aW9uOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmN1cnJlbnRCaWFvRHVhbi5pZCB8fCAzLAogICAgICAgIHByb2plY3RJZDogdGhpcy4kc3RvcmUuZ2V0dGVycy5jdXJQcm9qZWN0LmlkIHx8IDIKICAgICAgfSwKICAgICAgZWRpdFJvdzogbnVsbCwKICAgICAgZGV0YWlsUm93OiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIGNvbXB1dGVkOiB7CiAgICBzY3JvbGxlckhlaWdodDogZnVuY3Rpb24gc2Nyb2xsZXJIZWlnaHQoKSB7CiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQgLSA5MSArICdweCc7CiAgICB9LAogICAgc2Nyb2xsZXJIZWlnaHRfMTogZnVuY3Rpb24gc2Nyb2xsZXJIZWlnaHRfMSgpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodCAtIDkxICsgJ3B4JzsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyB0aGlzLnF1ZXJ5KCk7CiAgICB0aGlzLnF1ZXJ5XzEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHF1ZXJ5OiBmdW5jdGlvbiBxdWVyeSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5xdWVyeURhdGEuZHJhZnRGbGFnID0gdGhpcy5pc0RyYWZ0ID8gMCA6IDE7CiAgICAgIGFwaS5nZXRFbnRlckV4aXRMaXN0KHRoaXMucXVlcnlEYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5hbGxEYXRhID0gcmVzLmRhdGEgfHwge307CiAgICAgICAgLy8gdGhpcy50YWJsZURhdGEgPSB0aGlzLmZvcm1hdGVUYWJsZURhdGEocmVzLmRhdGEubGlzdCk7CiAgICAgICAgX3RoaXMudGFibGVEYXRhID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpcy50YWJsZURhdGEpLCBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMuZm9ybWF0ZVRhYmxlRGF0YShyZXMuZGF0YS5saXN0KSB8fCBbXSkpOwogICAgICAgIF90aGlzLnF1ZXJ5RGF0YS5wYWdlTnVtID0gcmVzLmRhdGEucGFnZU51bSArIDE7CiAgICAgICAgX3RoaXMucXVlcnlEYXRhLnRvdGFsUGFnZSA9IHJlcy5kYXRhLnRvdGFsOwogICAgICAgIF90aGlzLnF1ZXJ5RGF0YS5wYWdlU2l6ZSA9IHJlcy5kYXRhLnBhZ2VTaXplOwoKICAgICAgICAvLyDliqDovb3nirbmgIHnu5PmnZ8KICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgLy8g5pWw5o2u5YWo6YOo5Yqg6L295a6M5oiQCiAgICAgICAgaWYgKF90aGlzLnRhYmxlRGF0YS5sZW5ndGggPj0gcmVzLmRhdGEudG90YWwpIHsKICAgICAgICAgIF90aGlzLmZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGZvcm1hdGVUYWJsZURhdGE6IGZ1bmN0aW9uIGZvcm1hdGVUYWJsZURhdGEobGlzdCkgewogICAgICBsaXN0ID0gbGlzdCB8fCBbXTsKICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaXRlbVsnYnVpbGRVbml0c1N0ciddID0gaXRlbVsnYnVpbGRVbml0cyddID8gaXRlbVsnYnVpbGRVbml0cyddLmpvaW4oJ+OAgScpIDogJyc7CiAgICAgIH0pOwogICAgICByZXR1cm4gbGlzdDsKICAgIH0sCiAgICBxdWVyeV8xOiBmdW5jdGlvbiBxdWVyeV8xKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgYXBpLmdldEVudGVyRXhpdFVzZXJMaXN0KHRoaXMucXVlcnlEYXRhXzEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJlcy5kYXRhID0gcmVzLmRhdGEgfHwge307CiAgICAgICAgX3RoaXMyLnRhYmxlRGF0YV8xID0gcmVzLmRhdGFbJ2xpc3QnXSB8fCBbXTsKICAgICAgICBfdGhpczIudGFibGVEYXRhXzEgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzMi50YWJsZURhdGEpLCBfdG9Db25zdW1hYmxlQXJyYXkocmVzLmRhdGFbJ2xpc3QnXSB8fCBbXSkpOwogICAgICAgIF90aGlzMi5xdWVyeURhdGFfMS5wYWdlTnVtID0gcmVzLmRhdGEucGFnZU51bTsKICAgICAgICBfdGhpczIucXVlcnlEYXRhXzEudG90YWxQYWdlID0gcmVzLmRhdGEudG90YWw7CiAgICAgICAgX3RoaXMyLnF1ZXJ5RGF0YV8xLnBhZ2VTaXplID0gcmVzLmRhdGEucGFnZVNpemU7CgogICAgICAgIC8vIOWKoOi9veeKtuaAgee7k+adnwogICAgICAgIF90aGlzMi5sb2FkaW5nXzEgPSBmYWxzZTsKICAgICAgICAvLyDmlbDmja7lhajpg6jliqDovb3lrozmiJAKICAgICAgICBpZiAoX3RoaXMyLnRhYmxlRGF0YV8xLmxlbmd0aCA+PSByZXMuZGF0YS50b3RhbCkgewogICAgICAgICAgX3RoaXMyLmZpbmlzaGVkXzEgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYWRkTmV3OiBmdW5jdGlvbiBhZGROZXcoKSB7CiAgICAgIC8vIHRoaXMuZWRpdFJvdyA9IG51bGw7CiAgICAgIHRoaXMuJHJlZnMuZWRpdC5jaGFuZ2VWaXNpYmxlKG51bGwsIHRydWUpOwogICAgfSwKICAgIG1vZGlmeTogZnVuY3Rpb24gbW9kaWZ5KHJvdykgewogICAgICAvLyB0aGlzLmVkaXRSb3cgPSByb3c7CiAgICAgIHRoaXMuJHJlZnMuZWRpdC5jaGFuZ2VWaXNpYmxlKHJvdywgdHJ1ZSk7CiAgICB9LAogICAgdmlld0RldGFpbDogZnVuY3Rpb24gdmlld0RldGFpbChyb3cpIHsKICAgICAgdGhpcy5kZXRhaWxSb3cgPSByb3c7CiAgICAgIHRoaXMuJHJlZnMuZGV0YWlsLmNoYW5nZVZpc2libGUodHJ1ZSk7CiAgICB9LAogICAgZGVsZXRlUm93OiBmdW5jdGlvbiBkZWxldGVSb3cocm93KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTmmK/lkKbliKDpmaQ/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGFwaS5kZWxldGVFbnRlckV4aXQocm93WydpZCddKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChfdGhpczMudGFibGVEYXRhLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgIF90aGlzMy5xdWVyeURhdGEucGFnZU51bSA9IF90aGlzMy5xdWVyeURhdGEucGFnZU51bSA+IDEgPyBfdGhpczMucXVlcnlEYXRhLnBhZ2VOdW0gLSAxIDogMTsKICAgICAgICAgIH0KICAgICAgICAgIF90aGlzMy5xdWVyeSgpOwogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2ZhaWwnLAogICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5aSx6LSlIScKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2UpIHsKICAgICAgdGhpcy5xdWVyeURhdGEucGFnZU51bSA9IHBhZ2U7CiAgICAgIHRoaXMucXVlcnkoKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlXzE6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2VfMShwYWdlKSB7CiAgICAgIHRoaXMucXVlcnlEYXRhXzEucGFnZU51bSA9IHBhZ2U7CiAgICAgIHRoaXMucXVlcnlfMSgpOwogICAgfSwKICAgIGNoZWNrRGV0YWlsOiBmdW5jdGlvbiBjaGVja0RldGFpbChyb3cpIHsKICAgICAgdGhpcy4kZW1pdCgiaGlkZURyYWZ0Iik7CiAgICAgIHRoaXMuJGVtaXQoImdldERldGFpbCIsIHJvd1snaWQnXSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["api","detail","props","isDraft","type","Boolean","default","components","data","activeName","allData","tableData","loading","finished","tableData_1","loading_1","finished_1","operateBtnsVisible","queryData","buildSectionName","pageNum","draftFlag","totalPage","pageSize","buildSection","$store","getters","currentBiaoDuan","id","projectId","curProject","queryData_1","name","editRow","detailRow","created","computed","scrollerHeight","window","innerHeight","scrollerHeight_1","mounted","query_1","methods","query","_this","getEnterExitList","then","res","concat","_toConsumableArray","formateTableData","list","total","length","forEach","item","join","_this2","getEnterExitUserList","addNew","$refs","edit","changeVisible","modify","row","viewDetail","deleteRow","_this3","$confirm","confirmButtonText","cancelButtonText","deleteEnterExit","$message","message","catch","error","handleCurrentChange","page","handleCurrentChange_1","checkDetail","$emit"],"sources":["src/views/contractManagement/entranceAndExitManagement.vue"],"sourcesContent":["<!--\r\n@name:\r\n@description:人员进退场管理\r\n@author: 王海林\r\n@time: 2022-05-23 11:32:49\r\n@modifier: zhouhai\r\n@modifierTime: 2022-06-20 14:10:57\r\n-->\r\n<template>\r\n\t<div class=\"tab-page\">\r\n\t\t<el-tabs v-model=\"activeName\">\r\n\t\t\t<el-tab-pane label=\"人员报审\" name=\"first\">\r\n\t\t\t\t<el-container class=\"container-box\">\r\n\t\t\t\t\t<van-list @load=\"query\" :style=\"{ height: scrollerHeight }\" v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\">\r\n\t\t\t\t\t\t<van-swipe-cell class=\"list\" v-for=\"(item, index) in tableData\" :key=\"index\" :class=\"'item ' + (index === tableData.length - 1 ? 'last' : '')\">\r\n\t\t\t\t\t\t\t<div class=\"item\" style=\"\" @click=\"viewDetail(item)\">\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">施工标段：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.buildSectionName }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">施工单位：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.buildUnitsStr }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">报审类型：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.typeStr }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">人数：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.num }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">说明：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.explaination }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"status\">\r\n\t\t\t\t\t\t\t\t\t{{ item.statusStr }}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\" style=\"padding-top: 5px; border-top: 1px solid #d7d7d7;\">\r\n\t\t\t\t\t\t\t\t\t<div style=\"float:left;\">{{item.createUserName}}</div>\r\n\t\t\t\t\t\t\t\t\t<div style=\"float:right;\">{{item.createTime}}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<!-- <template #right>\r\n\t\t\t\t\t\t\t\t<van-button square type=\"primary\" text=\"详情\" @click=\"viewDetail(item)\"/>\r\n\t\t\t\t\t\t\t\t<van-button square type=\"primary\" text=\"编辑\" />\r\n\t\t\t\t\t\t\t\t<van-button square type=\"danger\" text=\"删除\" />\r\n\t\t\t\t\t\t\t</template> -->\r\n\t\t\t\t\t\t</van-swipe-cell>\r\n\t\t\t\t\t</van-list>\r\n\t\t\t\t\t<!-- <edit ref=\"edit\" @query=\"query\" :editRow=\"editRow\"></edit> -->\r\n\t\t\t\t\t<detail ref=\"detail\" :detailRow=\"detailRow\"></detail>\r\n\t\t\t\t</el-container>\r\n\t\t\t</el-tab-pane>\r\n\t\t\t<el-tab-pane  v-if=\"!isDraft\" label=\"人员一览\" name=\"second\">\r\n\t\t\t\t<el-container class=\"container-box\">\r\n\t\t\t\t\t<van-list @load=\"query_1\" :style=\"{ height: scrollerHeight_1 }\" v-model=\"loading_1\" :finished=\"finished_1\" finished-text=\"没有更多了\">\r\n\t\t\t\t\t\t<van-swipe-cell class=\"list\" v-for=\"(item, index) in tableData_1\" :key=\"index\" :class=\"'item ' + (index === tableData_1.length - 1 ? 'last' : '')\">\r\n\t\t\t\t\t\t\t<div class=\"item\" style=\"\">\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">人员姓名：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.name }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">手机号码：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.phone }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">身份证号：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.card }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">户籍：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.household }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">健康状况：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.bodyStatus }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">是否到过中高风险地区：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.isRisk }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">中高风险地区：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.riskArea }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">出发地：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.startArea }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">途径城市：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.wayCity }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">是否完成疫苗接种：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.isVaccine }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">健康码(是否为绿码)：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.isHealth }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">工种：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.workType }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-name\">备注：</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-value\">{{ item.remark }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</van-swipe-cell>\r\n\t\t\t\t</van-list>\r\n\t\t\t\t</el-container>\r\n\t\t\t</el-tab-pane>\r\n\t\t</el-tabs>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport * as api from \"@/api/quality.js\";\r\n\t// import edit from './entranceAndExitManagement/edit.vue';\r\n\timport detail from './entranceAndExitManagement/detail';\r\n\r\n\texport default {\r\n\t\tprops:{\r\n\t\t\tisDraft:{\r\n\t\t\t\ttype:Boolean,\r\n\t\t\t\tdefault:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\t// edit,\r\n\t\t\tdetail\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactiveName:'first',\r\n\t\t\t\tallData: [],\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\tfinished: false,\r\n\t\t\t\ttableData_1: [],\r\n\t\t\t\tloading_1: false,\r\n\t\t\t\tfinished_1: false,\r\n\t\t\t\toperateBtnsVisible: true,\r\n\t\t\t\tqueryData: { //查询参数\r\n\t\t\t\t\tbuildSectionName: '',\r\n\t\t\t\t\tpageNum: 1,\r\n\t\t\t\t\tdraftFlag:1,\r\n\t\t\t\t\ttotalPage: 1,\r\n\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\tbuildSection: this.$store.getters.currentBiaoDuan.id || 3,\r\n\t\t\t\t\tprojectId: this.$store.getters.curProject.id || 2,\r\n\t\t\t\t},\r\n\t\t\t\tqueryData_1: { //查询参数\r\n\t\t\t\t\tbuildSectionName: '',\r\n\t\t\t\t\tname:'',\r\n\t\t\t\t\ttype:0,\r\n\t\t\t\t\tdraftFlag:1,\r\n\t\t\t\t\tpageNum: 1,\r\n\t\t\t\t\ttotalPage: 1,\r\n\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\tbuildSection: this.$store.getters.currentBiaoDuan.id || 3,\r\n\t\t\t\t\tprojectId: this.$store.getters.curProject.id || 2,\r\n\t\t\t\t},\r\n\t\t\t\teditRow: null,\r\n\t\t\t\tdetailRow: null\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tcomputed: {\r\n\t\t\tscrollerHeight: function() {\r\n\t\t\t\treturn window.innerHeight - 91 + 'px'\r\n\t\t\t},\r\n\t\t\tscrollerHeight_1: function() {\r\n\t\t\t\treturn window.innerHeight - 91 + 'px'\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// this.query();\r\n\t\t\tthis.query_1();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tquery() {\r\n\t\t\t\tthis.queryData.draftFlag=this.isDraft?0:1;\r\n\t\t\t\tapi.getEnterExitList(this.queryData).then((res) => {\r\n\t\t\t\t\tthis.allData = res.data || {};\r\n\t\t\t\t\t// this.tableData = this.formateTableData(res.data.list);\r\n\t\t\t\t\tthis.tableData = [...this.tableData,...this.formateTableData(res.data.list)||[]]\r\n\t\t\t\t\tthis.queryData.pageNum = res.data.pageNum + 1;\r\n\t\t\t\t\tthis.queryData.totalPage = res.data.total;\r\n\t\t\t\t\tthis.queryData.pageSize = res.data.pageSize;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 加载状态结束\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t// 数据全部加载完成\r\n\t\t\t\t\tif (this.tableData.length >= res.data.total) {\r\n\t\t\t\t\t\tthis.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tformateTableData(list) {\r\n\t\t\t\tlist = list || [];\r\n\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\titem['buildUnitsStr'] = item['buildUnits']?item['buildUnits'].join('、'):'';\r\n\t\t\t\t})\r\n\t\t\t\treturn list;\r\n\t\t\t},\r\n\t\t\tquery_1() {\r\n\t\t\t\tapi.getEnterExitUserList(this.queryData_1).then((res) => {\r\n\t\t\t\t\tres.data = res.data || {};\r\n\t\t\t\t\tthis.tableData_1 = res.data['list'] || [];\r\n\t\t\t\t\tthis.tableData_1 = [...this.tableData,...res.data['list']||[]]\r\n\t\t\t\t\tthis.queryData_1.pageNum = res.data.pageNum;\r\n\t\t\t\t\tthis.queryData_1.totalPage = res.data.total;\r\n\t\t\t\t\tthis.queryData_1.pageSize = res.data.pageSize;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 加载状态结束\r\n\t\t\t\t\tthis.loading_1 = false;\r\n\t\t\t\t\t// 数据全部加载完成\r\n\t\t\t\t\tif (this.tableData_1.length >= res.data.total) {\r\n\t\t\t\t\t\tthis.finished_1 = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\taddNew() {\r\n\t\t\t\t// this.editRow = null;\r\n\t\t\t\tthis.$refs.edit.changeVisible(null,true);\r\n\t\t\t},\r\n\t\t\tmodify(row) {\r\n\t\t\t\t// this.editRow = row;\r\n\t\t\t\tthis.$refs.edit.changeVisible(row,true);\r\n\t\t\t},\r\n\t\t\tviewDetail(row) {\r\n\t\t\t\tthis.detailRow = row;\r\n\t\t\t\tthis.$refs.detail.changeVisible(true);\r\n\t\t\t},\r\n\t\t\tdeleteRow(row) {\r\n\t\t\t\tthis.$confirm('确认是否删除?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tapi.deleteEnterExit(row['id']).then((res) => {\r\n\t\t\t\t\t\tif (this.tableData.length == 1) {\r\n\t\t\t\t\t\t\tthis.queryData.pageNum = this.queryData.pageNum> 1 ? this.queryData.pageNum - 1 : 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.query();\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tmessage: '删除成功!'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\ttype: 'fail',\r\n\t\t\t\t\t\t\tmessage: '删除失败!'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(page) {\r\n\t\t\t\tthis.queryData.pageNum=page\r\n\t\t\t\tthis.query()\r\n\t\t\t},\r\n\t\t\thandleCurrentChange_1(page){\r\n\t\t\t\tthis.queryData_1.pageNum=page\r\n\t\t\t\tthis.query_1()\r\n\t\t\t},\r\n\t\t\tcheckDetail(row){\r\n\t\t\t\tthis.$emit(\"hideDraft\");\r\n\t\t\t\tthis.$emit(\"getDetail\",row['id']);\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n\t.container-box {\r\n\t\tcolor: #000000;\r\n\t\tbackground-color: #FAFAFA;\r\n\t\theight: 100%;\r\n\t\twidth: calc(100% + 1px);\r\n  \t\toverflow-y: auto;\r\n\t\t.van-list{\r\n\t\t\twidth: 100%;\r\n\t\t\t.list {\r\n\t\t\t\t.item{\r\n\t\t\t\t\tpadding: 10px;\r\n\t\t\t\t\tborder:1px solid rgba(0, 0, 0, 0.1);\r\n\t\t\t\t\tborder-radius:5px;\r\n\t\t\t\t\tmargin:5px;\r\n\t\t\t\t\tbox-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.1);\r\n\t\t\t\t\t.block {\r\n\t\t\t\t\t\toverflow: auto;\r\n\t\t\t\t\t\t.block-name {\r\n\t\t\t\t\t\t\tfloat: left;\r\n\t\t\t\t\t\t\twidth: 120px;\r\n\t\t\t\t\t\t\tcolor: rgb(85, 85, 85);\r\n\t\t\t\t\t\t\tmin-height: 24px;\r\n\t\t\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t\t\t\tline-height: 20px;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.block-value {\r\n\t\t\t\t\t\t\twidth: calc(100% - 120px);\r\n\t\t\t\t\t\t\tmargin-left: 120px;\r\n\t\t\t\t\t\t\tmin-height: 24px;\r\n\t\t\t\t\t\t\tfont-size: 13px;\r\n\t\t\t\t\t\t\tline-height: 20px;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.status {\r\n\t\t\t\t\t\tbackground: rgb(0, 132, 255);\r\n\t\t\t\t\t\tpadding: 1px 3px ;\r\n\t\t\t\t\t\tfont-size: 10px;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tright: 25px;\r\n\t\t\t\t\t\ttop: 8px;\r\n\t\t\t\t\t\tcolor: white;\r\n\t\t\t\t\t\tborder-radius: 3px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.van-button {\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tborder-radius: 5px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"mappings":"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"}]}