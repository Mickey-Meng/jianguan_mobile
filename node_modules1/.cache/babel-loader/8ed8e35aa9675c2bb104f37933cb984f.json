{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\common\\taskhandle.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\common\\taskhandle.vue","mtime":1684246187967},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\babel.config.js","mtime":1684246187306},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovV29ya3NwYWNlL0ppYW5HdWFuL2ppYW5ndWFuX21vYmlsZS9tb2JpbGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAnQC9zdGF0aWNEaWN0L2Zsb3dTdGF0aWNEaWN0LmpzJzsKaW1wb3J0ICogYXMgYXBpIGZyb20gJ0AvYXBpL3F1YWxpdHknOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsndGFza0luZm8nXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybURhdGE6IHsKICAgICAgICBhcHByb3ZhbFR5cGU6ICdhZ3JlZScsCiAgICAgICAgY29tbWVudDogJycsCiAgICAgICAgZGVsZWdhdGVBc3NnaW5lZTogJycKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBjb21tZW50OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZ5a6h5om55oSP6KeBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIG9wZXJhdGlvbkxpc3Q6IFtdLAogICAgICB1c2VyT3B0aW9uczogW10sCiAgICAgIGF1ZGl0VXNlcjogW10sCiAgICAgIGNvcHlVc2VyVmlzaWJsZTogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgY29tcHV0ZWQ6IHsKICAgIGZsb3dPcGVyYXRpb25MaXN0OiBmdW5jdGlvbiBmbG93T3BlcmF0aW9uTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5vcGVyYXRpb25MaXN0KSkgewogICAgICAgIHJldHVybiB0aGlzLm9wZXJhdGlvbkxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSBfdGhpcy5TeXNGbG93VGFza09wZXJhdGlvblR5cGUuTVVMVElfU0lHTiAmJiBpdGVtLm11bHRpU2lnbkFzc2lnbmVlICE9IG51bGwpIHsKICAgICAgICAgICAgdmFyIG11bHRpU2lnbkFzc2lnbmVlID0gX29iamVjdFNwcmVhZCh7fSwgaXRlbS5tdWx0aVNpZ25Bc3NpZ25lZSk7CiAgICAgICAgICAgIG11bHRpU2lnbkFzc2lnbmVlLmFzc2lnbmVlTGlzdCA9IGl0ZW0ubXVsdGlTaWduQXNzaWduZWUuYXNzaWduZWVMaXN0ID8gbXVsdGlTaWduQXNzaWduZWUuYXNzaWduZWVMaXN0LnNwbGl0KCcsJykgOiB1bmRlZmluZWQ7CiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgewogICAgICAgICAgICAgIG11bHRpU2lnbkFzc2lnbmVlOiBtdWx0aVNpZ25Bc3NpZ25lZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLmdldENvcHlVc2VyQnlGbG93S2V5KCk7CiAgICAgIGFwaS52aWV3UnVudGltZVRhc2tJbmZvKHsKICAgICAgICBwcm9jZXNzRGVmaW5pdGlvbklkOiB0aGlzLnRhc2tJbmZvWydwcm9jZXNzRGVmaW5pdGlvbklkJ10sCiAgICAgICAgcHJvY2Vzc0luc3RhbmNlSWQ6IHRoaXMudGFza0luZm9bJ3Byb2Nlc3NJbnN0YW5jZUlkJ10sCiAgICAgICAgdGFza0lkOiB0aGlzLnRhc2tJbmZvWyd0YXNrSWQnXQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIub3BlcmF0aW9uTGlzdCA9IChyZXMuZGF0YS5vcGVyYXRpb25MaXN0IHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLnR5cGUgIT09IF90aGlzMi5TeXNGbG93VGFza09wZXJhdGlvblR5cGUuQ09fU0lHTiAmJiBpdGVtLnR5cGUgIT09IF90aGlzMi5TeXNGbG93VGFza09wZXJhdGlvblR5cGUuUkVWT0tFOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRDb3B5VXNlckJ5Rmxvd0tleTogZnVuY3Rpb24gZ2V0Q29weVVzZXJCeUZsb3dLZXkoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICBhcGkuZ2V0Q29weVVzZXJCeUZsb3dLZXkoewogICAgICAgIGVudHJ5S2V5OiB0aGlzLnRhc2tJbmZvWydlbnRyeUtleSddLAogICAgICAgIGZsb3dLZXk6IHRoaXMudGFza0luZm9bJ2Zsb3dLZXknXSwKICAgICAgICBidWlsZFNlY3Rpb246IHRoaXMuJHN0b3JlLmdldHRlcnMuY3VycmVudEJpYW9EdWFuLmlkIHx8IDMsCiAgICAgICAgcHJvamVjdElkOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmN1clByb2plY3QuaWQgfHwgMgogICAgICAgIC8vICAgYnVpbGRTZWN0aW9uOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnByb2plY3QuaWQsCiAgICAgICAgLy8gICBwcm9qZWN0SWQ6IHRoaXMuJHN0b3JlLmdldHRlcnMucHJvamVjdFsncGFyZW50aWQnXSB8fCAyCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEgfHwge307CiAgICAgICAgX3RoaXMzLnVzZXJPcHRpb25zID0gZGF0YS5jb3B5VXNlckluZm8gfHwgW107CiAgICAgICAgX3RoaXMzLmNvcHlVc2VyVmlzaWJsZSA9IF90aGlzMy51c2VyT3B0aW9ucy5sZW5ndGggPyB0cnVlIDogZmFsc2U7CiAgICAgICAgX3RoaXMzLiRmb3JjZVVwZGF0ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBhZ3JlZVRhc2s6IGZ1bmN0aW9uIGFncmVlVGFzaygpIHsKICAgICAgYXBpLnN1Ym1pdFVzZXJUYXNrKHsKICAgICAgICBjb3B5RGF0YToge30sCiAgICAgICAgZmxvd1Rhc2tDb21tZW50RHRvOiB0aGlzLmZvcm1EYXRhLAogICAgICAgIG1hc3RlckRhdGE6IHt9LAogICAgICAgIHByb2Nlc3NJbnN0YW5jZUlkOiB0aGlzLnRhc2tJbmZvLnByb2Nlc3NJbnN0YW5jZUlkLAogICAgICAgIHNsYXZlRGF0YToge30sCiAgICAgICAgdGFza0lkOiB0aGlzLnRhc2tJbmZvLnRhc2tJZCwKICAgICAgICB0YXNrVmFyaWFibGVEYXRhOiB7fQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KTsKICAgIH0sCiAgICB0cmFuc2ZlclRhc2s6IGZ1bmN0aW9uIHRyYW5zZmVyVGFzaygpIHt9LAogICAgcmVqZWN0VGFzazogZnVuY3Rpb24gcmVqZWN0VGFzaygpIHt9LAogICAgZ2V0QnV0dG9uVHlwZTogZnVuY3Rpb24gZ2V0QnV0dG9uVHlwZSh0eXBlKSB7CiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgdGhpcy5TeXNGbG93VGFza09wZXJhdGlvblR5cGUuQUdSRUU6CiAgICAgICAgY2FzZSB0aGlzLlN5c0Zsb3dUYXNrT3BlcmF0aW9uVHlwZS5UUkFOU0ZFUjoKICAgICAgICBjYXNlIHRoaXMuU3lzRmxvd1Rhc2tPcGVyYXRpb25UeXBlLkNPX1NJR046CiAgICAgICAgY2FzZSB0aGlzLlN5c0Zsb3dUYXNrT3BlcmF0aW9uVHlwZS5NVUxUSV9BR1JFRToKICAgICAgICBjYXNlIHRoaXMuU3lzRmxvd1Rhc2tPcGVyYXRpb25UeXBlLk1VTFRJX1NJR046CiAgICAgICAgY2FzZSB0aGlzLlN5c0Zsb3dUYXNrT3BlcmF0aW9uVHlwZS5TRVRfQVNTSUdORUU6CiAgICAgICAgICByZXR1cm4gJ3ByaW1hcnknOwogICAgICAgIGNhc2UgdGhpcy5TeXNGbG93VGFza09wZXJhdGlvblR5cGUuU0FWRToKICAgICAgICAgIHJldHVybiAnc3VjY2Vzcyc7CiAgICAgICAgY2FzZSB0aGlzLlN5c0Zsb3dUYXNrT3BlcmF0aW9uVHlwZS5SRUZVU0U6CiAgICAgICAgY2FzZSB0aGlzLlN5c0Zsb3dUYXNrT3BlcmF0aW9uVHlwZS5QQVJBTExFTF9SRUZVU0U6CiAgICAgICAgY2FzZSB0aGlzLlN5c0Zsb3dUYXNrT3BlcmF0aW9uVHlwZS5NVUxUSV9SRUZVU0U6CiAgICAgICAgICByZXR1cm4gJ2RlZmF1bHQnOwogICAgICAgIGNhc2UgdGhpcy5TeXNGbG93VGFza09wZXJhdGlvblR5cGUuUkVKRUNUOgogICAgICAgIGNhc2UgdGhpcy5TeXNGbG93VGFza09wZXJhdGlvblR5cGUuUkVKRUNUX1RPX1NUQVJUOgogICAgICAgIGNhc2UgdGhpcy5TeXNGbG93VGFza09wZXJhdGlvblR5cGUuUkVWT0tFOgogICAgICAgICAgcmV0dXJuICdkYW5nZXInOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gJ2RlZmF1bHQnOwogICAgICB9CiAgICB9LAogICAgZ2V0T3BlcmF0aW9uVGFnVHlwZTogZnVuY3Rpb24gZ2V0T3BlcmF0aW9uVGFnVHlwZSh0eXBlKSB7CiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgdGhpcy5TeXNGbG93VGFza09wZXJhdGlvblR5cGUuQUdSRUU6CiAgICAgICAgY2FzZSB0aGlzLlN5c0Zsb3dUYXNrT3BlcmF0aW9uVHlwZS5NVUxUSV9BR1JFRToKICAgICAgICBjYXNlIHRoaXMuU3lzRmxvd1Rhc2tPcGVyYXRpb25UeXBlLlNFVF9BU1NJR05FRToKICAgICAgICAgIHJldHVybiAnc3VjY2Vzcyc7CiAgICAgICAgY2FzZSB0aGlzLlN5c0Zsb3dUYXNrT3BlcmF0aW9uVHlwZS5SRUZVU0U6CiAgICAgICAgY2FzZSB0aGlzLlN5c0Zsb3dUYXNrT3BlcmF0aW9uVHlwZS5QQVJBTExFTF9SRUZVU0U6CiAgICAgICAgY2FzZSB0aGlzLlN5c0Zsb3dUYXNrT3BlcmF0aW9uVHlwZS5NVUxUSV9SRUZVU0U6CiAgICAgICAgICByZXR1cm4gJ3dhcm5pbmcnOwogICAgICAgIGNhc2UgdGhpcy5TeXNGbG93VGFza09wZXJhdGlvblR5cGUuU1RPUDoKICAgICAgICBjYXNlIHRoaXMuU3lzRmxvd1Rhc2tPcGVyYXRpb25UeXBlLlJFSkVDVDoKICAgICAgICBjYXNlIHRoaXMuU3lzRmxvd1Rhc2tPcGVyYXRpb25UeXBlLlJFSkVDVF9UT19TVEFSVDoKICAgICAgICBjYXNlIHRoaXMuU3lzRmxvd1Rhc2tPcGVyYXRpb25UeXBlLlJFVk9LRToKICAgICAgICAgIHJldHVybiAnZGFuZ2VyJzsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuICdwcmltYXJ5JzsKICAgICAgfQogICAgfSwKICAgIC8qKg0KICAgICAqIOa1geeoi+aTjeS9nA0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcGVyYXRpb24g5rWB56iL5pON5L2cDQogICAgICovCiAgICBoYW5kbGVyT3BlcmF0aW9uOiBmdW5jdGlvbiBoYW5kbGVyT3BlcmF0aW9uKG9wZXJhdGlvbikgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdGhpcy5mb3JtRGF0YS5hcHByb3ZhbFR5cGUgPSBvcGVyYXRpb24udHlwZTsKICAgICAgLy8g5Yqg562+5pON5L2cCiAgICAgIC8vIGlmIChvcGVyYXRpb24udHlwZSA9PT0gdGhpcy5TeXNGbG93VGFza09wZXJhdGlvblR5cGUuQ09fU0lHTikgewogICAgICAvLyAJdGhpcy5zdWJtaXRDb25zaWduKChyZXMgfHwge30pLmFzc2lnbmVlKS50aGVuKHJlcyA9PiB7CiAgICAgIC8vIAkJdGhpcy5oYW5kbGVyQ2xvc2UoKTsKICAgICAgLy8gCX0pLmNhdGNoKGUgPT4ge30pOwogICAgICAvLyAJcmV0dXJuOwogICAgICAvLyB9CiAgICAgIC8vIOmps+WbnuaTjeS9nAogICAgICBpZiAob3BlcmF0aW9uLnR5cGUgPT09IHRoaXMuU3lzRmxvd1Rhc2tPcGVyYXRpb25UeXBlLlJFSkVDVCkgewogICAgICAgIGFwaS5yZWplY3RSdW50aW1lVGFzayh7CiAgICAgICAgICBwcm9jZXNzSW5zdGFuY2VJZDogdGhpcy50YXNrSW5mby5wcm9jZXNzSW5zdGFuY2VJZCwKICAgICAgICAgIHRhc2tJZDogdGhpcy50YXNrSW5mby50YXNrSWQsCiAgICAgICAgICBjb21tZW50OiB0aGlzLmZvcm1EYXRhLmNvbW1lbnQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNC5oYW5kbGVyQ2xvc2UoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge30pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAvLyDpqbPlm57liLDotbfngrkKICAgICAgaWYgKG9wZXJhdGlvbi50eXBlID09PSB0aGlzLlN5c0Zsb3dUYXNrT3BlcmF0aW9uVHlwZS5SRUpFQ1RfVE9fU1RBUlQpIHsKICAgICAgICBhcGkucmVqZWN0VG9TdGFydFVzZXJUYXNrKHsKICAgICAgICAgIHByb2Nlc3NJbnN0YW5jZUlkOiB0aGlzLnRhc2tJbmZvLnByb2Nlc3NJbnN0YW5jZUlkLAogICAgICAgICAgdGFza0lkOiB0aGlzLnRhc2tJbmZvLnRhc2tJZCwKICAgICAgICAgIGNvbW1lbnQ6IHRoaXMuZm9ybURhdGEuY29tbWVudAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM0LmhhbmRsZXJDbG9zZSgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7fSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIOaSpOmUgOaTjeS9nAogICAgICBpZiAob3BlcmF0aW9uLnR5cGUgPT09IHRoaXMuU3lzRmxvd1Rhc2tPcGVyYXRpb25UeXBlLlJFVk9LRSkgewogICAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuaSpOmUgOatpOS7u+WKoe+8nycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgYXBpLnJldm9rZUhpc3RvcmljVGFzayh7CiAgICAgICAgICAgIHBwcm9jZXNzSW5zdGFuY2VJZDogX3RoaXM0LnRhc2tJbmZvLnByb2Nlc3NJbnN0YW5jZUlkLAogICAgICAgICAgICB0YXNrSWQ6IF90aGlzNC50YXNrSW5mby50YXNrSWQsCiAgICAgICAgICAgIGNvbW1lbnQ6ICfku7vliqHlpITnkIbkurrmkqTplIDku7vliqEnCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXM0LmhhbmRsZXJDbG9zZSgpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHt9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge30pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgY29wdGRhdGEgPSB7fTsKICAgICAgaWYgKHRoaXMuYXVkaXRVc2VyLmxlbmd0aCkgewogICAgICAgIGNvcHRkYXRhID0gewogICAgICAgICAgdXNlcjogdGhpcy5hdWRpdFVzZXIuam9pbignLCcpCiAgICAgICAgfTsKICAgICAgfQogICAgICBhcGkuc3VibWl0VXNlclRhc2soewogICAgICAgIGNvcHlEYXRhOiBjb3B0ZGF0YSwKICAgICAgICBmbG93VGFza0NvbW1lbnREdG86IHRoaXMuZm9ybURhdGEsCiAgICAgICAgbWFzdGVyRGF0YToge30sCiAgICAgICAgcHJvY2Vzc0luc3RhbmNlSWQ6IHRoaXMudGFza0luZm8ucHJvY2Vzc0luc3RhbmNlSWQsCiAgICAgICAgc2xhdmVEYXRhOiB7fSwKICAgICAgICB0YXNrSWQ6IHRoaXMudGFza0luZm8udGFza0lkLAogICAgICAgIHRhc2tWYXJpYWJsZURhdGE6IHt9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC5oYW5kbGVyQ2xvc2UoKTsKICAgICAgICBfdGhpczQuJG1lc3NhZ2Uuc3VjY2Vzcygn5o+Q5Lqk5oiQ5Yqf77yBJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7fSk7CiAgICB9LAogICAgaGFuZGxlckNsb3NlOiBmdW5jdGlvbiBoYW5kbGVyQ2xvc2UoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["api","props","data","formData","approvalType","comment","delegateAssginee","rules","required","message","trigger","operationList","userOptions","auditUser","copyUserVisible","created","computed","flowOperationList","_this","Array","isArray","map","item","type","SysFlowTaskOperationType","MULTI_SIGN","multiSignAssignee","_objectSpread","assigneeList","split","undefined","mounted","methods","initData","_this2","getCopyUserByFlowKey","viewRuntimeTaskInfo","processDefinitionId","taskInfo","processInstanceId","taskId","then","res","filter","CO_SIGN","REVOKE","_this3","entryKey","flowKey","buildSection","$store","getters","currentBiaoDuan","id","projectId","curProject","copyUserInfo","length","$forceUpdate","agreeTask","submitUserTask","copyData","flowTaskCommentDto","masterData","slaveData","taskVariableData","console","log","transferTask","rejectTask","getButtonType","AGREE","TRANSFER","MULTI_AGREE","SET_ASSIGNEE","SAVE","REFUSE","PARALLEL_REFUSE","MULTI_REFUSE","REJECT","REJECT_TO_START","getOperationTagType","STOP","handlerOperation","operation","_this4","rejectRuntimeTask","handlerClose","catch","e","rejectToStartUserTask","$confirm","revokeHistoricTask","pprocessInstanceId","coptdata","user","join","$message","success","$router","go"],"sources":["src/views/common/taskhandle.vue"],"sourcesContent":["<template>\r\n  <div class=\"handle-bg\">\r\n    <el-form ref=\"ruleform\" label-width=\"80px\" :rules=\"rules\" :model=\"formData\">\r\n      <div class=\"form-block\">\r\n        <div class=\"form-block-title\">\r\n          <div class=\"title-bar\"></div>\r\n          <strong>审核</strong>\r\n        </div>\r\n        <div class=\"block-line\">\r\n          <div class=\"block-item\">\r\n            <div class=\"block-item-label\">审批意见</div>\r\n            <div class=\"block-item-value\">\r\n              <el-form-item prop=\"comment\">\r\n                <el-input v-model=\"formData.comment\" type=\"textarea\" :rows=\"4\" placeholder=\"请输入审批意见\"> </el-input>\r\n              </el-form-item>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"block-line\" v-if=\"copyUserVisible\">\r\n          <div class=\"block-item\">\r\n            <div class=\"block-item-label\">抄送</div>\r\n            <div class=\"block-item-value\">\r\n              <el-form-item prop=\"qualityCheckUser\">\r\n                <el-select placeholder=\"请选择\" multiple v-model=\"auditUser\">\r\n                  <el-option\r\n                    v-for=\"(item, index) in userOptions\"\r\n                    :key=\"index\"\r\n                    :label=\"item.name\"\r\n                    :value=\"item.username\"\r\n                  >\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-block\" style=\"text-align: center\">\r\n        <!-- <el-button @click=\"agreeTask\" size=\"small\" type=\"primary\">同意</el-button>\r\n\t\t\t\t<el-button @click=\"transferTask\" size=\"small\" type=\"primary\">转办</el-button>\r\n\t\t\t\t<el-button @click=\"rejectTask\" size=\"small\" type=\"primary\">驳回</el-button> -->\r\n\r\n        <el-button\r\n          v-for=\"(operation, index) in flowOperationList\"\r\n          :key=\"index\"\r\n          size=\"small\"\r\n          :type=\"getButtonType(operation.type) || 'primary'\"\r\n          :plain=\"operation.plain || false\"\r\n          @click=\"handlerOperation(operation)\"\r\n        >\r\n          &nbsp;&nbsp;&nbsp;&nbsp;{{ operation.label }} &nbsp;&nbsp;&nbsp;&nbsp;\r\n        </el-button>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@/staticDict/flowStaticDict.js'\r\nimport * as api from '@/api/quality'\r\nexport default {\r\n  props: ['taskInfo'],\r\n  data() {\r\n    return {\r\n      formData: {\r\n        approvalType: 'agree',\r\n        comment: '',\r\n        delegateAssginee: ''\r\n      },\r\n      rules: {\r\n        comment: [\r\n          {\r\n            required: true,\r\n            message: '请填写审批意见',\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      },\r\n      operationList: [],\r\n\r\n      userOptions: [],\r\n      auditUser: [],\r\n      copyUserVisible: false\r\n    }\r\n  },\r\n  created() {},\r\n  computed: {\r\n    flowOperationList() {\r\n      if (Array.isArray(this.operationList)) {\r\n        return this.operationList.map(item => {\r\n          if (item.type === this.SysFlowTaskOperationType.MULTI_SIGN && item.multiSignAssignee != null) {\r\n            let multiSignAssignee = {\r\n              ...item.multiSignAssignee\r\n            }\r\n            multiSignAssignee.assigneeList = item.multiSignAssignee.assigneeList\r\n              ? multiSignAssignee.assigneeList.split(',')\r\n              : undefined\r\n            return {\r\n              ...item,\r\n              multiSignAssignee\r\n            }\r\n          } else {\r\n            return {\r\n              ...item\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    initData() {\r\n      this.getCopyUserByFlowKey()\r\n\r\n      api\r\n        .viewRuntimeTaskInfo({\r\n          processDefinitionId: this.taskInfo['processDefinitionId'],\r\n          processInstanceId: this.taskInfo['processInstanceId'],\r\n          taskId: this.taskInfo['taskId']\r\n        })\r\n        .then(res => {\r\n          this.operationList = (res.data.operationList || []).filter(item => {\r\n            return (\r\n              item.type !== this.SysFlowTaskOperationType.CO_SIGN && item.type !== this.SysFlowTaskOperationType.REVOKE\r\n            )\r\n          })\r\n        })\r\n    },\r\n    getCopyUserByFlowKey() {\r\n      api.getCopyUserByFlowKey({\r\n          entryKey: this.taskInfo['entryKey'],\r\n          flowKey: this.taskInfo['flowKey'],\r\n\t\t\tbuildSection: this.$store.getters.currentBiaoDuan.id || 3,\r\n\t\t\tprojectId: this.$store.getters.curProject.id || 2\r\n        //   buildSection: this.$store.getters.project.id,\r\n        //   projectId: this.$store.getters.project['parentid'] || 2\r\n        })\r\n        .then(res => {\r\n          let data = res.data || {}\r\n          this.userOptions = data.copyUserInfo || []\r\n          this.copyUserVisible = this.userOptions.length ? true : false\r\n          this.$forceUpdate()\r\n        })\r\n    },\r\n    agreeTask() {\r\n      api\r\n        .submitUserTask({\r\n          copyData: {},\r\n          flowTaskCommentDto: this.formData,\r\n          masterData: {},\r\n          processInstanceId: this.taskInfo.processInstanceId,\r\n          slaveData: {},\r\n          taskId: this.taskInfo.taskId,\r\n          taskVariableData: {}\r\n        })\r\n        .then(res => {\r\n          console.log(res)\r\n        })\r\n    },\r\n    transferTask() {},\r\n    rejectTask() {},\r\n    getButtonType(type) {\r\n      switch (type) {\r\n        case this.SysFlowTaskOperationType.AGREE:\r\n        case this.SysFlowTaskOperationType.TRANSFER:\r\n        case this.SysFlowTaskOperationType.CO_SIGN:\r\n        case this.SysFlowTaskOperationType.MULTI_AGREE:\r\n        case this.SysFlowTaskOperationType.MULTI_SIGN:\r\n        case this.SysFlowTaskOperationType.SET_ASSIGNEE:\r\n          return 'primary'\r\n        case this.SysFlowTaskOperationType.SAVE:\r\n          return 'success'\r\n        case this.SysFlowTaskOperationType.REFUSE:\r\n        case this.SysFlowTaskOperationType.PARALLEL_REFUSE:\r\n        case this.SysFlowTaskOperationType.MULTI_REFUSE:\r\n          return 'default'\r\n        case this.SysFlowTaskOperationType.REJECT:\r\n        case this.SysFlowTaskOperationType.REJECT_TO_START:\r\n        case this.SysFlowTaskOperationType.REVOKE:\r\n          return 'danger'\r\n        default:\r\n          return 'default'\r\n      }\r\n    },\r\n    getOperationTagType(type) {\r\n      switch (type) {\r\n        case this.SysFlowTaskOperationType.AGREE:\r\n        case this.SysFlowTaskOperationType.MULTI_AGREE:\r\n        case this.SysFlowTaskOperationType.SET_ASSIGNEE:\r\n          return 'success'\r\n        case this.SysFlowTaskOperationType.REFUSE:\r\n        case this.SysFlowTaskOperationType.PARALLEL_REFUSE:\r\n        case this.SysFlowTaskOperationType.MULTI_REFUSE:\r\n          return 'warning'\r\n        case this.SysFlowTaskOperationType.STOP:\r\n        case this.SysFlowTaskOperationType.REJECT:\r\n        case this.SysFlowTaskOperationType.REJECT_TO_START:\r\n        case this.SysFlowTaskOperationType.REVOKE:\r\n          return 'danger'\r\n        default:\r\n          return 'primary'\r\n      }\r\n    },\r\n    /**\r\n     * 流程操作\r\n     * @param {Object} operation 流程操作\r\n     */\r\n    handlerOperation(operation) {\r\n      this.formData.approvalType = operation.type\r\n      // 加签操作\r\n      // if (operation.type === this.SysFlowTaskOperationType.CO_SIGN) {\r\n      // \tthis.submitConsign((res || {}).assignee).then(res => {\r\n      // \t\tthis.handlerClose();\r\n      // \t}).catch(e => {});\r\n      // \treturn;\r\n      // }\r\n      // 驳回操作\r\n      if (operation.type === this.SysFlowTaskOperationType.REJECT) {\r\n        api\r\n          .rejectRuntimeTask({\r\n            processInstanceId: this.taskInfo.processInstanceId,\r\n            taskId: this.taskInfo.taskId,\r\n            comment: this.formData.comment\r\n          })\r\n          .then(res => {\r\n            this.handlerClose()\r\n          })\r\n          .catch(e => {})\r\n        return\r\n      }\r\n      // 驳回到起点\r\n      if (operation.type === this.SysFlowTaskOperationType.REJECT_TO_START) {\r\n        api\r\n          .rejectToStartUserTask({\r\n            processInstanceId: this.taskInfo.processInstanceId,\r\n            taskId: this.taskInfo.taskId,\r\n            comment: this.formData.comment\r\n          })\r\n          .then(res => {\r\n            this.handlerClose()\r\n          })\r\n          .catch(e => {})\r\n        return\r\n      }\r\n      // 撤销操作\r\n      if (operation.type === this.SysFlowTaskOperationType.REVOKE) {\r\n        this.$confirm('是否撤销此任务？')\r\n          .then(res => {\r\n            api\r\n              .revokeHistoricTask({\r\n                pprocessInstanceId: this.taskInfo.processInstanceId,\r\n                taskId: this.taskInfo.taskId,\r\n                comment: '任务处理人撤销任务'\r\n              })\r\n              .then(res => {\r\n                this.handlerClose()\r\n              })\r\n              .catch(e => {})\r\n          })\r\n          .catch(e => {})\r\n        return\r\n      }\r\n\r\n      let coptdata = {}\r\n      if (this.auditUser.length) {\r\n        coptdata = {\r\n          user: this.auditUser.join(',')\r\n        }\r\n      }\r\n      api\r\n        .submitUserTask({\r\n          copyData: coptdata,\r\n          flowTaskCommentDto: this.formData,\r\n          masterData: {},\r\n          processInstanceId: this.taskInfo.processInstanceId,\r\n          slaveData: {},\r\n          taskId: this.taskInfo.taskId,\r\n          taskVariableData: {}\r\n        })\r\n        .then(res => {\r\n          this.handlerClose()\r\n          this.$message.success('提交成功！')\r\n        })\r\n        .catch(e => {})\r\n    },\r\n    handlerClose() {\r\n      this.$router.go(-1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t@import \"@/assets/css/dialog.scss\";\r\n\t.handle-bg{\r\n\t\twidth: 100% !important;\r\n\t\tbackground: #ffffff00 !important;\r\n\t}\r\n</style>\r\n"],"mappings":"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"}]}