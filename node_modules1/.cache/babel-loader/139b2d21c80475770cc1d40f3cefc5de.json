{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\contractManagement\\equipmentEntryForInspection\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\contractManagement\\equipmentEntryForInspection\\detail.vue","mtime":1684246187981},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\babel.config.js","mtime":1684246187306},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAqIGFzIGFwaSBmcm9tICJAL2FwaS9xdWFsaXR5IjsKaW1wb3J0ICogYXMgcHJvYXBpIGZyb20gIkAvYXBpL3Byb2plY3QuanMiOwppbXBvcnQgdGFza2xvZyBmcm9tICJAL3ZpZXdzL2NvbW1vbi90YXNrbG9nLnZ1ZSI7CmltcG9ydCB0YXNraGFuZGxlIGZyb20gJ0Avdmlld3MvY29tbW9uL3Rhc2toYW5kbGUnOwppbXBvcnQgYXR0YWNobGlzdCBmcm9tICJAL3ZpZXdzL2NvbW1vbi9hdHRhY2hsaXN0IjsKaW1wb3J0IHByb2plY3RpbmZvIGZyb20gIkAvdmlld3MvY29tbW9uL3Byb2plY3RpbmZvLnZ1ZSI7CmltcG9ydCB7IGZvcm1hdE1vbnRoLCBmb3JtYXREYXRlLCBmb3JtYXREYXRlVGltZSwgY29udmVydE9wdGlvbnMsIGNyZWF0ZVByb2plY3RJbmZvIH0gZnJvbSAiQC91dGlscy9mb3JtYXQuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnZGV0YWlsUm93J10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZ1RpdGxlOiAn6aG555uu5YWo55Sf5ZG95ZGo5pyf5pWw5a2X566h55CG5bmz5Y+wJywKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBiYXNlSW5mbzogewogICAgICAgIGJ1aWxkU2VjdGlvbjogMSwKICAgICAgICBwcm9qZWN0TmFtZTogJzIzNeWbvemBk+adreW3nuiHs+ivuOaaqOWFrOi3r+iQp+Wxseays+S4iuiHs+ivuOaaqOWuieWNjuauteaUueW7uuW3peeoiycsCiAgICAgICAgYnVpbGRTZWN0aW9uTmFtZTogJzIzNeWbvemBk+mhueebrumDqCcsCiAgICAgICAgY29udHJhY3RDb2RlOiAnT1JHXzAwMDA0JywKICAgICAgICBzdGFydHVwVXNlcjogJ+i1tei1nuaWhycsCiAgICAgICAgc3RhcnR1cERhdGU6IGZvcm1hdE1vbnRoKG5ldyBEYXRlKCkpCiAgICAgIH0sCiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgLy/ooajljZXlj4LmlbAKICAgICAgICBhdHRhY2htZW50OiBbXSwKICAgICAgICBlcXVpcG1lbnRJbmZvOiBbXSwKICAgICAgICBkZWxldGVkRmxhZzogMSwKICAgICAgICBkcmFmdEZsYWc6IDEsCiAgICAgICAgcHJvamVjdENvZGU6ICcnLAogICAgICAgIGJ1aWxkU2VjdGlvbjogdGhpcy4kc3RvcmUuZ2V0dGVycy5jdXJyZW50Qmlhb0R1YW4uaWQgfHwgMywKICAgICAgICBwcm9qZWN0SWQ6IHRoaXMuJHN0b3JlLmdldHRlcnMuY3VyUHJvamVjdC5pZCB8fCAyLAogICAgICAgIHN1cGVydmlzaW9uQmFuOiAnJwogICAgICB9LAogICAgICBhdHRhY2hUYWJsZTogW10sCiAgICAgIC8v6ZmE5Lu2CiAgICAgIGVxdWlwbWVudFRhYmxlOiBbXSwKICAgICAgdGFza0luZm86IHt9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIGNvbXBvbmVudHM6IHsKICAgIHRhc2tsb2c6IHRhc2tsb2csCiAgICB0YXNraGFuZGxlOiB0YXNraGFuZGxlLAogICAgYXR0YWNobGlzdDogYXR0YWNobGlzdCwKICAgIHByb2plY3RpbmZvOiBwcm9qZWN0aW5mbwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIHdhdGNoOiB7CiAgICBkZXRhaWxSb3c6IGZ1bmN0aW9uIGRldGFpbFJvdyhvYmopIHsKICAgICAgaWYgKG9ialsnaWQnXSkgewogICAgICAgIHRoaXMuZ2V0RGV0YWlsKG9ialsnaWQnXSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEVxdWlwbWVudEVudGVyRW51bXMoKTsKICAgIHRoaXMuZ2V0UHJvamVjdEluZm9CeUlkKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURpYWxvZzogZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7CiAgICAgIC8vIGlmKHRoaXMudGFza0luZm9bJ3Byb2Nlc3NEZWZpbml0aW9uSWQnXSl7CiAgICAgIC8vIAl0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAvLyB9CiAgICB9LAogICAgZ2V0UHJvamVjdEluZm9CeUlkOiBmdW5jdGlvbiBnZXRQcm9qZWN0SW5mb0J5SWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHByb2FwaS5nZXRQcm9qZWN0SW5mb0J5SWQoewogICAgICAgIHByb2plY3RpZDogdGhpcy4kc3RvcmUuZ2V0dGVycy5jdXJQcm9qZWN0LmlkIHx8IDIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNbJ2RhdGEnXSB8fCB7fTsKICAgICAgICBfdGhpcy5iYXNlSW5mb1snYnVpbGRTZWN0aW9uTmFtZSddID0gZGF0YVsncHJvamVjdCddID8gZGF0YVsncHJvamVjdCddWyduYW1lJ10gOiAnJzsKICAgICAgICB2YXIgbGlzdCA9IGRhdGFbJ2NvbXBhbnlzJ10gfHwgW107CiAgICAgICAgdmFyIGluZm8gPSBjcmVhdGVQcm9qZWN0SW5mbyhsaXN0KTsKICAgICAgICBfdGhpcy5iYXNlSW5mb1snYnVpbGRDb21wYW55J10gPSBpbmZvWydidWlsZENvbXBhbnknXTsKICAgICAgICBfdGhpcy5iYXNlSW5mb1snc3VwZXJ2aXNpb25Vbml0J10gPSBpbmZvWydzdXBlcnZpc2lvblVuaXQnXTsKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlVmlzaWJsZTogZnVuY3Rpb24gY2hhbmdlVmlzaWJsZSh2YWx1ZSkgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdmFsdWU7CiAgICB9LAogICAgZ2V0RGV0YWlsOiBmdW5jdGlvbiBnZXREZXRhaWwoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGFwaS5nZXRFcXVpcG1lbnRFbnRlckRlYXRpbChpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNbJ2RhdGEnXSB8fCB7fTsKICAgICAgICBfdGhpczIuZm9ybURhdGEgPSBkYXRhOwogICAgICAgIF90aGlzMi5hdHRhY2hUYWJsZSA9IGRhdGEuYXR0YWNobWVudCB8fCBbXTsKICAgICAgICBfdGhpczIuZXF1aXBtZW50VGFibGUgPSBfdGhpczIuZm9ybWF0RXF1VHlwZShkYXRhLmVxdWlwbWVudEluZm8gfHwgW10pOwogICAgICB9KTsKICAgICAgYXBpLmdldEZsb3dBbmRUYXNrSW5mbyh7CiAgICAgICAgYnVzaW5lc3NLZXk6IGlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICB2YXIgZGF0YSA9IHJlc1snZGF0YSddOwogICAgICAgIF90aGlzMi50YXNrSW5mbyA9IHsKICAgICAgICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6IGRhdGFbJ3Byb2Nlc3NEZWZpbml0aW9uSWQnXSwKICAgICAgICAgIHByb2Nlc3NJbnN0YW5jZUlkOiBkYXRhWydwcm9jZXNzSW5zdGFuY2VJZCddLAogICAgICAgICAgdGFza0lkOiBkYXRhWyd0YXNrSWQnXSwKICAgICAgICAgIGZsb3dLZXk6ICdzaGViZWlqaW5jaGFuZ2Jhb3lhbicKICAgICAgICB9OwogICAgICAgIF90aGlzMi51cGRhdGVUYXNrTG9nKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGZvcm1hdEVxdVR5cGU6IGZ1bmN0aW9uIGZvcm1hdEVxdVR5cGUoZGF0YSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgZGF0YSA9IGRhdGEgfHwgW107CiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIF90aGlzMy5lcXVpcG1lbnRPcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgaWYgKGl0ZW1bJ2VxdWlwbWVudFR5cGUnXS50b1N0cmluZygpID09IG9ialsndmFsdWUnXS50b1N0cmluZygpKSB7CiAgICAgICAgICAgIGl0ZW1bJ2VxdWlwbWVudFR5cGVTdHInXSA9IG9ialsnbGFiZWwnXTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBkYXRhOwogICAgfSwKICAgIGdldEVxdWlwbWVudEVudGVyRW51bXM6IGZ1bmN0aW9uIGdldEVxdWlwbWVudEVudGVyRW51bXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBhcGkuZ2V0RXF1aXBtZW50RW50ZXJFbnVtcygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBvcHRpb25zID0gcmVzLmRhdGEgfHwgW107CiAgICAgICAgX3RoaXM0LmVxdWlwbWVudE9wdGlvbnMgPSBjb252ZXJ0T3B0aW9ucyhvcHRpb25zLCAnZGVzYycsICdjb2RlJyk7CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZVRhc2tMb2c6IGZ1bmN0aW9uIHVwZGF0ZVRhc2tMb2coKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUuJHJlZnNbJ3Rhc2tsb2cnXS5pbml0RGF0YSgpOwogICAgICB9LCAxMDApOwogICAgfQogIH0KfTs="},{"version":3,"names":["api","proapi","tasklog","taskhandle","attachlist","projectinfo","formatMonth","formatDate","formatDateTime","convertOptions","createProjectInfo","props","data","dialogTitle","dialogFormVisible","baseInfo","buildSection","projectName","buildSectionName","contractCode","startupUser","startupDate","Date","formData","attachment","equipmentInfo","deletedFlag","draftFlag","projectCode","$store","getters","currentBiaoDuan","id","projectId","curProject","supervisionBan","attachTable","equipmentTable","taskInfo","created","components","computed","watch","detailRow","obj","getDetail","mounted","getEquipmentEnterEnums","getProjectInfoById","methods","closeDialog","_this","projectid","then","res","list","info","changeVisible","value","_this2","getEquipmentEnterDeatil","formatEquType","getFlowAndTaskInfo","businessKey","console","log","processDefinitionId","processInstanceId","taskId","flowKey","updateTaskLog","_this3","forEach","item","equipmentOptions","toString","_this4","options","_this5","setTimeout","$refs","initData"],"sources":["src/views/contractManagement/equipmentEntryForInspection/detail.vue"],"sourcesContent":["<template>\r\n\t<div class=\"detail\" v-show=\"dialogFormVisible\">\r\n\t\t<div class=\"full-dialog defined-dialog\" @close=\"closeDialog\" :visible.sync=\"dialogFormVisible\" :fullscreen=\"true\">\r\n\t\t\t<template slot=\"title\">\r\n\t\t\t\t{{dialogTitle}}\r\n\t\t\t\t<div class=\"logo-icon\"></div>\r\n\t\t\t</template>\r\n\t\t\t<el-container>\r\n\t\t\t\t<el-main\r\n\t\t\t\t\tstyle=\"background-color: rgba(0,0 0,0.5);height: calc(100vh - 96px); overflow-y: scroll;padding: 0px;margin: 0;\">\r\n\t\t\t\t\t<div class=\"form-bg\">\r\n\t\t\t\t\t\t<div class=\"form-content\">\r\n\t\t\t\t\t\t\t<el-form ref=\"form\" label-width=\"80px\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-block-title\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"title-bar\"></div>\r\n\t\t\t\t\t\t\t\t\t\t<strong>基本信息</strong>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"form-btns\">\r\n\t\t\t\t\t\t\t\t\t\t<el-button\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\t\t\t\t\ticon=\"el-icon-close\"\r\n\t\t\t\t\t\t\t\t\t\t\tcircle\r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"dialogFormVisible = false\"\r\n\t\t\t\t\t\t\t\t\t\t></el-button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<projectinfo></projectinfo>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-label\">工程编号</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{formData.projectCode}}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-block-title\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"title-bar\"></div><strong>进场设备信息</strong>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-line\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-label\">监理办<i class=\"require-icon\"></i></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-item-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{formData.supervisionBan}}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"block-table\">\r\n\t\t\t\t\t\t\t\t\t\t<el-table :data=\"equipmentTable\" style=\"width: 100%\" border\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"have_scrolling\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-table-column type=\"index\" width=\"50\" align=\"center\" label=\"序号\">\r\n\t\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"equipmentTypeStr\" align=\"center\" label=\"设备类型\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tshow-overflow-tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"equipmentName\" width=\"180px\" align=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"设备名称\">\r\n\t\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"specification\" width=\"120px\" align=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"规格型号\">\r\n\t\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"num\" width=\"120px\" align=\"center\" label=\"数量\">\r\n\t\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"enterDate\" width=\"120px\" align=\"center\" label=\"进场日期\">\r\n\t\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"techCondition\" width=\"120px\" align=\"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"技术状况\">\r\n\t\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"useWhere\" width=\"120px\" align=\"center\" label=\"拟用何处\">\r\n\t\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-table-column prop=\"remark\" width=\"120px\" align=\"center\" label=\"备注\">\r\n\t\t\t\t\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t\t\t\t</el-table>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"form-block\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"form-block-title\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"title-bar\"></div><strong>附件清单</strong>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<attachlist :editAble=\"false\" ref=\"attachlist\" :attachTable=\"attachTable\">\r\n\t\t\t\t\t\t\t\t\t</attachlist>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t\t\t<strong style=\"font-size: 16px; font-family: 'Microsoft YaHei'\">流程日志</strong>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<tasklog :taskInfo=\"taskInfo\" ref=\"tasklog\"></tasklog>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- <taskhandle :taskInfo=\"taskInfo\"></taskhandle> -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-main>\r\n\t\t\t</el-container>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport * as api from \"@/api/quality\";\r\n\timport * as proapi from \"@/api/project.js\";\r\n\timport tasklog from \"@/views/common/tasklog.vue\"\r\n\timport taskhandle from '@/views/common/taskhandle'\r\n\timport attachlist from \"@/views/common/attachlist\"\r\n\timport projectinfo from \"@/views/common/projectinfo.vue\"\r\n\t\r\n\timport {\r\n\t\tformatMonth,\r\n\t\tformatDate,\r\n\t\tformatDateTime,\r\n\t\tconvertOptions,\r\n\t\tcreateProjectInfo\r\n\t} from \"@/utils/format.js\";\r\n\r\n\texport default {\r\n\t\tprops:['detailRow'],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdialogTitle: '项目全生命周期数字管理平台',\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tbaseInfo: {\r\n\t\t\t\t\tbuildSection: 1,\r\n\t\t\t\t\tprojectName:'235国道杭州至诸暨公路萧山河上至诸暨安华段改建工程',\r\n\t\t\t\t\tbuildSectionName: '235国道项目部',\r\n\t\t\t\t\tcontractCode: 'ORG_00004',\r\n\t\t\t\t\tstartupUser: '赵赞文',\r\n\t\t\t\t\tstartupDate: formatMonth(new Date()),\r\n\t\t\t\t},\r\n\t\t\t\tformData: { //表单参数\r\n\t\t\t\t\tattachment: [],\r\n\t\t\t\t\tequipmentInfo:[],\r\n\t\t\t\t\tdeletedFlag: 1,\r\n\t\t\t\t\tdraftFlag: 1,\r\n\t\t\t\t\tprojectCode: '',\r\n\t\t\t\t\tbuildSection: this.$store.getters.currentBiaoDuan.id || 3,\r\n\t\t\t\t\tprojectId: this.$store.getters.curProject.id || 2,\r\n\t\t\t\t\tsupervisionBan: ''\r\n\t\t\t\t},\r\n\t\t\t\tattachTable: [], //附件\r\n\t\t\t\tequipmentTable: [],\r\n\t\t\t\ttaskInfo:{}\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tcomponents: {\r\n\t\t\ttasklog,\r\n\t\t\ttaskhandle,\r\n\t\t\tattachlist,\r\n\t\t\tprojectinfo\r\n\t\t},\r\n\t\tcomputed: {},\r\n\t\twatch:{\r\n\t\t\tdetailRow(obj){\r\n\t\t\t\tif(obj['id']){\r\n\t\t\t\t\tthis.getDetail(obj['id']);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n    \t\tthis.getEquipmentEnterEnums();\r\n\t\t\tthis.getProjectInfoById();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcloseDialog(){\r\n\t\t\t\t// if(this.taskInfo['processDefinitionId']){\r\n\t\t\t\t// \tthis.$router.go(-1);\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tgetProjectInfoById() {\r\n\t\t\t\tproapi.getProjectInfoById({\r\n\t\t\t\t\tprojectid: this.$store.getters.curProject.id || 2\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet data = res['data'] || {};\r\n\t\t\t\t\tthis.baseInfo['buildSectionName'] = data['project'] ? data['project']['name'] : '';\r\n\t\t\t\t\tlet list = data['companys'] || [];\r\n\t\t\t\t\tlet info = createProjectInfo(list);\r\n\t\t\t\t\tthis.baseInfo['buildCompany'] = info['buildCompany'];\r\n\t\t\t\t\tthis.baseInfo['supervisionUnit'] = info['supervisionUnit'];\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tchangeVisible(value){\r\n\t\t\t\tthis.dialogFormVisible=value;\r\n\t\t\t},\r\n\t\t\tgetDetail(id){\r\n\t\t\t\tapi.getEquipmentEnterDeatil(id).then((res) => {\r\n\t\t\t\t\tlet data = res['data'] || {};\r\n\t\t\t\t\tthis.formData = data;\r\n\t\t\t\t\tthis.attachTable = data.attachment || [];\r\n\t\t\t\t\tthis.equipmentTable = this.formatEquType(data.equipmentInfo || [])\r\n\t\t\t\t});\r\n\t\t\t\tapi.getFlowAndTaskInfo({businessKey: id}).then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tlet data=res['data'];\r\n\t\t\t\t\tthis.taskInfo={\r\n\t\t\t\t\t\tprocessDefinitionId: data['processDefinitionId'],\r\n\t\t\t\t\t\tprocessInstanceId: data['processInstanceId'],\r\n\t\t\t\t\t\ttaskId: data['taskId'],\r\n\t\t\t\t\t\tflowKey:'shebeijinchangbaoyan'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.updateTaskLog();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tformatEquType(data) {\r\n\t\t\t\tdata = data || []\r\n\t\t\t\tdata.forEach((item) => {\r\n\t\t\t\t\tthis.equipmentOptions.forEach((obj) => {\r\n\t\t\t\t\tif (item['equipmentType'].toString() == obj['value'].toString()) {\r\n\t\t\t\t\t\titem['equipmentTypeStr'] = obj['label']\r\n\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\treturn data\r\n\t\t\t},\r\n\t\t\tgetEquipmentEnterEnums() {\r\n\t\t\t\tapi.getEquipmentEnterEnums().then((res) => {\r\n\t\t\t\t\tlet options = res.data || []\r\n\t\t\t\t\tthis.equipmentOptions = convertOptions(options, 'desc', 'code')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tupdateTaskLog(){\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.$refs['tasklog'].initData();\r\n\t\t\t\t},100)\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t@import \"@/assets/css/dialog.scss\";\r\n    .detail{\r\n        position: absolute;\r\n        height: 100%;\r\n        width: 100%;\r\n        background: rgba(61, 61, 61, 0.5);\r\n        top: 0px;\r\n    }\r\n</style>\r\n"],"mappings":"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"}]}