{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\components\\qualityAndSafetyOverview.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\components\\qualityAndSafetyOverview.vue","mtime":1684246187886},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\babel.config.js","mtime":1684246187306},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovV29ya3NwYWNlL0ppYW5HdWFuL2ppYW5ndWFuX21vYmlsZS9tb2JpbGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBuZXdJbnRlcmZhY2VRdWFsaXR5LCBuZXdJbnRlcmZhY2VTYWZldHkgfSBmcm9tICdAL2FwaS9wcm9qZWN0JzsKaW1wb3J0IENvbW1vbkNoYXJ0IGZyb20gJ0AvY29tcG9uZW50cy9lY2hhcnRzL0NvbW1vbkNoYXJ0JzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENvbW1vbkNoYXJ0OiBDb21tb25DaGFydAogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydjdXJyZW50Qmlhb0R1YW4nXSkpLAogIHdhdGNoOiB7CiAgICBjdXJyZW50Qmlhb0R1YW46IGZ1bmN0aW9uIGN1cnJlbnRCaWFvRHVhbih2YWx1ZSkgewogICAgICB0aGlzLmdldERhdGEoKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBrZXk6IHZhbHVlCiAgICAgIGNvdW50OiAzLAogICAgICBzaG93Q2hhcnQ6IGZhbHNlLAogICAgICBvdmVydmlld1R5cGU6ICflronlhajmgLvop4gnLAogICAgICBvdmVydmlld1R5cGVzOiBbewogICAgICAgIG5hbWU6ICflronlhajmgLvop4gnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn6LSo6YeP5oC76KeIJwogICAgICB9XSwKICAgICAgc2hvd092ZXJ2aWV3VHlwZTogZmFsc2UsCiAgICAgIHF1YWxpdHlEYXRhOiBbewogICAgICAgIHZhbHVlOiAwLAogICAgICAgIG5hbWU6ICflrozmiJDmlbTmlLknCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogMCwKICAgICAgICBuYW1lOiAn5bey6YC+5pyfJwogICAgICB9XSwKICAgICAgc2FmZXR5RGF0YTogW3sKICAgICAgICB2YWx1ZTogMCwKICAgICAgICBuYW1lOiAn5o+Q5Ye65pW05pS5JwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgbmFtZTogJ+WujOaIkOaVtOaUuScKICAgICAgfV0sCiAgICAgIHF1YWxpdHlPcHRpb25zOiB7fSwKICAgICAgc2FmZXR5T3B0aW9uczoge30sCiAgICAgIHRvdGFsOiAwLAogICAgICBmaW5pc2g6IDAsCiAgICAgIHVuZmluaXNoOiAwCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgaWYgKHRoaXMub3ZlcnZpZXdUeXBlID09ICfotKjph4/mgLvop4gnKSB7CiAgICAgICAgbmV3SW50ZXJmYWNlUXVhbGl0eSh7CiAgICAgICAgICBjb3VudDogdGhpcy5jb3VudCwKICAgICAgICAgIHByb2plY3RJZDogdGhpcy5jdXJyZW50Qmlhb0R1YW4uaWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHZhciBfcmVzJHRvdGFsLCBfcmVzJG92ZXJkdWVMaXN0OwogICAgICAgICAgX3RoaXMudG90YWwgPSAwOwogICAgICAgICAgX3RoaXMuZmluaXNoID0gMDsKICAgICAgICAgIF90aGlzLnVuZmluaXNoID0gMDsKICAgICAgICAgIHJlcyA9PT0gbnVsbCB8fCByZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcmVzJHRvdGFsID0gcmVzLnRvdGFsKSA9PT0gbnVsbCB8fCBfcmVzJHRvdGFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzJHRvdGFsLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgX3RoaXMudG90YWwgKz0gcGFyc2VJbnQoaXRlbS5jb3VudCk7CiAgICAgICAgICAgIF90aGlzLmZpbmlzaCArPSBwYXJzZUludChpdGVtLmZpbmlzaCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJlcyA9PT0gbnVsbCB8fCByZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcmVzJG92ZXJkdWVMaXN0ID0gcmVzLm92ZXJkdWVMaXN0KSA9PT0gbnVsbCB8fCBfcmVzJG92ZXJkdWVMaXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzJG92ZXJkdWVMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgX3RoaXMudW5maW5pc2ggKz0gcGFyc2VJbnQoaXRlbS5vdmVyZHVlKTsKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMucXVhbGl0eURhdGEgPSBbewogICAgICAgICAgICB2YWx1ZTogX3RoaXMudG90YWwgPT09IDAgPyAwIDogKF90aGlzLmZpbmlzaCAvIF90aGlzLnRvdGFsICogMTAwKS50b0ZpeGVkKDIpLAogICAgICAgICAgICBuYW1lOiAn5a6M5oiQ5pW05pS5JwogICAgICAgICAgfSwgewogICAgICAgICAgICB2YWx1ZTogX3RoaXMudG90YWwgPT09IDAgPyAwIDogKF90aGlzLnVuZmluaXNoIC8gX3RoaXMudG90YWwgKiAxMDApLnRvRml4ZWQoMiksCiAgICAgICAgICAgIG5hbWU6ICflt7LpgL7mnJ8nCiAgICAgICAgICB9XTsKICAgICAgICAgIF90aGlzLmRyYXdDaGFydCgpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG5ld0ludGVyZmFjZVNhZmV0eSh7CiAgICAgICAgICBjb3VudDogdGhpcy5jb3VudCwKICAgICAgICAgIHByb2plY3RJZDogdGhpcy5jdXJyZW50Qmlhb0R1YW4uaWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHZhciBfcmVzJHRvdGFsMiwgX3JlcyRvdmVyZHVlTGlzdDI7CiAgICAgICAgICBfdGhpcy50b3RhbCA9IDA7CiAgICAgICAgICBfdGhpcy5maW5pc2ggPSAwOwogICAgICAgICAgX3RoaXMudW5maW5pc2ggPSAwOwogICAgICAgICAgcmVzID09PSBudWxsIHx8IHJlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9yZXMkdG90YWwyID0gcmVzLnRvdGFsKSA9PT0gbnVsbCB8fCBfcmVzJHRvdGFsMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcyR0b3RhbDIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBfdGhpcy50b3RhbCArPSBwYXJzZUludChpdGVtLmNvdW50KTsKICAgICAgICAgICAgX3RoaXMuZmluaXNoICs9IHBhcnNlSW50KGl0ZW0uZmluaXNoKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmVzID09PSBudWxsIHx8IHJlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9yZXMkb3ZlcmR1ZUxpc3QyID0gcmVzLm92ZXJkdWVMaXN0KSA9PT0gbnVsbCB8fCBfcmVzJG92ZXJkdWVMaXN0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcyRvdmVyZHVlTGlzdDIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBfdGhpcy51bmZpbmlzaCArPSBwYXJzZUludChpdGVtLm92ZXJkdWUpOwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpcy5zYWZldHlEYXRhID0gW3sKICAgICAgICAgICAgdmFsdWU6IF90aGlzLnRvdGFsID09PSAwID8gMCA6IChfdGhpcy5maW5pc2ggLyBfdGhpcy50b3RhbCAqIDEwMCkudG9GaXhlZCgyKSwKICAgICAgICAgICAgbmFtZTogJ+WujOaIkOaVtOaUuScKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdmFsdWU6IF90aGlzLnRvdGFsID09PSAwID8gMCA6IChfdGhpcy51bmZpbmlzaCAvIF90aGlzLnRvdGFsICogMTAwKS50b0ZpeGVkKDIpLAogICAgICAgICAgICBuYW1lOiAn5bey6YC+5pyfJwogICAgICAgICAgfV07CiAgICAgICAgICBfdGhpcy5kcmF3Q2hhcnQoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRyYXdDaGFydDogZnVuY3Rpb24gZHJhd0NoYXJ0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5zaG93Q2hhcnQgPSBmYWxzZTsKICAgICAgdGhpcy5xdWFsaXR5T3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucygn6LSo6YeP5oC76KeIJywgdGhpcy5xdWFsaXR5RGF0YSk7CiAgICAgIHRoaXMuc2FmZXR5T3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucygn5a6J5YWo5oC76KeIJywgdGhpcy5zYWZldHlEYXRhKTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5zaG93Q2hhcnQgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRPcHRpb25zOiBmdW5jdGlvbiBnZXRPcHRpb25zKHRpdGxlLCBkYXRhKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZ3JhcGhpYzogW3sKICAgICAgICAgIHR5cGU6ICd0ZXh0JywKICAgICAgICAgIGxlZnQ6ICc0MCUnLAogICAgICAgICAgdG9wOiAnNDAlJywKICAgICAgICAgIHo6IDEwLAogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgZmlsbDogJyMzODhCRjUnLAogICAgICAgICAgICB0ZXh0OiBkYXRhWzBdLnZhbHVlICsgJyUnLAogICAgICAgICAgICBmb250OiAnYm9sZGVyIDE0cHggTWljcm9zb2Z0IFlhSGVpJwogICAgICAgICAgfSwKICAgICAgICAgIGZvcm1hdHRlcjogJ+i/m+W6pu+8mntkfSUnCiAgICAgICAgfSwgewogICAgICAgICAgdHlwZTogJ3RleHQnLAogICAgICAgICAgbGVmdDogJzM1JScsCiAgICAgICAgICB0b3A6ICc1NSUnLAogICAgICAgICAgejogMTAsCiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICBmaWxsOiAnIzAwMCcsCiAgICAgICAgICAgIHRleHQ6ICfmlbTmlLnlrozmiJDnjocnLAogICAgICAgICAgICBmb250OiAnMTNweCBNaWNyb3NvZnQgWWFIZWknCiAgICAgICAgICB9LAogICAgICAgICAgZm9ybWF0dGVyOiAn6L+b5bqm77yae2R9JScKICAgICAgICB9XSwKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScsCiAgICAgICAgICBmb3JtYXR0ZXI6ICfov5vluqbvvJp7ZH0lJywKICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC44KScKICAgICAgICB9LAogICAgICAgIC8vIHRpdGxlOiB7CiAgICAgICAgLy8gICB0ZXh0OiB0aXRsZSwKICAgICAgICAvLyAgIHg6ICdjZW50ZXInLAogICAgICAgIC8vICAgeTogJ2JvdHRvbScsCiAgICAgICAgLy8gICBwYWRkaW5nOiBbMCwgMCwgMjAsIDBdLAogICAgICAgIC8vICAgdGV4dFN0eWxlOiB7CiAgICAgICAgLy8gICAgIGZvbnRTaXplOiAxNQogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sCiAgICAgICAgY29sb3I6IFsnIzM4OEJGNScsICcjRjBGMEYwJ10sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgbmFtZTogdGl0bGUsCiAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgIHJhZGl1czogWyc1NSUnLCAnNjUlJ10sCiAgICAgICAgICBjZW50ZXI6IFsnNTAlJywgJzUwJSddLAogICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgIG5vcm1hbDogewogICAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgbGFiZWxMaW5lOiB7CiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICB9XQogICAgICB9OwogICAgfSwKICAgIGNvdW50Q2hhbmdlOiBmdW5jdGlvbiBjb3VudENoYW5nZSgpIHsKICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICB9LAogICAgdG9RdWxpdHlMaXN0OiBmdW5jdGlvbiB0b1F1bGl0eUxpc3QoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3JlY29yZCcKICAgICAgfSk7CiAgICB9LAogICAgdG9TYWZldHlMaXN0OiBmdW5jdGlvbiB0b1NhZmV0eUxpc3QoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3NlY3VyaXR5UmVjb3JkJwogICAgICB9KTsKICAgIH0sCiAgICBvdmVydmlld1R5cGVDaGFuZ2U6IGZ1bmN0aW9uIG92ZXJ2aWV3VHlwZUNoYW5nZShpdGVtKSB7CiAgICAgIHRoaXMuc2hvd092ZXJ2aWV3VHlwZSA9IGZhbHNlOwogICAgICB0aGlzLm92ZXJ2aWV3VHlwZSA9IGl0ZW0ubmFtZTsKICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapGetters","newInterfaceQuality","newInterfaceSafety","CommonChart","components","computed","_objectSpread","watch","currentBiaoDuan","value","getData","data","count","showChart","overviewType","overviewTypes","name","showOverviewType","qualityData","safetyData","qualityOptions","safetyOptions","total","finish","unfinish","mounted","methods","_this","projectId","id","then","res","_res$total","_res$overdueList","forEach","item","parseInt","overdueList","overdue","toFixed","drawChart","_res$total2","_res$overdueList2","_this2","getOptions","$nextTick","title","graphic","type","left","top","z","style","fill","text","font","formatter","tooltip","trigger","backgroundColor","color","series","radius","center","itemStyle","normal","label","show","labelLine","countChange","toQulityList","$router","push","path","toSafetyList","overviewTypeChange"],"sources":["src/components/qualityAndSafetyOverview.vue"],"sourcesContent":["<template>\r\n  <div class=\"overview\">\r\n    <van-row>\r\n      <van-col span=\"12\">\r\n        <div class=\"span-container overviewType\" @click=\"showOverviewType = true\">\r\n          <span>\r\n            {{ this.overviewType }}\r\n          </span>\r\n        </div>\r\n      </van-col>\r\n      <van-col span=\"12\">\r\n        <van-radio-group v-model=\"count\" direction=\"horizontal\" @change=\"countChange\">\r\n          <van-radio :name=\"1\">近一个月</van-radio>\r\n          <van-radio :name=\"3\">近三个月</van-radio>\r\n        </van-radio-group>\r\n      </van-col>\r\n    </van-row>\r\n    <van-row class=\"echart\" v-if=\"showChart\">\r\n      <van-col span=\"12\" @click=\"toQulityList\" v-if=\"overviewType == '质量总览'\"\r\n        ><common-chart :options=\"qualityOptions\" className=\"circle\"></common-chart\r\n      ></van-col>\r\n      <van-col span=\"12\" @click=\"toSafetyList\" v-else\r\n        ><common-chart :options=\"safetyOptions\" className=\"circle\"></common-chart\r\n      ></van-col>\r\n      <van-col span=\"12\" style=\"padding-top: 26px; padding-right: 20px\">\r\n        <div class=\"echart-info total\">\r\n          <span>提出整改</span><span>{{ total }}起</span>\r\n        </div>\r\n        <div class=\"echart-info finish\">\r\n          <span>完成整改</span><span>{{ finish }}起</span>\r\n        </div>\r\n        <div class=\"echart-info unfinish\">\r\n          <span>已逾期</span><span>{{ unfinish }}起</span>\r\n        </div>\r\n      </van-col>\r\n    </van-row>\r\n    <van-action-sheet v-model=\"showOverviewType\" :actions=\"overviewTypes\" @select=\"overviewTypeChange\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport { newInterfaceQuality, newInterfaceSafety } from '@/api/project'\r\nimport CommonChart from '@/components/echarts/CommonChart'\r\nexport default {\r\n  components: {\r\n    CommonChart\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currentBiaoDuan'])\r\n  },\r\n  watch: {\r\n    currentBiaoDuan: function(value) {\r\n      this.getData()\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // key: value\r\n      count: 3,\r\n      showChart: false,\r\n      overviewType: '安全总览',\r\n      overviewTypes: [{ name: '安全总览' }, { name: '质量总览' }],\r\n      showOverviewType: false,\r\n      qualityData: [\r\n        { value: 0, name: '完成整改' },\r\n        { value: 0, name: '已逾期' }\r\n      ],\r\n      safetyData: [\r\n        { value: 0, name: '提出整改' },\r\n        { value: 0, name: '完成整改' }\r\n      ],\r\n      qualityOptions: {},\r\n      safetyOptions: {},\r\n\r\n      total: 0,\r\n      finish: 0,\r\n      unfinish: 0\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getData()\r\n  },\r\n  methods: {\r\n    getData() {\r\n      if (this.overviewType == '质量总览') {\r\n        newInterfaceQuality({ count: this.count, projectId: this.currentBiaoDuan.id }).then(res => {\r\n          this.total = 0\r\n          this.finish = 0\r\n          this.unfinish = 0\r\n          res?.total?.forEach(item => {\r\n            this.total += parseInt(item.count)\r\n            this.finish += parseInt(item.finish)\r\n          })\r\n          res?.overdueList?.forEach(item => {\r\n            this.unfinish += parseInt(item.overdue)\r\n          })\r\n          this.qualityData = [\r\n            { value: this.total === 0 ? 0 : ((this.finish / this.total) * 100).toFixed(2), name: '完成整改' },\r\n            {\r\n              value: this.total === 0 ? 0 : ((this.unfinish / this.total) * 100).toFixed(2),\r\n              name: '已逾期'\r\n            }\r\n          ]\r\n          this.drawChart()\r\n        })\r\n      } else {\r\n        newInterfaceSafety({ count: this.count, projectId: this.currentBiaoDuan.id }).then(res => {\r\n          this.total = 0\r\n          this.finish = 0\r\n          this.unfinish = 0\r\n          res?.total?.forEach(item => {\r\n            this.total += parseInt(item.count)\r\n            this.finish += parseInt(item.finish)\r\n          })\r\n          res?.overdueList?.forEach(item => {\r\n            this.unfinish += parseInt(item.overdue)\r\n          })\r\n          this.safetyData = [\r\n            { value: this.total === 0 ? 0 : ((this.finish / this.total) * 100).toFixed(2), name: '完成整改' },\r\n            {\r\n              value: this.total === 0 ? 0 : ((this.unfinish / this.total) * 100).toFixed(2),\r\n              name: '已逾期'\r\n            }\r\n          ]\r\n          this.drawChart()\r\n        })\r\n      }\r\n    },\r\n    drawChart() {\r\n      this.showChart = false\r\n      this.qualityOptions = this.getOptions('质量总览', this.qualityData)\r\n      this.safetyOptions = this.getOptions('安全总览', this.safetyData)\r\n      this.$nextTick(() => {\r\n        this.showChart = true\r\n      })\r\n    },\r\n    getOptions(title, data) {\r\n      return {\r\n        graphic: [\r\n          {\r\n            type: 'text',\r\n            left: '40%',\r\n            top: '40%',\r\n            z: 10,\r\n            style: {\r\n              fill: '#388BF5',\r\n              text: data[0].value + '%',\r\n              font: 'bolder 14px Microsoft YaHei'\r\n            },\r\n            formatter: '进度：{d}%'\r\n          },\r\n          {\r\n            type: 'text',\r\n            left: '35%',\r\n            top: '55%',\r\n            z: 10,\r\n            style: {\r\n              fill: '#000',\r\n              text: '整改完成率',\r\n              font: '13px Microsoft YaHei'\r\n            },\r\n            formatter: '进度：{d}%'\r\n          }\r\n        ],\r\n        tooltip: {\r\n          trigger: 'item',\r\n          formatter: '进度：{d}%',\r\n          backgroundColor: 'rgba(255,255,255,0.8)'\r\n        },\r\n        // title: {\r\n        //   text: title,\r\n        //   x: 'center',\r\n        //   y: 'bottom',\r\n        //   padding: [0, 0, 20, 0],\r\n        //   textStyle: {\r\n        //     fontSize: 15\r\n        //   }\r\n        // },\r\n        color: ['#388BF5', '#F0F0F0'],\r\n        series: [\r\n          {\r\n            name: title,\r\n            type: 'pie',\r\n            radius: ['55%', '65%'],\r\n            center: ['50%', '50%'],\r\n            itemStyle: {\r\n              normal: {\r\n                label: {\r\n                  show: false\r\n                },\r\n                labelLine: {\r\n                  show: false\r\n                }\r\n              }\r\n            },\r\n            data: data\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    countChange() {\r\n      this.getData()\r\n    },\r\n    toQulityList() {\r\n      this.$router.push({ path: '/record' })\r\n    },\r\n    toSafetyList() {\r\n      this.$router.push({ path: '/securityRecord' })\r\n    },\r\n    overviewTypeChange(item) {\r\n      this.showOverviewType = false\r\n      this.overviewType = item.name\r\n      this.getData()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.overview {\r\n  margin: 12px 0;\r\n  background-color: white;\r\n  border-radius: 6px;\r\n  padding-top: 10px;\r\n  .span-container {\r\n    position: relative;\r\n    border: 1px solid $active-color;\r\n    border-radius: 5px;\r\n    height: 26px;\r\n    line-height: 26px;\r\n    span {\r\n      float: left;\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n  .overviewType {\r\n    float: left;\r\n    margin-left: 10px;\r\n    width: 120px;\r\n    background-color: $active-color;\r\n    color: white;\r\n    border: none;\r\n  }\r\n  .span-container::after {\r\n    position: absolute;\r\n    top: 50%;\r\n    right: 10px;\r\n    margin-top: -5px;\r\n    border: 3px solid;\r\n    border-color: transparent transparent #dcdee0 #dcdee0;\r\n    -webkit-transform: rotate(-45deg);\r\n    transform: rotate(-45deg);\r\n    opacity: 0.8;\r\n    content: '';\r\n  }\r\n}\r\n.echart {\r\n  .circle {\r\n    width: 100%;\r\n    height: 160px;\r\n  }\r\n  .echart-info {\r\n    margin-top: 8px;\r\n    padding: 5px 10px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    &.total {\r\n      background-color: #ebf3fe;\r\n      color: #3689f4;\r\n    }\r\n    &.finish {\r\n      background-color: #eef8f0;\r\n      color: #67c377;\r\n    }\r\n    &.unfinish {\r\n      background-color: #feefea;\r\n      color: #f65c36;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}