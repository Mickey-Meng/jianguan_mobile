{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\eslint-loader\\index.js??ref--14-0!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\api\\weather.js","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\api\\weather.js","mtime":1684246187726},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\babel.config.js","mtime":1684246187306},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\eslint-loader\\index.js","mtime":1684411443448}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IGJhaWR1UHJveHkgfSBmcm9tICdAL2NvbmZpZyc7CnZhciByZXF1ZXN0OwpyZXF1ZXN0ID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBiYWlkdVByb3h5LAogIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwKICB0aW1lb3V0OiA1MDAwCn0pOwpyZXF1ZXN0LmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZS5kYXRhKTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgY29uc29sZS5sb2coJ2VycicgKyBlcnJvcik7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gInByb2R1Y3Rpb24iKSB7CiAgdmFyIGp1ZGdlUGx1cyA9IGZ1bmN0aW9uIGp1ZGdlUGx1cygpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICBpZiAod2luZG93LnBsdXMpIHsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGx1c3JlYWR5JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9OwogIHJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KF9yZWYpIHsKICAgIHZhciB1cmwgPSBfcmVmLnVybDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICBqdWRnZVBsdXMoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgeGhyID0gbmV3IHBsdXMubmV0LlhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkgewogICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PSAyMDAgJiYgeGhyLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgaWYgKHhoci5yZXNwb25zZSkgewogICAgICAgICAgICAgICAgcmVzb2x2ZSh4aHIucmVzcG9uc2UpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfVG9hc3QuZmFpbCh4aHIucmVzcG9uc2UubWVzc2FnZSB8fCAn5o6l5Y+j6K6/6Zeu5Ye66ZSZ77yBJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF9Ub2FzdC5mYWlsKCfor7fmo4Dmn6XmgqjnmoTnvZHnu5zvvIzmiJbogZTns7vnrqHnkIblkZjvvIEnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIGJhaWR1UHJveHkgKyB1cmwpOwogICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7CiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7CiAgICAgICAgeGhyLnNlbmQoKTsKICAgICAgfSk7CiAgICB9KTsKICB9Owp9CmV4cG9ydCBmdW5jdGlvbiBnZXRXZWF0aGVyKCkgewogIHJldHVybiByZXF1ZXN0KHsKICAgIHVybDogJy93ZWF0aGVyL3YxLz9kaXN0cmljdF9pZD0zMzA2ODEmZGF0YV90eXBlPWFsbCZhaz1LNVAyY2NDd1BDZjZiSUdVUXZmVnBuU0JqTEFzc0N4ZCZtY29kZT0xMDo3QzoyNzo1MDpDMDpFNzoyODpCRTo0RjozRTo3QzpEQjo4NzpBMzowQjoxNToxMzo2MDowMzpDNztwbHVzLkg1QkI3RDlDQicsCiAgICBtZXRob2Q6ICdnZXQnCiAgfSk7Cn0="},{"version":3,"names":["axios","baiduProxy","request","create","baseURL","withCredentials","timeout","interceptors","response","use","Promise","resolve","data","error","console","log","reject","process","env","NODE_ENV","judgePlus","window","plus","document","addEventListener","_ref","url","then","xhr","net","XMLHttpRequest","onreadystatechange","readyState","status","_Toast","fail","message","open","responseType","setRequestHeader","send","getWeather","method"],"sources":["E:/Workspace/JianGuan/jianguan_mobile/mobile/src/api/weather.js"],"sourcesContent":["import axios from 'axios'\r\nimport { baiduProxy } from '@/config'\r\nimport { Toast } from 'vant'\r\n\r\nlet request;\r\n\r\nrequest = axios.create({\r\n    baseURL: baiduProxy,\r\n    withCredentials: true,\r\n    timeout: 5000\r\n});\r\n\r\nrequest.interceptors.response.use(\r\n    response => {\r\n        return Promise.resolve(response.data)\r\n    },\r\n    error => {\r\n        console.log('err' + error)\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\nif(process.env.NODE_ENV === \"production\"){\r\n  const judgePlus = function() {\r\n    return new Promise(resolve => {\r\n      if (window.plus) {\r\n        resolve()\r\n      } else {\r\n        document.addEventListener('plusready', function() {\r\n          resolve()\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  request = function({url}) {\r\n    return new Promise(resolve => {\r\n      judgePlus().then(() => {\r\n        let xhr = new plus.net.XMLHttpRequest()\r\n        xhr.onreadystatechange = function() {\r\n          if (xhr.readyState === 4) {\r\n            if (xhr.status == 200 && xhr.response) {\r\n              if(xhr.response){\r\n                resolve(xhr.response)\r\n              }else {\r\n                Toast.fail(xhr.response.message || '接口访问出错！');\r\n              }\r\n            }else {\r\n              Toast.fail('请检查您的网络，或联系管理员！');\r\n            }\r\n          }\r\n        }\r\n\r\n        xhr.open('GET', baiduProxy + url)\r\n        xhr.responseType = 'json'\r\n        xhr.setRequestHeader('Content-Type', 'application/json')\r\n        xhr.send()\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport function getWeather() {\r\n    return request({\r\n        url: '/weather/v1/?district_id=330681&data_type=all&ak=K5P2ccCwPCf6bIGUQvfVpnSBjLAssCxd&mcode=10:7C:27:50:C0:E7:28:BE:4F:3E:7C:DB:87:A3:0B:15:13:60:03:C7;plus.H5BB7D9CB',\r\n        method: 'get'\r\n    })\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,UAAU;AAGrC,IAAIC,OAAO;AAEXA,OAAO,GAAGF,KAAK,CAACG,MAAM,CAAC;EACnBC,OAAO,EAAEH,UAAU;EACnBI,eAAe,EAAE,IAAI;EACrBC,OAAO,EAAE;AACb,CAAC,CAAC;AAEFJ,OAAO,CAACK,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC7B,UAAAD,QAAQ,EAAI;EACR,OAAOE,OAAO,CAACC,OAAO,CAACH,QAAQ,CAACI,IAAI,CAAC;AACzC,CAAC,EACD,UAAAC,KAAK,EAAI;EACLC,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGF,KAAK,CAAC;EAC1B,OAAOH,OAAO,CAACM,MAAM,CAACH,KAAK,CAAC;AAChC,CACJ,CAAC;AAED,IAAGI,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAC;EACvC,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAc;IAC3B,OAAO,IAAIV,OAAO,CAAC,UAAAC,OAAO,EAAI;MAC5B,IAAIU,MAAM,CAACC,IAAI,EAAE;QACfX,OAAO,CAAC,CAAC;MACX,CAAC,MAAM;QACLY,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAE,YAAW;UAChDb,OAAO,CAAC,CAAC;QACX,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ,CAAC;EAEDT,OAAO,GAAG,SAAAA,QAAAuB,IAAA,EAAgB;IAAA,IAANC,GAAG,GAAAD,IAAA,CAAHC,GAAG;IACrB,OAAO,IAAIhB,OAAO,CAAC,UAAAC,OAAO,EAAI;MAC5BS,SAAS,CAAC,CAAC,CAACO,IAAI,CAAC,YAAM;QACrB,IAAIC,GAAG,GAAG,IAAIN,IAAI,CAACO,GAAG,CAACC,cAAc,CAAC,CAAC;QACvCF,GAAG,CAACG,kBAAkB,GAAG,YAAW;UAClC,IAAIH,GAAG,CAACI,UAAU,KAAK,CAAC,EAAE;YACxB,IAAIJ,GAAG,CAACK,MAAM,IAAI,GAAG,IAAIL,GAAG,CAACpB,QAAQ,EAAE;cACrC,IAAGoB,GAAG,CAACpB,QAAQ,EAAC;gBACdG,OAAO,CAACiB,GAAG,CAACpB,QAAQ,CAAC;cACvB,CAAC,MAAK;gBACJ0B,MAAA,CAAMC,IAAI,CAACP,GAAG,CAACpB,QAAQ,CAAC4B,OAAO,IAAI,SAAS,CAAC;cAC/C;YACF,CAAC,MAAK;cACJF,MAAA,CAAMC,IAAI,CAAC,iBAAiB,CAAC;YAC/B;UACF;QACF,CAAC;QAEDP,GAAG,CAACS,IAAI,CAAC,KAAK,EAAEpC,UAAU,GAAGyB,GAAG,CAAC;QACjCE,GAAG,CAACU,YAAY,GAAG,MAAM;QACzBV,GAAG,CAACW,gBAAgB,CAAC,cAAc,EAAE,kBAAkB,CAAC;QACxDX,GAAG,CAACY,IAAI,CAAC,CAAC;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;AACH;AAEA,OAAO,SAASC,UAAUA,CAAA,EAAG;EACzB,OAAOvC,OAAO,CAAC;IACXwB,GAAG,EAAE,oKAAoK;IACzKgB,MAAM,EAAE;EACZ,CAAC,CAAC;AACN"}]}