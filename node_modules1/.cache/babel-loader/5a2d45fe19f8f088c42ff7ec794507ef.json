{"remainingRequest":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\project\\quality\\processAudit.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\src\\views\\project\\quality\\processAudit.vue","mtime":1684246188039},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\babel.config.js","mtime":1684246187306},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1684411446344},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684411445150},{"path":"E:\\Workspace\\JianGuan\\jianguan_mobile\\mobile\\node_modules\\vue-loader\\lib\\index.js","mtime":1684411444634}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovV29ya3NwYWNlL0ppYW5HdWFuL2ppYW5ndWFuX21vYmlsZS9tb2JpbGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0IFVwbG9hZCBmcm9tICdAL2NvbXBvbmVudHMvY29tbW9uL1VwbG9hZCc7CmltcG9ydCB7IGZvcm1hdElTTzg2MDFUaW1lIH0gZnJvbSAnQC91dGlscy9pbmRleCc7CmltcG9ydCB7IGdldEFnZW5jeSwgY2hlY2ssIGdldEFsbGNoZWNrRGF0YSwgZ2V0Q29uQW5kUmVmZXJQZXJzb24gfSBmcm9tICdAL2FwaS9wcm9qZWN0LmpzJzsKaW1wb3J0IFBkZlByZXZpZXcgZnJvbSAnQC9jb21wb25lbnRzL1BkZlByZXZpZXcnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBQZGZQcmV2aWV3OiBQZGZQcmV2aWV3LAogICAgVXBsb2FkOiBVcGxvYWQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0OiBbXSwKICAgICAgZmluaXNoZWQ6IGZhbHNlLAogICAgICBmb3JtYXRJU084NjAxVGltZTogZm9ybWF0SVNPODYwMVRpbWUsCiAgICAgIHBkZlVybDogJycsCiAgICAgIHNob3dQZGY6IGZhbHNlLAogICAgICBwZGZIZWlnaHQ6IDAsCiAgICAgIHJlY29yZExpc3Q6IFtdLAogICAgICByZWNvcmRGaW5pc2hlZDogZmFsc2UsCiAgICAgIHNob3c6IGZhbHNlLAogICAgICBlZGl0RGF0YTogewogICAgICAgIHRlc3R1cmw6ICcnLAogICAgICAgIHN0YW5kYnlyZWNvZGU6ICcnCiAgICAgIH0sCiAgICAgIGN1cnJlbnRJdGVtOiBudWxsLAogICAgICBjaGVja2VkOiAnMScsCiAgICAgIGNvcHlVc2VyczogW10sCiAgICAgIFFaOiBbXSwKICAgICAgSlNEVzogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnY3VycmVudEJpYW9EdWFuJ10pKSwge30sIHsKICAgIHNjcm9sbGVySGVpZ2h0OiBmdW5jdGlvbiBzY3JvbGxlckhlaWdodCgpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodCAtIDE0NiArICdweCc7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIG9uTG9hZDogZnVuY3Rpb24gb25Mb2FkKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIGdldEFnZW5jeSh7CiAgICAgICAgcHJvamVjdElkOiB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50Qmlhb0R1YW4uaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHRoYXQubGlzdCA9IGRhdGE7CiAgICAgICAgdGhhdC5maW5pc2hlZCA9IHRydWU7CiAgICAgIH0pOwogICAgICB0aGlzLmdldFBlcnNvbigpOwogICAgfSwKICAgIGl0ZW1DbGljazogZnVuY3Rpb24gaXRlbUNsaWNrKGl0ZW0pIHsKICAgICAgdGhpcy5jdXJyZW50SXRlbSA9IGl0ZW07CiAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KHZhbHVlcykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHJlY29uZGlkOiB0aGlzLmN1cnJlbnRJdGVtLnJlY29kZWlkLAogICAgICAgIHJlc3VsdDogcGFyc2VJbnQodmFsdWVzLnJlc3VsdCkKICAgICAgfTsKICAgICAgdmFyIHRlbXAgPSBbXTsKICAgICAgdmFsdWVzLnRlc3R1cmwuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0udXJsICYmIHRlbXAucHVzaChpdGVtLnVybCk7CiAgICAgIH0pOwogICAgICBpZiAodmFsdWVzLnRlc3R1cmwubGVuZ3RoICE9PSB0ZW1wLmxlbmd0aCkgewogICAgICAgIHJldHVybiB0aGlzLiRub3RpZnkoewogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+S4iuS8oOS4vueJjOeFp+eJh+aIluetieW+heeFp+eJh+S4iuS8oOWujOaIkO+8gScKICAgICAgICB9KTsKICAgICAgfQogICAgICBwYXJhbXMudGVzdHVybCA9IHRlbXAuam9pbignLCcpOwogICAgICB2YXIgX3RlbXAgPSBbXTsKICAgICAgdmFsdWVzLnN0YW5kYnlyZWNvZGUuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0udXJsICYmIF90ZW1wLnB1c2goaXRlbS51cmwpOwogICAgICB9KTsKICAgICAgaWYgKHZhbHVlcy5zdGFuZGJ5cmVjb2RlLmxlbmd0aCAhPT0gX3RlbXAubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBtZXNzYWdlOiAn6K+3562J5b6FUERG5LiK5Lyg5a6M5oiQ77yBJwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHBhcmFtcy5zdGFuZGJ5cmVjb2RlID0gX3RlbXAuam9pbignLCcpOwogICAgICBwYXJhbXMuY29weVVzZXJzID0gdGhpcy5jb3B5VXNlcnMuam9pbignLCcpOwogICAgICBjb25zb2xlLmxvZyhwYXJhbXMpOwogICAgICBjaGVjayhwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIG1lc3NhZ2U6ICflrqHmoLjmiJDlip8nLAogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRSZWFsdGltZU1lc3NhZ2UnKTsKICAgICAgICBfdGhpcy5zaG93ID0gZmFsc2U7CiAgICAgICAgX3RoaXMub25Mb2FkKCk7CiAgICAgICAgX3RoaXMub25SZWNvcmRMb2FkKCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uUmVjb3JkTG9hZDogZnVuY3Rpb24gb25SZWNvcmRMb2FkKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIGdldEFsbGNoZWNrRGF0YSh7CiAgICAgICAgdHlwZTogMQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgdmFyIHRlbXAgPSBbXTsKICAgICAgICBkYXRhID0gZGF0YSB8fCBbXTsKICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGlmIChpdGVtLmNoZWNrcmVzdWx0ICE9PSAzICYmIGl0ZW0uY2hlY2tyZXN1bHQgIT09IDAgJiYgaXRlbS5jaGVja3Jlc3VsdCAhPT0gbnVsbCkgewogICAgICAgICAgICB0ZW1wLnB1c2goaXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhhdC5yZWNvcmRMaXN0ID0gdGVtcDsKICAgICAgICB0aGF0LnJlY29yZEZpbmlzaGVkID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgcmVjb3JkSXRlbUNsaWNrOiBmdW5jdGlvbiByZWNvcmRJdGVtQ2xpY2soaXRlbSkgewogICAgICB0aGlzLiRyZWZzWydwZGZQcmV2aWV3J10uc2hvdyhpdGVtLnJlY29kZWlkKTsKICAgIH0sCiAgICBwcmV2aWV3UGljOiBmdW5jdGlvbiBwcmV2aWV3UGljKGl0ZW0sIGZpZWxkKSB7CiAgICAgIHRoaXMuJHJlZnNbJ3BkZlByZXZpZXcnXS5zaG93UGljKGl0ZW0ucmVjb2RlaWQsIGZpZWxkKTsKICAgIH0sCiAgICBwcmV2aWV3UGRmOiBmdW5jdGlvbiBwcmV2aWV3UGRmKGl0ZW0sIGZpZWxkKSB7CiAgICAgIHRoaXMuJHJlZnNbJ3BkZlByZXZpZXcnXS5zaG93KGl0ZW0ucmVjb2RlaWQsIGZpZWxkKTsKICAgIH0sCiAgICBnZXRQZXJzb246IGZ1bmN0aW9uIGdldFBlcnNvbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIGdldENvbkFuZFJlZmVyUGVyc29uKHsKICAgICAgICBwcm9qZWN0SWQ6IHRoaXMuY3VycmVudEJpYW9EdWFuLmlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpczIuUVogPSBkYXRhLlFaIHx8IFtdOwogICAgICAgIF90aGlzMi5KU0RXID0gZGF0YS5KU0RXIHx8IFtdOwogICAgICAgIGRhdGEuUVouZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgX3RoaXMyLmNvcHlVc2Vycy5wdXNoKGl0ZW0uaWQpOwogICAgICAgIH0pOwogICAgICAgIGRhdGEuSlNEVy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBfdGhpczIuY29weVVzZXJzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgfSk7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMyLmNvcHlVc2Vycyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["Upload","formatISO8601Time","getAgency","check","getAllcheckData","getConAndReferPerson","PdfPreview","mapGetters","components","data","list","finished","pdfUrl","showPdf","pdfHeight","recordList","recordFinished","show","editData","testurl","standbyrecode","currentItem","checked","copyUsers","QZ","JSDW","computed","_objectSpread","scrollerHeight","window","innerHeight","created","methods","onLoad","that","projectId","$store","state","currentBiaoDuan","id","then","getPerson","itemClick","item","onSubmit","values","_this","params","recondid","recodeid","result","parseInt","temp","forEach","url","push","length","$notify","type","message","join","_temp","console","log","dispatch","onRecordLoad","checkresult","recordItemClick","$refs","previewPic","field","showPic","previewPdf","_this2"],"sources":["src/views/project/quality/processAudit.vue"],"sourcesContent":["<template>\r\n  <div class=\"process-audit\">\r\n    <van-tabs>\r\n      <van-tab title=\"工序审核\">\r\n        <van-list\r\n          :finished=\"finished\"\r\n          finished-text=\"我也是有底线的~~\"\r\n          @load=\"onLoad\"\r\n          class=\"common-list common-card\"\r\n          :style=\"{ height: scrollerHeight }\"\r\n        >\r\n          <div v-for=\"(item, index) in list\" :key=\"index\" :class=\"'item ' + (index === list.length - 1 ? 'last' : '')\">\r\n            <div class=\"content\">\r\n              <span class=\"name\">构件编码：</span>\r\n              <span class=\"value\">{{ item.conponentcode }}</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">构件名称：</span>\r\n              <span class=\"value\">{{ item.conponentname }}</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">工序名称：</span>\r\n              <span class=\"value\">{{ item.producename }}</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">填报人：</span>\r\n              <span class=\"value\">{{ item.updateusername }}</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">填报时间：</span>\r\n              <span class=\"value\">{{ item.updatetime ? formatISO8601Time(item.updatetime) : '' }}</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">填报信息：</span>\r\n              <van-button class=\"button\" type=\"primary\" size=\"small\" @click.stop=\"previewPic(item)\"\r\n                >举牌照片</van-button\r\n              >\r\n              <van-button\r\n                style=\"margin-left:10px\"\r\n                class=\"button\"\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                @click.stop=\"previewPdf(item)\"\r\n                >PDF</van-button\r\n              >\r\n            </div>\r\n            <div class=\"operate center-in-vertical\">\r\n              <van-button\r\n                v-if=\"item.checkresult === 3\"\r\n                class=\"button\"\r\n                type=\"warning\"\r\n                size=\"small\"\r\n                @click.stop=\"itemClick(item, 1)\"\r\n                >审核</van-button\r\n              >\r\n              <img\r\n                :src=\"item.checkresult === 1 ? require(`assets/image/已通过.png`) : require(`assets/image/已驳回.png`)\"\r\n                v-if=\"item.checkresult !== 3\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </van-list>\r\n      </van-tab>\r\n      <van-tab title=\"审核记录\">\r\n        <van-list\r\n          :finished=\"recordFinished\"\r\n          finished-text=\"我也是有底线的~~\"\r\n          @load=\"onRecordLoad\"\r\n          class=\"common-list common-card\"\r\n          :style=\"{ height: scrollerHeight }\"\r\n        >\r\n          <div\r\n            v-for=\"(item, index) in recordList\"\r\n            :key=\"index\"\r\n            :class=\"'item ' + (index === list.length - 1 ? 'last' : '')\"\r\n          >\r\n            <div class=\"content\">\r\n              <span class=\"name\">构件编码：</span>\r\n              <span class=\"value\">{{ item.conponentcode }}</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">构件名称：</span>\r\n              <span class=\"value\">{{ item.conponentname }}</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">工序名称：</span>\r\n              <span class=\"value\">{{ item.producename }}</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">审核人：</span>\r\n              <span class=\"value\">{{ item.checkusername }}</span>\r\n            </div>\r\n            <div class=\"content\">\r\n              <span class=\"name\">填报人：</span>\r\n              <span class=\"value\">{{ item.updateusername }}</span>\r\n            </div>\r\n            <div v-if=\"item.stime\" class=\"content\">\r\n              <span class=\"name\">填报时间：</span>\r\n              <span class=\"value\">{{ formatISO8601Time(item.stime) }}</span>\r\n            </div>\r\n            <div v-if=\"item.updatetime\" class=\"content\">\r\n              <span class=\"name\">完成时间：</span>\r\n              <span class=\"value\">{{ formatISO8601Time(item.updatetime) }}</span>\r\n            </div>\r\n            <div class=\"content\" style=\"text-align: center;\">\r\n              <van-button class=\"button\" type=\"primary\" size=\"small\" @click.stop=\"previewPic(item)\"\r\n                >举牌照片</van-button\r\n              >\r\n              <van-button\r\n                style=\"margin-left:10px\"\r\n                class=\"button\"\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                @click.stop=\"previewPdf(item)\"\r\n                >PDF</van-button\r\n              >\r\n              <van-button\r\n                style=\"margin-left:10px\"\r\n                class=\"button\"\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                @click.stop=\"previewPic(item, 'testurl')\"\r\n                >审核照片</van-button\r\n              >\r\n              <van-button\r\n                style=\"margin-left:10px\"\r\n                class=\"button\"\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                @click.stop=\"previewPdf(item, 'standbyrecode')\"\r\n                >审核PDF</van-button\r\n              >\r\n            </div>\r\n            <div class=\"operate center-in-vertical\">\r\n              <img v-if=\"item.checkresult === 3\" :src=\"require(`assets/image/待审核.png`)\" />\r\n              <img v-if=\"item.checkresult === 1\" :src=\"require(`assets/image/已通过.png`)\" />\r\n              <img v-if=\"item.checkresult === 2\" :src=\"require(`assets/image/已驳回.png`)\" />\r\n            </div>\r\n          </div>\r\n        </van-list>\r\n      </van-tab>\r\n    </van-tabs>\r\n\r\n    <PdfPreview ref=\"pdfPreview\"></PdfPreview>\r\n    <van-dialog v-model=\"show\" :closeOnClickOverlay=\"true\" :showConfirmButton=\"false\">\r\n      <van-form @submit=\"onSubmit\" :v-model=\"editData\" class=\"common-card\">\r\n        <upload label=\"举牌照片\" name=\"testurl\"></upload>\r\n        <upload\r\n          diyButton=\"点击选择PDF\"\r\n          :max-count=\"1\"\r\n          accept=\"application/pdf\"\r\n          label=\"PDF\"\r\n          name=\"standbyrecode\"\r\n        ></upload>\r\n        <van-field name=\"result\" label=\"审核状态\">\r\n          <template #input>\r\n            <van-radio-group v-model=\"checked\" direction=\"horizontal\">\r\n              <van-radio name=\"1\">通过</van-radio>\r\n              <van-radio name=\"2\">驳回</van-radio>\r\n            </van-radio-group>\r\n          </template>\r\n        </van-field>\r\n        <!-- <van-field label=\"通知全资\">\r\n          <template #input>\r\n            <div class=\"people\">\r\n              <span v-for=\"item in QZ\" :key=\"item.id\">{{ item.name }}</span>\r\n            </div>\r\n          </template>\r\n        </van-field>\r\n        <van-field label=\"通知建设集团\">\r\n          <template #input>\r\n            <div class=\"people\">\r\n              <span v-for=\"item in JSDW\" :key=\"item.id\">{{ item.name }}</span>\r\n            </div>\r\n          </template>\r\n        </van-field> -->\r\n        <div style=\"margin: 16px\">\r\n          <van-button round block type=\"info\" native-type=\"submit\">提交</van-button>\r\n        </div>\r\n      </van-form>\r\n    </van-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Upload from '@/components/common/Upload'\r\nimport { formatISO8601Time } from '@/utils/index'\r\nimport { getAgency, check, getAllcheckData, getConAndReferPerson } from '@/api/project.js'\r\nimport PdfPreview from '@/components/PdfPreview'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  components: {\r\n    PdfPreview,\r\n    Upload\r\n  },\r\n  data() {\r\n    return {\r\n      list: [],\r\n      finished: false,\r\n      formatISO8601Time,\r\n      pdfUrl: '',\r\n      showPdf: false,\r\n      pdfHeight: 0,\r\n      recordList: [],\r\n      recordFinished: false,\r\n      show: false,\r\n      editData: { testurl: '', standbyrecode: '' },\r\n      currentItem: null,\r\n      checked: '1',\r\n      copyUsers: [],\r\n      QZ: [],\r\n      JSDW: []\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currentBiaoDuan']),\r\n    scrollerHeight: function() {\r\n      return window.innerHeight - 146 + 'px'\r\n    }\r\n  },\r\n  created() {},\r\n  methods: {\r\n    onLoad() {\r\n      let that = this\r\n      getAgency({ projectId: this.$store.state.currentBiaoDuan.id }).then(data => {\r\n        that.list = data\r\n        that.finished = true\r\n      })\r\n      this.getPerson()\r\n    },\r\n    itemClick(item) {\r\n      this.currentItem = item\r\n      this.show = true\r\n    },\r\n    onSubmit(values) {\r\n      let params = { recondid: this.currentItem.recodeid, result: parseInt(values.result) }\r\n      let temp = []\r\n      values.testurl.forEach(item => {\r\n        item.url && temp.push(item.url)\r\n      })\r\n      if (values.testurl.length !== temp.length) {\r\n        return this.$notify({ type: 'warning', message: '请上传举牌照片或等待照片上传完成！' })\r\n      }\r\n      params.testurl = temp.join(',')\r\n\r\n      let _temp = []\r\n      values.standbyrecode.forEach(item => {\r\n        item.url && _temp.push(item.url)\r\n      })\r\n      if (values.standbyrecode.length !== _temp.length) {\r\n        return this.$notify({ type: 'warning', message: '请等待PDF上传完成！' })\r\n      }\r\n      params.standbyrecode = _temp.join(',')\r\n      params.copyUsers = this.copyUsers.join(',')\r\n      console.log(params)\r\n      check(params).then(data => {\r\n        this.$notify({\r\n          message: '审核成功',\r\n          type: 'success'\r\n        })\r\n        this.$store.dispatch('getRealtimeMessage')\r\n        this.show = false\r\n        this.onLoad()\r\n        this.onRecordLoad()\r\n      })\r\n    },\r\n    onRecordLoad() {\r\n      let that = this\r\n      getAllcheckData({ type: 1 }).then(data => {\r\n        let temp = []\r\n        data = data || []\r\n        data.forEach(item => {\r\n          if (item.checkresult !== 3 && item.checkresult !== 0 && item.checkresult !== null) {\r\n            temp.push(item)\r\n          }\r\n        })\r\n        that.recordList = temp\r\n        that.recordFinished = true\r\n      })\r\n    },\r\n    recordItemClick(item) {\r\n      this.$refs['pdfPreview'].show(item.recodeid)\r\n    },\r\n    previewPic(item, field) {\r\n      this.$refs['pdfPreview'].showPic(item.recodeid, field)\r\n    },\r\n    previewPdf(item, field) {\r\n      this.$refs['pdfPreview'].show(item.recodeid, field)\r\n    },\r\n    getPerson() {\r\n      getConAndReferPerson({ projectId: this.currentBiaoDuan.id }).then(data => {\r\n        this.QZ = data.QZ || []\r\n        this.JSDW = data.JSDW || []\r\n        data.QZ.forEach(item => {\r\n          this.copyUsers.push(item.id)\r\n        })\r\n        data.JSDW.forEach(item => {\r\n          this.copyUsers.push(item.id)\r\n        })\r\n        console.log(this.copyUsers)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.process-audit {\r\n  height: 100%;\r\n  overflow-y: auto;\r\n}\r\n.people {\r\n  span {\r\n    display: inline-block;\r\n    padding: 2px 6px;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"}]}