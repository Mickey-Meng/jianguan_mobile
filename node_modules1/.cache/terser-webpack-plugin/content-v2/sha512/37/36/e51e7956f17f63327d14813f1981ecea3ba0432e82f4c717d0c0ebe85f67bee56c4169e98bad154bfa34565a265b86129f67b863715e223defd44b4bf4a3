{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2e9295ef\"],{\"06c5\":function(t,e,i){\"use strict\";i.d(e,\"a\",(function(){return n}));i(\"fb6a\"),i(\"d3b7\"),i(\"b0c0\"),i(\"a630\"),i(\"3ca3\"),i(\"ac1f\"),i(\"00b4\");var a=i(\"6b75\");function n(t,e){if(t){if(\"string\"===typeof t)return Object(a[\"a\"])(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===i&&t.constructor&&(i=t.constructor.name),\"Map\"===i||\"Set\"===i?Array.from(t):\"Arguments\"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(a[\"a\"])(t,e):void 0}}},2909:function(t,e,i){\"use strict\";i.d(e,\"a\",(function(){return o}));var a=i(\"6b75\");function n(t){if(Array.isArray(t))return Object(a[\"a\"])(t)}i(\"a4d3\"),i(\"e01a\"),i(\"d3b7\"),i(\"d28b\"),i(\"3ca3\"),i(\"ddb0\"),i(\"a630\");function r(t){if(\"undefined\"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}var l=i(\"06c5\");i(\"d9e2\");function s(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function o(t){return n(t)||r(t)||Object(l[\"a\"])(t)||s()}},5530:function(t,e,i){\"use strict\";i.d(e,\"a\",(function(){return r}));i(\"b64b\"),i(\"a4d3\"),i(\"4de4\"),i(\"d3b7\"),i(\"e439\"),i(\"14d9\"),i(\"159b\"),i(\"dbb4\");var a=i(\"ade3\");function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){Object(a[\"a\"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}},\"5ac8\":function(t,e,i){\"use strict\";i(\"a200\")},\"5f58\":function(t,e,i){\"use strict\";i.r(e);var a=function(){var t=this,e=t._self._c;return e(\"div\",{staticClass:\"form-content\"},[e(\"el-form\",{ref:\"form\",attrs:{\"label-width\":\"80px\"}},[e(\"div\",{staticClass:\"form-title\"},[e(\"div\",{staticClass:\"title-big-bar\"}),e(\"strong\",[t._v(\"施工技术交底-浙公路（JL）011\")])]),e(\"div\",{staticClass:\"form-block\"},[e(\"div\",{staticClass:\"form-block-title\"},[e(\"div\",{staticClass:\"title-bar\"}),e(\"strong\",[t._v(\"基本信息\")])]),e(\"div\",{staticClass:\"block-line\"},[e(\"div\",{staticClass:\"block-item\"},[e(\"div\",{staticClass:\"block-item-label\"},[t._v(\"施工标段\")]),e(\"div\",{staticClass:\"block-item-value\"},[t._v(\" \"+t._s(t.baseInfo.buildSectionName)+\" \")])])]),e(\"div\",{staticClass:\"block-line\"},[e(\"div\",{staticClass:\"block-item\"},[e(\"div\",{staticClass:\"block-item-label\"},[t._v(\"登记时间\")]),e(\"div\",{staticClass:\"block-item-value\"},[t._v(\" \"+t._s(t.baseInfo.contractCode)+\" \")])])]),e(\"div\",{staticClass:\"block-line\"},[e(\"div\",{staticClass:\"block-item\"},[e(\"div\",{staticClass:\"block-item-label\"},[t._v(\"工程名称\")]),e(\"div\",{staticClass:\"block-item-value\"},[t._v(\" \"+t._s(t.baseInfo.buildCompany)+\" \")])])]),e(\"div\",{staticClass:\"block-line\"},[e(\"div\",{staticClass:\"block-item\"},[e(\"div\",{staticClass:\"block-item-label\"},[t._v(\"施工单位\")]),e(\"div\",{staticClass:\"block-item-value\"},[t._v(\" \"+t._s(t.baseInfo.supervisionUnit)+\" \")])])]),e(\"div\",{staticClass:\"block-line\"},[e(\"div\",{staticClass:\"block-item\"},[e(\"div\",{staticClass:\"block-item-label\"},[t._v(\"施工技术交底概述\")]),e(\"div\",{staticClass:\"block-item-value\"},[t._v(\" \"+t._s(t.formData.buildTechBottom)+\" \")])])]),e(\"div\",{staticClass:\"block-line\"},[e(\"div\",{staticClass:\"block-item\"},[e(\"div\",{staticClass:\"block-item-label\"},[t._v(\"备注\")]),e(\"div\",{staticClass:\"block-item-value\"},[t._v(\" \"+t._s(t.formData.remark)+\" \")])])])]),e(\"div\",{staticClass:\"form-block\"},[e(\"div\",{staticClass:\"form-block-title\"},[e(\"div\",{staticClass:\"title-bar\"}),e(\"strong\",[t._v(\"附件清单\")])]),e(\"div\",{staticClass:\"block-line\"},[e(\"div\",{staticClass:\"block-table-title\"})]),e(\"attachlist\",{ref:\"attachlist\",attrs:{editAble:!1,attachTable:t.attachTable}})],1)])],1)},n=[],r=i(\"015e\"),l=i(\"6be8\"),s=i(\"7038\"),o={props:[\"detailRow\"],data:function(){return{baseInfo:{buildSection:1,buildSectionName:\"235国道杭州至诸暨公路萧山河上至诸暨安华段改建工程\",contractCode:\"235SJSG01\",buildCompany:\"中交上海航道局有限公司、中国交通建设股份有限公司、浙江诸安建设集团有限公司、浙江省交通规划设计研究院有限公司\",supervisionUnit:\"浙江交科公路水运工程监理有限公司\"},formData:{attachment:[],buildCheckselfResult:\"\",deletedFlag:1,draftFlag:1,remark:\"\",buildTechBottom:\"\",id:null,projectBuildUser:1,projectChargeUser:1,projectCode:\"\",projectId:1,qualityCheckUser:1,subProject:\"\",supervisorEngineerUser:1,supervisorUser:1,unit:\"\"},attachTable:[]}},created:function(){},components:{attachlist:s[\"a\"]},computed:{},mounted:function(){var t=this;setTimeout((function(){var e=Object(l[\"j\"])();e[\"processDefinitionId\"]&&(t.dialogFormVisible=!0,e[\"id\"]=e[\"businessKey\"],t.taskInfo=e,t.getDetail(e[\"businessKey\"]))}),500)},watch:{detailRow:function(t){t[\"id\"]&&this.getDetail(t[\"id\"])}},methods:{getDetail:function(t){var e=this;r[\"E\"]({id:t}).then((function(t){var i=t[\"data\"]||{};e.formData=i,e.attachTable=i.attachment||[]}))}}},c=o,u=(i(\"b8f0\"),i(\"2877\")),d=Object(u[\"a\"])(c,a,n,!1,null,\"55420be2\",null);e[\"default\"]=d.exports},\"6b75\":function(t,e,i){\"use strict\";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}i.d(e,\"a\",(function(){return a}))},\"6be8\":function(t,e,i){\"use strict\";i.d(e,\"a\",(function(){return n})),i.d(e,\"e\",(function(){return r})),i.d(e,\"d\",(function(){return l})),i.d(e,\"f\",(function(){return s})),i.d(e,\"j\",(function(){return o})),i.d(e,\"b\",(function(){return c})),i.d(e,\"c\",(function(){return u})),i.d(e,\"h\",(function(){return d})),i.d(e,\"i\",(function(){return f})),i.d(e,\"g\",(function(){return b}));var a=i(\"2909\"),n=(i(\"d3b7\"),i(\"159b\"),i(\"14d9\"),i(\"b0c0\"),i(\"e9c4\"),function(t,e,i){var a=[];return e=e||\"desc\",i=i||\"code\",t.forEach((function(t){a.push({label:t[e],value:t[i]})})),a}),r=function(t){var e=t?new Date(t):new Date,i=e.getFullYear(),a=e.getMonth()+1;a=a<10?\"0\"+a:a;var n=e.getDate();n=n<10?\"0\"+n:n;var r=e.getHours();r=r<10?\"0\"+r:r;var l=e.getMinutes(),s=e.getSeconds();return l=l<10?\"0\"+l:l,s=s<10?\"0\"+s:s,i+\"-\"+a+\"-\"+n+\"  \"+r+\":\"+l+\":\"+s},l=function(t,e){e=e||0;var i=t?new Date(t):new Date;i=new Date(i.setDate(i.getDate()+e));var a=i.getFullYear(),n=i.getMonth()+1;n=n<10?\"0\"+n:n;var r=i.getDate();r=r<10?\"0\"+r:r;var l=i.getHours();l=l<10?\"0\"+l:l;var s=i.getMinutes(),o=i.getSeconds();return s=s<10?\"0\"+s:s,o=o<10?\"0\"+o:o,a+\"-\"+n+\"-\"+r},s=function(t){var e=t?new Date(t):new Date,i=e.getFullYear(),a=e.getMonth()+1;a=a<10?\"0\"+a:a;var n=e.getDate();n=n<10?\"0\"+n:n;var r=e.getHours();r=r<10?\"0\"+r:r;var l=e.getMinutes(),s=e.getSeconds();return l=l<10?\"0\"+l:l,s=s<10?\"0\"+s:s,i+\"-\"+a},o=function(){var t=window.location.hash.split(\"?\")[1],e={};if(t)for(var i=t.split(\"&\"),a=0;a<i.length;a++){var n=i[a].split(\"=\");e[n[0]]=decodeURIComponent(n[1])}return e},c=function(t){var e=\"\",i=\"\";return t.forEach((function(t){\"sgdw\"==t[\"typecode\"]&&(e+=t[\"name\"]+\"、\"),\"jldw\"==t[\"typecode\"]&&(i+=t[\"name\"]+\"、\")})),{buildCompany:e,supervisionUnit:i}},u=function(t,e,i){var a=JSON.parse(JSON.stringify(t)),n=JSON.parse(JSON.stringify(e));i=i||[],a[0]&&i.forEach((function(t){delete a[0][t]})),n[0]&&i.forEach((function(t){delete n[0][t]}));var r=JSON.stringify(a)===JSON.stringify(n);return r},d=function(t,e){if(!t||!e)return\"\";var i=Date.parse(t),a=Date.parse(e);return i>a?0:i===a?1:parseInt((a-i)/864e5)},f=function(t,e){t=t||[];var i=\"\";return t.forEach((function(t){t[\"value\"]==e&&(i=t[\"label\"])})),i},b=function t(e,i,n){n||(n=[]);for(var r=0;r<e.length;r++){var l=Object(a[\"a\"])(n);if(l.push(e[r].name),e[r].id===i)return l;if(e[r].child){var s=t(e[r].child,i,l);if(s)return s}}}},7038:function(t,e,i){\"use strict\";var a=function(){var t=this,e=t._self._c;return e(\"div\",[t.editAble?e(\"div\",{staticClass:\"block-line\"},[e(\"el-upload\",{ref:\"upload\",staticClass:\"upload-demo\",attrs:{action:\"\",limit:1,\"show-file-list\":!1,accept:t.accept,\"http-request\":t.importFile}},[e(\"el-button\",{attrs:{size:\"small\",type:\"primary\"}},[t._v(\"点击上传\")])],1)],1):t._e(),e(\"div\",{staticClass:\"block-table\",staticStyle:{background:\"rgba(0,0,0,0)\"}},[e(\"el-table\",{staticClass:\"have_scrolling\",staticStyle:{width:\"100%\"},attrs:{data:t.attachTable,border:\"\"}},[e(\"el-table-column\",{attrs:{type:\"index\",width:\"50\",align:\"center\",label:\"序号\"}}),e(\"el-table-column\",{attrs:{prop:\"fileName\",align:\"center\",label:\"附件\",\"show-overflow-tooltip\":\"\"}}),e(\"el-table-column\",{attrs:{prop:\"uploadTime\",width:\"160px\",align:\"center\",label:\"上传日期\"}}),e(\"el-table-column\",{attrs:{prop:\"creatorName\",width:\"120px\",align:\"center\",label:\"上传人\"}}),e(\"el-table-column\",{attrs:{width:\"120\",align:\"center\",label:\"操作\"},scopedSlots:t._u([{key:\"default\",fn:function(i){var a=i.row,n=i.$index;return[e(\"el-button\",{attrs:{type:\"text\",size:\"mini\"},on:{click:function(e){return t.reviewAttach(a,n)}}},[t._v(\"预览\")]),t.editAble?e(\"el-button\",{attrs:{type:\"text\",size:\"mini\"},on:{click:function(e){return t.deleteAttach(a,n)}}},[t._v(\"删除\")]):t._e()]}}])})],1)],1),e(\"PdfPreview\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"pdf\"==t.viewFileType,expression:\"viewFileType=='pdf'\"}],ref:\"pdfPreview\"}),e(\"el-dialog\",{attrs:{title:\"预览\",visible:t.viewFileVisible,fullscreen:!0,width:\"100%\",height:\"100%\",modal:!1},on:{\"update:visible\":function(e){t.viewFileVisible=e}}},[e(\"img\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"img\"==t.viewFileType,expression:\"viewFileType=='img'\"}],staticStyle:{width:\"100%\",height:\"100%\"},attrs:{src:t.viewFileUrl}}),e(\"video\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"mp4\"==t.viewFileType,expression:\"viewFileType=='mp4'\"}],staticStyle:{width:\"100%\",height:\"100%\"},attrs:{src:t.viewFileUrl,controls:\"\"}}),e(\"video\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"mov\"==t.viewFileType,expression:\"viewFileType=='mov'\"}],staticStyle:{width:\"100%\",height:\"100%\"},attrs:{src:t.viewFileUrl,controls:\"\"}})])],1)},n=[],r=i(\"5530\"),l=(i(\"a434\"),i(\"14d9\"),i(\"b0c0\"),i(\"2f62\")),s=i(\"015e\"),o=i(\"24d2\"),c=i(\"ed08\"),u=i(\"6be8\"),d=i(\"5c96\"),f=i(\"a79c\"),b={props:[\"attachTable\",\"editAble\",\"acceptList\"],components:{PdfPreview:f[\"a\"]},data:function(){return{viewFileType:\"\",viewFileUrl:\"\",viewFileVisible:!1,accept:this.acceptList||\"image/*|video/*\"}},computed:Object(r[\"a\"])({},Object(l[\"b\"])([\"userInfo\",\"name\",\"project\",\"roleId\",\"getUrl\"])),methods:{downloadAttach:function(t,e){s[\"downloadFile\"]({fileid:t[\"fileId\"]})},reviewAttach:function(t,e){var i=this,a=\"\";(t.fileName.indexOf(\".png\")>-1||t.fileName.indexOf(\".jpg\")>-1)&&(a=\"img\"),t.fileName.indexOf(\".mp4\")>-1&&(a=\"mp4\"),(t.fileName.indexOf(\".mov\")>-1||t.fileName.indexOf(\".MOV\")>-1)&&(a=\"mov\"),t.fileName.indexOf(\".pdf\")>-1&&(a=\"pdf\"),this.viewFileType=a,this.viewFileUrl=Object(c[\"g\"])(t.fileId),\"pdf\"==a?setTimeout((function(){i.$refs[\"pdfPreview\"].show_otherPDF(t.fileId)}),300):this.viewFileVisible=!0},deleteAttach:function(t,e){var i=this;d[\"MessageBox\"].confirm(\"确认是否删除?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){i.attachTable.splice(e,1)}))},afterUp:function(t){this.attachTable.push({uploadTime:Object(u[\"e\"])(t[\"uploadTime\"]),fileName:t[\"fileName\"],fileId:t[\"fileId\"],creatorName:this.$store.state.userinfo.name})},importFile:function(t){var e=this,i=new FileReader;i.readAsDataURL(t.file),i.onload=function(i){var a=i.target[\"result\"].split(\"base64,\")[1];Object(o[\"tb\"])({name:t.file.name,base64:a}).then((function(i){e.$refs.upload.clearFiles();var a=Object(u[\"e\"])(new Date),n=t.file.name,r=i;e.afterUp({uploadTime:a,fileName:n,fileId:r})}))}}}},v=b,p=(i(\"5ac8\"),i(\"2877\")),m=Object(p[\"a\"])(v,a,n,!1,null,null,null);e[\"a\"]=m.exports},9666:function(t,e,i){},a200:function(t,e,i){},b8f0:function(t,e,i){\"use strict\";i(\"9666\")}}]);","extractedComments":[]}